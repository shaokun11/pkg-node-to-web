var EthSignUtils=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var n={},o={},i={},s={},a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},c=[],u=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,l=!1;function h(){l=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0;t<64;++t)c[t]=e[t],u[e.charCodeAt(t)]=t;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function d(e,t,r){for(var n,o,i=[],s=t;s<r;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],i.push(c[(o=n)>>18&63]+c[o>>12&63]+c[o>>6&63]+c[63&o]);return i.join("")}function p(e){var t;l||h();for(var r=e.length,n=r%3,o="",i=[],s=16383,a=0,u=r-n;a<u;a+=s)i.push(d(e,a,a+s>u?u:a+s));return 1===n?(t=e[r-1],o+=c[t>>2],o+=c[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=c[t>>10],o+=c[t>>4&63],o+=c[t<<2&63],o+="="),i.push(o),i.join("")}function g(e,t,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,u=c>>1,f=-7,l=r?o-1:0,h=r?-1:1,d=e[t+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=h,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),i-=u}return(d?-1:1)*s*Math.pow(2,i-n)}function y(e,t,r,n,o,i){var s,a,c,u=8*i-o-1,f=(1<<u)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*c-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[r+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[r+d]=255&s,d+=p,s/=256,u-=8);e[r+d-p]|=128*g}var b={}.toString,m=Array.isArray||function(e){return"[object Array]"==b.call(e)};E.TYPED_ARRAY_SUPPORT=void 0===a.TYPED_ARRAY_SUPPORT||a.TYPED_ARRAY_SUPPORT;var v=w();function w(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function _(e,t){if(w()<t)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=E.prototype:(null===e&&(e=new E(t)),e.length=t),e}function E(e,t,r){if(!(E.TYPED_ARRAY_SUPPORT||this instanceof E))return new E(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return S(this,e)}return x(this,e,t,r)}function x(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);E.TYPED_ARRAY_SUPPORT?(e=t).__proto__=E.prototype:e=T(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!E.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|I(t,r);e=_(e,n);var o=e.write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(R(t)){var r=0|B(t.length);return 0===(e=_(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?_(e,0):T(e,t);if("Buffer"===t.type&&m(t.data))return T(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function A(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function S(e,t){if(A(t),e=_(e,t<0?0:0|B(t)),!E.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function T(e,t){var r=t.length<0?0:0|B(t.length);e=_(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function B(e){if(e>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return 0|e}function R(e){return!(null==e||!e._isBuffer)}function I(e,t){if(R(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return re(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return ne(e).length;default:if(n)return re(e).length;t=(""+t).toLowerCase(),n=!0}}function k(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return q(this,t,r);case"utf8":case"utf-8":return D(this,t,r);case"ascii":return z(this,t,r);case"latin1":case"binary":return V(this,t,r);case"base64":return H(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function O(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function L(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=E.from(t,n)),R(t))return 0===t.length?-1:C(e,t,r,n,o);if("number"==typeof t)return t&=255,E.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):C(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function C(e,t,r,n,o){var i,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var f=-1;for(i=r;i<a;i++)if(u(e,i)===u(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){for(var l=!0,h=0;h<c;h++)if(u(e,i+h)!==u(t,h)){l=!1;break}if(l)return i}return-1}function P(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function N(e,t,r,n){return oe(re(t,e.length-r),e,r,n)}function U(e,t,r,n){return oe(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function M(e,t,r,n){return U(e,t,r,n)}function $(e,t,r,n){return oe(ne(t),e,r,n)}function j(e,t,r,n){return oe(function(e,t){for(var r,n,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function H(e,t,r){return 0===t&&r===e.length?p(e):p(e.slice(t,r))}function D(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,c,u=e[o],f=null,l=u>239?4:u>223?3:u>191?2:1;if(o+l<=r)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(f=c);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=l}return function(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=F));return r}(n)}E.poolSize=8192,E._augment=function(e){return e.__proto__=E.prototype,e},E.from=function(e,t,r){return x(null,e,t,r)},E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&E[Symbol.species]),E.alloc=function(e,t,r){return function(e,t,r,n){return A(t),t<=0?_(e,t):void 0!==r?"string"==typeof n?_(e,t).fill(r,n):_(e,t).fill(r):_(e,t)}(null,e,t,r)},E.allocUnsafe=function(e){return S(null,e)},E.allocUnsafeSlow=function(e){return S(null,e)},E.isBuffer=ie,E.compare=function(e,t){if(!R(e)||!R(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},E.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(e,t){if(!m(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return E.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=E.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!R(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},E.byteLength=I,E.prototype._isBuffer=!0,E.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)O(this,t,t+1);return this},E.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)O(this,t,t+3),O(this,t+1,t+2);return this},E.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)O(this,t,t+7),O(this,t+1,t+6),O(this,t+2,t+5),O(this,t+3,t+4);return this},E.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):k.apply(this,arguments)},E.prototype.equals=function(e){if(!R(e))throw new TypeError("Argument must be a Buffer");return this===e||0===E.compare(this,e)},E.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},E.prototype.compare=function(e,t,r,n,o){if(!R(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(n,o),u=e.slice(t,r),f=0;f<a;++f)if(c[f]!==u[f]){i=c[f],s=u[f];break}return i<s?-1:s<i?1:0},E.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},E.prototype.indexOf=function(e,t,r){return L(this,e,t,r,!0)},E.prototype.lastIndexOf=function(e,t,r){return L(this,e,t,r,!1)},E.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return P(this,e,t,r);case"utf8":case"utf-8":return N(this,e,t,r);case"ascii":return U(this,e,t,r);case"latin1":case"binary":return M(this,e,t,r);case"base64":return $(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function z(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function V(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function q(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=te(e[i]);return o}function K(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function Z(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function G(e,t,r,n,o,i){if(!R(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function W(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function J(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function Y(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function X(e,t,r,n,o){return o||Y(e,0,r,4),y(e,t,r,n,23,4),r+4}function Q(e,t,r,n,o){return o||Y(e,0,r,8),y(e,t,r,n,52,8),r+8}E.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),E.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=E.prototype;else{var o=t-e;r=new E(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},E.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||Z(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},E.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||Z(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},E.prototype.readUInt8=function(e,t){return t||Z(e,1,this.length),this[e]},E.prototype.readUInt16LE=function(e,t){return t||Z(e,2,this.length),this[e]|this[e+1]<<8},E.prototype.readUInt16BE=function(e,t){return t||Z(e,2,this.length),this[e]<<8|this[e+1]},E.prototype.readUInt32LE=function(e,t){return t||Z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},E.prototype.readUInt32BE=function(e,t){return t||Z(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},E.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||Z(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},E.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||Z(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},E.prototype.readInt8=function(e,t){return t||Z(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},E.prototype.readInt16LE=function(e,t){t||Z(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},E.prototype.readInt16BE=function(e,t){t||Z(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},E.prototype.readInt32LE=function(e,t){return t||Z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},E.prototype.readInt32BE=function(e,t){return t||Z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},E.prototype.readFloatLE=function(e,t){return t||Z(e,4,this.length),g(this,e,!0,23,4)},E.prototype.readFloatBE=function(e,t){return t||Z(e,4,this.length),g(this,e,!1,23,4)},E.prototype.readDoubleLE=function(e,t){return t||Z(e,8,this.length),g(this,e,!0,52,8)},E.prototype.readDoubleBE=function(e,t){return t||Z(e,8,this.length),g(this,e,!1,52,8)},E.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||G(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},E.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||G(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},E.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,1,255,0),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},E.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):W(this,e,t,!0),t+2},E.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):W(this,e,t,!1),t+2},E.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):J(this,e,t,!0),t+4},E.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):J(this,e,t,!1),t+4},E.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);G(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},E.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);G(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},E.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,1,127,-128),E.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},E.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):W(this,e,t,!0),t+2},E.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):W(this,e,t,!1),t+2},E.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):J(this,e,t,!0),t+4},E.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||G(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),E.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):J(this,e,t,!1),t+4},E.prototype.writeFloatLE=function(e,t,r){return X(this,e,t,!0,r)},E.prototype.writeFloatBE=function(e,t,r){return X(this,e,t,!1,r)},E.prototype.writeDoubleLE=function(e,t,r){return Q(this,e,t,!0,r)},E.prototype.writeDoubleBE=function(e,t,r){return Q(this,e,t,!1,r)},E.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!E.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},E.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!E.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=R(e)?e:re(new E(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var ee=/[^+\/0-9A-Za-z-_]/g;function te(e){return e<16?"0"+e.toString(16):e.toString(16)}function re(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function ne(e){return function(e){var t,r,n,o,i,s;l||h();var a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[a-2]?2:"="===e[a-1]?1:0,s=new f(3*a/4-i),n=i>0?a-4:a;var c=0;for(t=0,r=0;t<n;t+=4,r+=3)o=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===i?(o=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,s[c++]=255&o):1===i&&(o=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(ee,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function oe(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function ie(e){return null!=e&&(!!e._isBuffer||se(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&se(e.slice(0,0))}(e))}function se(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var ae=r(Object.freeze({__proto__:null,Buffer:E,INSPECT_MAX_BYTES:50,SlowBuffer:function(e){return+e!=e&&(e=0),E.alloc(+e)},isBuffer:ie,kMaxLength:v})),ce={},ue={},fe={},le={},he={};function de(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function pe(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function ge(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ye(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");de(e.outputLen),de(e.blockLen)}function be(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function me(e,t){ge(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(he,"__esModule",{value:!0}),he.output=he.exists=he.hash=he.bytes=he.bool=he.number=void 0,he.number=de,he.bool=pe,he.bytes=ge,he.hash=ye,he.exists=be,he.output=me;const ve={number:de,bool:pe,bytes:ge,hash:ye,exists:be,output:me};he.default=ve;var we={},_e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.crypto=void 0,_e.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=_e,r=e=>e instanceof Uint8Array;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.rotr=(e,t)=>e<<32-t|e>>>t,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.bytesToHex=function(e){if(!r(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,o=e.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[t]=i}return r};function o(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function i(e){if("string"==typeof e&&(e=o(e)),!r(e))throw new Error("expected Uint8Array, got "+typeof e);return e}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let o=Date.now();for(let i=0;i<t;i++){n(i);const t=Date.now()-o;t>=0&&t<r||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=o,e.toBytes=i,e.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!r(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new Error("Options should be object or undefined");var r;return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(i(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(i(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(i(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}(we),Object.defineProperty(le,"__esModule",{value:!0}),le.SHA2=void 0;const Ee=he,xe=we;le.SHA2=class extends xe.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,xe.createView)(this.buffer)}update(e){Ee.default.exists(this);const{view:t,buffer:r,blockLen:n}=this,o=(e=(0,xe.toBytes)(e)).length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s!==n)r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=(0,xe.createView)(e);for(;n<=o-i;i+=n)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ee.default.exists(this),Ee.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:o}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let e=i;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),o),this.process(r,0);const s=(0,xe.createView)(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return e.length=n,e.pos=s,e.finished=o,e.destroyed=i,n%t&&e.buffer.set(r),e}},Object.defineProperty(fe,"__esModule",{value:!0}),fe.sha224=fe.sha256=void 0;const Ae=le,Se=we,Te=(e,t,r)=>e&t^e&r^t&r,Be=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Re=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ie=new Uint32Array(64);class ke extends Ae.SHA2{constructor(){super(64,32,8,!1),this.A=0|Re[0],this.B=0|Re[1],this.C=0|Re[2],this.D=0|Re[3],this.E=0|Re[4],this.F=0|Re[5],this.G=0|Re[6],this.H=0|Re[7]}get(){const{A:e,B:t,C:r,D:n,E:o,F:i,G:s,H:a}=this;return[e,t,r,n,o,i,s,a]}set(e,t,r,n,o,i,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)Ie[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Ie[e-15],r=Ie[e-2],n=(0,Se.rotr)(t,7)^(0,Se.rotr)(t,18)^t>>>3,o=(0,Se.rotr)(r,17)^(0,Se.rotr)(r,19)^r>>>10;Ie[e]=o+Ie[e-7]+n+Ie[e-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+((0,Se.rotr)(s,6)^(0,Se.rotr)(s,11)^(0,Se.rotr)(s,25))+((f=s)&a^~f&c)+Be[e]+Ie[e]|0,l=((0,Se.rotr)(r,2)^(0,Se.rotr)(r,13)^(0,Se.rotr)(r,22))+Te(r,n,o)|0;u=c,c=a,a=s,s=i+t|0,i=o,o=n,n=r,r=t+l|0}var f;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,o,i,s,a,c,u)}roundClean(){Ie.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Oe extends ke{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}fe.sha256=(0,Se.wrapConstructor)((()=>new ke)),fe.sha224=(0,Se.wrapConstructor)((()=>new Oe));var Le={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.validateObject=Ce.createHmacDrbg=Ce.bitMask=Ce.bitSet=Ce.bitGet=Ce.bitLen=Ce.utf8ToBytes=Ce.equalBytes=Ce.concatBytes=Ce.ensureBytes=Ce.numberToVarBytesBE=Ce.numberToBytesLE=Ce.numberToBytesBE=Ce.bytesToNumberLE=Ce.bytesToNumberBE=Ce.hexToBytes=Ce.hexToNumber=Ce.numberToHexUnpadded=Ce.bytesToHex=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Pe=BigInt(0),Ne=BigInt(1),Ue=BigInt(2),Me=e=>e instanceof Uint8Array,$e=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function je(e){if(!Me(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=$e[e[r]];return t}function He(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function De(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function Fe(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,o=e.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[t]=i}return r}function ze(e,t){return Fe(e.toString(16).padStart(2*t,"0"))}function Ve(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Me(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}Ce.bytesToHex=je,Ce.numberToHexUnpadded=He,Ce.hexToNumber=De,Ce.hexToBytes=Fe,Ce.bytesToNumberBE=function(e){return De(je(e))},Ce.bytesToNumberLE=function(e){if(!Me(e))throw new Error("Uint8Array expected");return De(je(Uint8Array.from(e).reverse()))},Ce.numberToBytesBE=ze,Ce.numberToBytesLE=function(e,t){return ze(e,t).reverse()},Ce.numberToVarBytesBE=function(e){return Fe(He(e))},Ce.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=Fe(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!Me(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(`${e} expected ${r} bytes, got ${o}`);return n},Ce.concatBytes=Ve,Ce.equalBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},Ce.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},Ce.bitLen=function(e){let t;for(t=0;e>Pe;e>>=Ne,t+=1);return t},Ce.bitGet=function(e,t){return e>>BigInt(t)&Ne};Ce.bitSet=(e,t,r)=>e|(r?Ne:Pe)<<BigInt(t);Ce.bitMask=e=>(Ue<<BigInt(e-1))-Ne;const qe=e=>new Uint8Array(e),Ke=e=>Uint8Array.from(e);Ce.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=qe(e),o=qe(e),i=0;const s=()=>{n.fill(1),o.fill(0),i=0},a=(...e)=>r(o,n,...e),c=(e=qe())=>{o=a(Ke([0]),e),n=a(),0!==e.length&&(o=a(Ke([1]),e),n=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return Ve(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}};const Ze={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};Ce.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const o=Ze[r];if("function"!=typeof o)throw new Error(`Invalid validator "${r}", expected function`);const i=e[t];if(!(n&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e},Object.defineProperty(Le,"__esModule",{value:!0}),Le.hashToPrivateScalar=Le.FpSqrtEven=Le.FpSqrtOdd=Le.Field=Le.nLength=Le.FpIsSquare=Le.FpDiv=Le.FpInvertBatch=Le.FpPow=Le.validateField=Le.isNegativeLE=Le.FpSqrt=Le.tonelliShanks=Le.invert=Le.pow2=Le.pow=Le.mod=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ge=Ce,We=BigInt(0),Je=BigInt(1),Ye=BigInt(2),Xe=BigInt(3),Qe=BigInt(4),et=BigInt(5),tt=BigInt(8);function rt(e,t){const r=e%t;return r>=We?r:t+r}function nt(e,t,r){if(r<=We||t<We)throw new Error("Expected power/modulo > 0");if(r===Je)return We;let n=Je;for(;t>We;)t&Je&&(n=n*e%r),e=e*e%r,t>>=Je;return n}function ot(e,t){if(e===We||t<=We)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=rt(e,t),n=t,o=We,i=Je;for(;r!==We;){const e=n%r,t=o-i*(n/r);n=r,r=e,o=i,i=t}if(n!==Je)throw new Error("invert: does not exist");return rt(o,t)}function it(e){const t=(e-Je)/Ye;let r,n,o;for(r=e-Je,n=0;r%Ye===We;r/=Ye,n++);for(o=Ye;o<e&&nt(o,t,e)!==e-Je;o++);if(1===n){const t=(e+Je)/Qe;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const i=(r+Je)/Ye;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,o),r),u=e.pow(s,i),f=e.pow(s,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,Je<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),f=e.mul(f,c),a=t}return u}}function st(e){if(e%Qe===Xe){const t=(e+Je)/Qe;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%tt===et){const t=(e-et)/tt;return function(e,r){const n=e.mul(r,Ye),o=e.pow(n,t),i=e.mul(r,o),s=e.mul(e.mul(i,Ye),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return it(e)}BigInt(9),BigInt(16),Le.mod=rt,Le.pow=nt,Le.pow2=function(e,t,r){let n=e;for(;t-- >We;)n*=n,n%=r;return n},Le.invert=ot,Le.tonelliShanks=it,Le.FpSqrt=st;Le.isNegativeLE=(e,t)=>(rt(e,t)&Je)===Je;const at=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ct(e,t,r){if(r<We)throw new Error("Expected power > 0");if(r===We)return e.ONE;if(r===Je)return t;let n=e.ONE,o=t;for(;r>We;)r&Je&&(n=e.mul(n,o)),o=e.sqr(o),r>>=Je;return n}function ut(e,t){const r=new Array(t.length),n=t.reduce(((t,n,o)=>e.is0(n)?t:(r[o]=t,e.mul(t,n))),e.ONE),o=e.inv(n);return t.reduceRight(((t,n,o)=>e.is0(n)?t:(r[o]=e.mul(t,r[o]),e.mul(t,n))),o),r}function ft(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}Le.validateField=function(e){const t=at.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Ge.validateObject)(e,t)},Le.FpPow=ct,Le.FpInvertBatch=ut,Le.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?ot(r,e.ORDER):e.inv(r))},Le.FpIsSquare=function(e){const t=(e.ORDER-Je)/Ye;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},Le.nLength=ft,Le.Field=function(e,t,r=!1,n={}){if(e<=We)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=ft(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=st(e),a=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:(0,Ge.bitMask)(o),ZERO:We,ONE:Je,create:t=>rt(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return We<=t&&t<e},is0:e=>e===We,isOdd:e=>(e&Je)===Je,neg:t=>rt(-t,e),eql:(e,t)=>e===t,sqr:t=>rt(t*t,e),add:(t,r)=>rt(t+r,e),sub:(t,r)=>rt(t-r,e),mul:(t,r)=>rt(t*r,e),pow:(e,t)=>ct(a,e,t),div:(t,r)=>rt(t*ot(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ot(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>ut(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,Ge.numberToBytesLE)(e,i):(0,Ge.numberToBytesBE)(e,i),fromBytes:e=>{if(e.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${e.length}`);return r?(0,Ge.bytesToNumberLE)(e):(0,Ge.bytesToNumberBE)(e)}});return Object.freeze(a)},Le.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},Le.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},Le.hashToPrivateScalar=function(e,t,r=!1){const n=(e=(0,Ge.ensureBytes)("privateHash",e)).length,o=ft(t).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);return rt(r?(0,Ge.bytesToNumberLE)(e):(0,Ge.bytesToNumberBE)(e),t-Je)+Je};var lt={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateBasic=ht.wNAF=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const dt=Le,pt=Ce,gt=BigInt(0),yt=BigInt(1);ht.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,o=t;for(;r>gt;)r&yt&&(n=n.add(o)),o=o.double(),r>>=yt;return n},precomputeWindow(e,t){const{windows:r,windowSize:o}=n(t),i=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,i.push(a);for(let e=1;e<o;e++)a=a.add(s),i.push(a);s=a.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:a}=n(t);let c=e.ZERO,u=e.BASE;const f=BigInt(2**t-1),l=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let n=Number(i&f);i>>=h,n>a&&(n-=l,i+=yt);const s=t,d=t+Math.abs(n)-1,p=e%2!=0,g=n<0;0===n?u=u.add(r(p,o[s])):c=c.add(r(g,o[d]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,n(i))),this.wNAF(o,i,r)}}},ht.validateBasic=function(e){return(0,dt.validateField)(e.Fp),(0,pt.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,dt.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const t=Le,r=Ce,n=Ce,o=ht;const{bytesToNumberBE:i,hexToBytes:s}=r;e.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:r}=e.DER;if(t.length<2||2!==t[0])throw new r("Invalid signature integer tag");const n=t[1],o=t.subarray(2,n+2);if(!n||o.length!==n)throw new r("Invalid signature integer: wrong length");if(128&o[0])throw new r("Invalid signature integer: negative");if(0===o[0]&&!(128&o[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:i(o),l:t.subarray(n+2)}},toSig(t){const{Err:r}=e.DER,n="string"==typeof t?s(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let o=n.length;if(o<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==o-2)throw new r("Invalid signature: incorrect length");const{d:i,l:a}=e.DER._parseInt(n.subarray(2)),{d:c,l:u}=e.DER._parseInt(a);if(u.length)throw new r("Invalid signature: left bytes after parsing");return{r:i,s:c}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),o=t(r(e.r)),i=n.length/2,s=o.length/2,a=r(i),c=r(s);return`30${r(s+i+4)}02${c}${o}02${a}${n}`}};const a=BigInt(0),c=BigInt(1),u=BigInt(2),f=BigInt(3),l=BigInt(4);function h(e){const i=function(e){const t=(0,o.validateBasic)(e);r.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=t;if(n){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:s}=i,u=i.toBytes||((e,t,n)=>{const o=t.toAffine();return r.concatBytes(Uint8Array.from([4]),s.toBytes(o.x),s.toBytes(o.y))}),l=i.fromBytes||(e=>{const t=e.subarray(1);return{x:s.fromBytes(t.subarray(0,s.BYTES)),y:s.fromBytes(t.subarray(s.BYTES,2*s.BYTES))}});function h(e){const{a:t,b:r}=i,n=s.sqr(e),o=s.mul(n,e);return s.add(s.add(o,s.mul(e,t)),r)}if(!s.eql(s.sqr(i.Gy),h(i.Gx)))throw new Error("bad generator point: equation left != right");function d(e){return"bigint"==typeof e&&a<e&&e<i.n}function p(e){if(!d(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function g(e){const{allowedPrivateKeyLengths:o,nByteLength:s,wrapPrivateKey:a,n:c}=i;if(o&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=r.bytesToHex(e)),"string"!=typeof e||!o.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let u;try{u="bigint"==typeof e?e:r.bytesToNumberBE((0,n.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=t.mod(u,c)),p(u),u}const y=new Map;function b(e){if(!(e instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!s.isValid(e))throw new Error("x required");if(null==t||!s.isValid(t))throw new Error("y required");if(null==r||!s.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!s.isValid(t)||!s.isValid(r))throw new Error("invalid affine point");if(e instanceof m)throw new Error("projective point not allowed");const n=e=>s.eql(e,s.ZERO);return n(t)&&n(r)?m.ZERO:new m(t,r,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=s.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(m.fromAffine)}static fromHex(e){const t=m.fromAffine(l((0,n.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return m.BASE.multiply(g(e))}_setWindowSize(e){this._WINDOW_SIZE=e,y.delete(this)}assertValidity(){if(this.is0()){if(i.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:t}=this.toAffine();if(!s.isValid(e)||!s.isValid(t))throw new Error("bad point: x or y not FE");const r=s.sqr(t),n=h(e);if(!s.eql(r,n))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(s.isOdd)return!s.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){b(e);const{px:t,py:r,pz:n}=this,{px:o,py:i,pz:a}=e,c=s.eql(s.mul(t,a),s.mul(o,n)),u=s.eql(s.mul(r,a),s.mul(i,n));return c&&u}negate(){return new m(this.px,s.neg(this.py),this.pz)}double(){const{a:e,b:t}=i,r=s.mul(t,f),{px:n,py:o,pz:a}=this;let c=s.ZERO,u=s.ZERO,l=s.ZERO,h=s.mul(n,n),d=s.mul(o,o),p=s.mul(a,a),g=s.mul(n,o);return g=s.add(g,g),l=s.mul(n,a),l=s.add(l,l),c=s.mul(e,l),u=s.mul(r,p),u=s.add(c,u),c=s.sub(d,u),u=s.add(d,u),u=s.mul(c,u),c=s.mul(g,c),l=s.mul(r,l),p=s.mul(e,p),g=s.sub(h,p),g=s.mul(e,g),g=s.add(g,l),l=s.add(h,h),h=s.add(l,h),h=s.add(h,p),h=s.mul(h,g),u=s.add(u,h),p=s.mul(o,a),p=s.add(p,p),h=s.mul(p,g),c=s.sub(c,h),l=s.mul(p,d),l=s.add(l,l),l=s.add(l,l),new m(c,u,l)}add(e){b(e);const{px:t,py:r,pz:n}=this,{px:o,py:a,pz:c}=e;let u=s.ZERO,l=s.ZERO,h=s.ZERO;const d=i.a,p=s.mul(i.b,f);let g=s.mul(t,o),y=s.mul(r,a),v=s.mul(n,c),w=s.add(t,r),_=s.add(o,a);w=s.mul(w,_),_=s.add(g,y),w=s.sub(w,_),_=s.add(t,n);let E=s.add(o,c);return _=s.mul(_,E),E=s.add(g,v),_=s.sub(_,E),E=s.add(r,n),u=s.add(a,c),E=s.mul(E,u),u=s.add(y,v),E=s.sub(E,u),h=s.mul(d,_),u=s.mul(p,v),h=s.add(u,h),u=s.sub(y,h),h=s.add(y,h),l=s.mul(u,h),y=s.add(g,g),y=s.add(y,g),v=s.mul(d,v),_=s.mul(p,_),y=s.add(y,v),v=s.sub(g,v),v=s.mul(d,v),_=s.add(_,v),g=s.mul(y,_),l=s.add(l,g),g=s.mul(E,_),u=s.mul(w,u),u=s.sub(u,g),g=s.mul(w,y),h=s.mul(E,h),h=s.add(h,g),new m(u,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(m.ZERO)}wNAF(e){return w.wNAFCached(this,y,e,(e=>{const t=s.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(m.fromAffine)}))}multiplyUnsafe(e){const t=m.ZERO;if(e===a)return t;if(p(e),e===c)return this;const{endo:r}=i;if(!r)return w.unsafeLadder(this,e);let{k1neg:n,k1:o,k2neg:u,k2:f}=r.splitScalar(e),l=t,h=t,d=this;for(;o>a||f>a;)o&c&&(l=l.add(d)),f&c&&(h=h.add(d)),d=d.double(),o>>=c,f>>=c;return n&&(l=l.negate()),u&&(h=h.negate()),h=new m(s.mul(h.px,r.beta),h.py,h.pz),l.add(h)}multiply(e){p(e);let t,r,n=e;const{endo:o}=i;if(o){const{k1neg:e,k1:i,k2neg:a,k2:c}=o.splitScalar(n);let{p:u,f:f}=this.wNAF(i),{p:l,f:h}=this.wNAF(c);u=w.constTimeNegate(e,u),l=w.constTimeNegate(a,l),l=new m(s.mul(l.px,o.beta),l.py,l.pz),t=u.add(l),r=f.add(h)}else{const{p:e,f:o}=this.wNAF(n);t=e,r=o}return m.normalizeZ([t,r])[0]}multiplyAndAddUnsafe(e,t,r){const n=m.BASE,o=(e,t)=>t!==a&&t!==c&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,r));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:n}=this,o=this.is0();null==e&&(e=o?s.ONE:s.inv(n));const i=s.mul(t,e),a=s.mul(r,e),c=s.mul(n,e);if(o)return{x:s.ZERO,y:s.ZERO};if(!s.eql(c,s.ONE))throw new Error("invZ was invalid");return{x:i,y:a}}isTorsionFree(){const{h:e,isTorsionFree:t}=i;if(e===c)return!0;if(t)return t(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:t}=i;return e===c?this:t?t(m,this):this.multiplyUnsafe(i.h)}toRawBytes(e=!0){return this.assertValidity(),u(m,this,e)}toHex(e=!0){return r.bytesToHex(this.toRawBytes(e))}}m.BASE=new m(i.Gx,i.Gy,s.ONE),m.ZERO=new m(s.ZERO,s.ONE,s.ZERO);const v=i.nBitLength,w=(0,o.wNAF)(m,i.endo?Math.ceil(v/2):v);return{CURVE:i,ProjectivePoint:m,normPrivateKeyToScalar:g,weierstrassEquation:h,isWithinCurveOrder:d}}function d(e,t){const r=e.ORDER;let n=a;for(let e=r-c;e%u===a;e/=u)n+=c;const o=n,i=u<<o-c-c,s=i*u,h=(r-c)/s,d=(h-c)/u,p=s-c,g=i,y=e.pow(t,h),b=e.pow(t,(h+c)/u);let m=(t,r)=>{let n=y,i=e.pow(r,p),s=e.sqr(i);s=e.mul(s,r);let a=e.mul(t,s);a=e.pow(a,d),a=e.mul(a,i),i=e.mul(a,r),s=e.mul(a,t);let f=e.mul(s,i);a=e.pow(f,g);let l=e.eql(a,e.ONE);i=e.mul(s,b),a=e.mul(f,n),s=e.cmov(i,s,l),f=e.cmov(a,f,l);for(let t=o;t>c;t--){let r=t-u;r=u<<r-c;let o=e.pow(f,r);const a=e.eql(o,e.ONE);i=e.mul(s,n),n=e.mul(n,n),o=e.mul(f,n),s=e.cmov(i,s,a),f=e.cmov(o,f,a)}return{isValid:l,value:s}};if(e.ORDER%l===f){const r=(e.ORDER-f)/l,n=e.sqrt(e.neg(t));m=(t,o)=>{let i=e.sqr(o);const s=e.mul(t,o);i=e.mul(i,s);let a=e.pow(i,r);a=e.mul(a,s);const c=e.mul(a,n),u=e.mul(e.sqr(a),o),f=e.eql(u,t);return{isValid:f,value:e.cmov(c,a,f)}}}return m}e.weierstrassPoints=h,e.weierstrass=function(i){const s=function(e){const t=(0,o.validateBasic)(e);return r.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(i),{Fp:u,n:f}=s,l=u.BYTES+1,d=2*u.BYTES+1;function p(e){return t.mod(e,f)}function g(e){return t.invert(e,f)}const{ProjectivePoint:y,normPrivateKeyToScalar:b,weierstrassEquation:m,isWithinCurveOrder:v}=h({...s,toBytes(e,t,n){const o=t.toAffine(),i=u.toBytes(o.x),s=r.concatBytes;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,u.toBytes(o.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==l||2!==n&&3!==n){if(t===d&&4===n){return{x:u.fromBytes(o.subarray(0,u.BYTES)),y:u.fromBytes(o.subarray(u.BYTES,2*u.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${l} compressed bytes or ${d} uncompressed bytes`)}{const e=r.bytesToNumberBE(o);if(!(a<(i=e)&&i<u.ORDER))throw new Error("Point is not on curve");const t=m(e);let s=u.sqrt(t);return 1==(1&n)!==((s&c)===c)&&(s=u.neg(s)),{x:e,y:s}}var i}}),w=e=>r.bytesToHex(r.numberToBytesBE(e,s.nByteLength));function _(e){return e>f>>c}const E=(e,t,n)=>r.bytesToNumberBE(e.slice(t,n));class x{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=s.nByteLength;return e=(0,n.ensureBytes)("compactSignature",e,2*t),new x(E(e,0,t),E(e,t,2*t))}static fromDER(t){const{r:r,s:o}=e.DER.toSig((0,n.ensureBytes)("DER",t));return new x(r,o)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new x(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:r,recovery:o}=this,i=B((0,n.ensureBytes)("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const a=2===o||3===o?t+s.n:t;if(a>=u.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=0==(1&o)?"02":"03",f=y.fromHex(c+w(a)),l=g(a),h=p(-i*l),d=p(r*l),b=y.BASE.multiplyAndAddUnsafe(f,h,d);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const A={isValidPrivateKey(e){try{return b(e),!0}catch(e){return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const e=s.randomBytes(u.BYTES+8),n=t.hashToPrivateScalar(e,f);return r.numberToBytesBE(n,s.nByteLength)},precompute:(e=8,t=y.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function S(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===l||n===d:r?n===2*l||n===2*d:e instanceof y}const T=s.bits2int||function(e){const t=r.bytesToNumberBE(e),n=8*e.length-s.nBitLength;return n>0?t>>BigInt(n):t},B=s.bits2int_modN||function(e){return p(T(e))},R=r.bitMask(s.nBitLength);function I(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(a<=e&&e<R))throw new Error(`bigint expected < 2^${s.nBitLength}`);return r.numberToBytesBE(e,s.nByteLength)}function k(e,t,o=O){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:f}=s;let{lowS:l,prehash:h,extraEntropy:d}=o;null==l&&(l=!0),e=(0,n.ensureBytes)("msgHash",e),h&&(e=(0,n.ensureBytes)("prehashed msgHash",i(e)));const m=B(e),w=b(t),E=[I(w),I(m)];if(null!=d){const e=!0===d?f(u.BYTES):d;E.push((0,n.ensureBytes)("extraEntropy",e,u.BYTES))}const A=r.concatBytes(...E),S=m;return{seed:A,k2sig:function(e){const t=T(e);if(!v(t))return;const r=g(t),n=y.BASE.multiply(t).toAffine(),o=p(n.x);if(o===a)return;const i=p(r*p(S+o*w));if(i===a)return;let s=(n.x===o?0:2)|Number(n.y&c),u=i;return l&&_(i)&&(u=function(e){return _(e)?p(-e):e}(i),s^=1),new x(o,u,s)}}}const O={lowS:s.lowS,prehash:!1},L={lowS:s.lowS,prehash:!1};return y.BASE._setWindowSize(8),{CURVE:s,getPublicKey:function(e,t=!0){return y.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(S(e))throw new Error("first arg must be private key");if(!S(t))throw new Error("second arg must be public key");return y.fromHex(t).multiply(b(e)).toRawBytes(r)},sign:function(e,t,n=O){const{seed:o,k2sig:i}=k(e,t,n),a=s;return r.createHmacDrbg(a.hash.outputLen,a.nByteLength,a.hmac)(o,i)},verify:function(t,r,o,i=L){const a=t;if(r=(0,n.ensureBytes)("msgHash",r),o=(0,n.ensureBytes)("publicKey",o),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=i;let f,l;try{if("string"==typeof a||a instanceof Uint8Array)try{f=x.fromDER(a)}catch(t){if(!(t instanceof e.DER.Err))throw t;f=x.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;f=new x(e,t)}}l=y.fromHex(o)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&f.hasHighS())return!1;u&&(r=s.hash(r));const{r:h,s:d}=f,b=B(r),m=g(d),v=p(b*m),w=p(h*m),_=y.BASE.multiplyAndAddUnsafe(l,v,w)?.toAffine();return!!_&&p(_.x)===h},ProjectivePoint:y,Signature:x,utils:A}},e.SWUFpSqrtRatio=d,e.mapToCurveSimpleSWU=function(e,r){if(t.validateField(e),!e.isValid(r.A)||!e.isValid(r.B)||!e.isValid(r.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=d(e,r.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return t=>{let o,i,s,a,c,u,f,l;o=e.sqr(t),o=e.mul(o,r.Z),i=e.sqr(o),i=e.add(i,o),s=e.add(i,e.ONE),s=e.mul(s,r.B),a=e.cmov(r.Z,e.neg(i),!e.eql(i,e.ZERO)),a=e.mul(a,r.A),i=e.sqr(s),u=e.sqr(a),c=e.mul(u,r.A),i=e.add(i,c),i=e.mul(i,s),u=e.mul(u,a),c=e.mul(u,r.B),i=e.add(i,c),f=e.mul(o,s);const{isValid:h,value:d}=n(i,u);l=e.mul(o,t),l=e.mul(l,d),f=e.cmov(f,s,h),l=e.cmov(l,d,h);const p=e.isOdd(t)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),f=e.div(f,a),{x:f,y:l}}}}(lt);var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.createHasher=bt.isogenyMap=bt.hash_to_field=bt.expand_message_xof=bt.expand_message_xmd=void 0;const mt=Le,vt=Ce;const wt=vt.bytesToNumberBE;function _t(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function Et(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function xt(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function At(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function St(e,t,r,n){xt(e),xt(t),At(r),t.length>255&&(t=n((0,vt.concatBytes)((0,vt.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:i}=n,s=Math.ceil(r/o);if(s>255)throw new Error("Invalid xmd length");const a=(0,vt.concatBytes)(t,_t(t.length,1)),c=_t(0,i),u=_t(r,2),f=new Array(s),l=n((0,vt.concatBytes)(c,e,u,_t(0,1),a));f[0]=n((0,vt.concatBytes)(l,_t(1,1),a));for(let e=1;e<=s;e++){const t=[Et(l,f[e-1]),_t(e+1,1),a];f[e]=n((0,vt.concatBytes)(...t))}return(0,vt.concatBytes)(...f).slice(0,r)}function Tt(e,t,r,n,o){if(xt(e),xt(t),At(r),t.length>255){const e=Math.ceil(2*n/8);t=o.create({dkLen:e}).update((0,vt.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(_t(r,2)).update(t).update(_t(t.length,1)).digest()}function Bt(e,t,r){(0,vt.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:o,m:i,hash:s,expand:a,DST:c}=r;xt(e),At(t);const u=function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,vt.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(c),f=n.toString(2).length,l=Math.ceil((f+o)/8),h=t*i*l;let d;if("xmd"===a)d=St(e,u,h,s);else if("xof"===a)d=Tt(e,u,h,o,s);else{if("_internal_pass"!==a)throw new Error('expand must be "xmd" or "xof"');d=e}const p=new Array(t);for(let e=0;e<t;e++){const t=new Array(i);for(let r=0;r<i;r++){const o=l*(r+e*i),s=d.subarray(o,o+l);t[r]=(0,mt.mod)(wt(s),n)}p[e]=t}return p}bt.expand_message_xmd=St,bt.expand_message_xof=Tt,bt.hash_to_field=Bt,bt.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[o,i,s,a]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(o,i),n=e.mul(n,e.div(s,a)),{x:t,y:n}}},bt.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,o){const i=Bt(n,2,{...r,DST:r.DST,...o}),s=e.fromAffine(t(i[0])),a=e.fromAffine(t(i[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,o){const i=Bt(n,1,{...r,DST:r.encodeDST,...o}),s=e.fromAffine(t(i[0])).clearCofactor();return s.assertValidity(),s}}};var Rt={},It={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=he,r=we;class n extends r.Hash{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,t.default.hash(e);const o=(0,r.toBytes)(n);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(o.length>i?e.create().update(o).digest():o);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return t.default.exists(this),this.iHash.update(e),this}digestInto(e){t.default.exists(this),t.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=n,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=n;e.hmac=(e,t,r)=>new n(e,t).update(r).digest(),e.hmac.create=(e,t)=>new n(e,t)}(It),Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.createCurve=Rt.getHash=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const kt=It,Ot=we,Lt=lt;function Ct(e){return{hash:e,hmac:(t,...r)=>(0,kt.hmac)(e,t,(0,Ot.concatBytes)(...r)),randomBytes:Ot.randomBytes}}Rt.getHash=Ct,Rt.createCurve=function(e,t){const r=t=>(0,Lt.weierstrass)({...e,...Ct(t)});return Object.freeze({...r(t),create:r})},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const t=fe,r=we,n=Le,o=lt,i=Ce,s=bt,a=Rt,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),l=BigInt(2),h=(e,t)=>(e+t/l)/t;function d(e){const t=c,r=BigInt(3),o=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),u=BigInt(44),f=BigInt(88),h=e*e*e%t,d=h*h*e%t,g=(0,n.pow2)(d,r,t)*d%t,y=(0,n.pow2)(g,r,t)*d%t,b=(0,n.pow2)(y,l,t)*h%t,m=(0,n.pow2)(b,i,t)*b%t,v=(0,n.pow2)(m,s,t)*m%t,w=(0,n.pow2)(v,u,t)*v%t,_=(0,n.pow2)(w,f,t)*w%t,E=(0,n.pow2)(_,u,t)*v%t,x=(0,n.pow2)(E,r,t)*d%t,A=(0,n.pow2)(x,a,t)*m%t,S=(0,n.pow2)(A,o,t)*h%t,T=(0,n.pow2)(S,l,t);if(!p.eql(p.sqr(T),e))throw new Error("Cannot find square root");return T}const p=(0,n.Field)(c,void 0,void 0,{sqrt:d});e.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:p,n:u,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=u,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),o=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=h(s*e,t),l=h(-o*e,t);let d=(0,n.mod)(e-c*r-l*i,t),p=(0,n.mod)(-c*o-l*s,t);const g=d>a,y=p>a;if(g&&(d=t-d),y&&(p=t-p),d>a||p>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:g,k1:d,k2neg:y,k2:p}}}},t.sha256);const g=BigInt(0),y=e=>"bigint"==typeof e&&g<e&&e<c,b=e=>"bigint"==typeof e&&g<e&&e<u,m={};function v(e,...r){let n=m[e];if(void 0===n){const r=(0,t.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=(0,i.concatBytes)(r,r),m[e]=n}return(0,t.sha256)((0,i.concatBytes)(n,...r))}const w=e=>e.toRawBytes(!0).slice(1),_=e=>(0,i.numberToBytesBE)(e,32),E=e=>(0,n.mod)(e,c),x=e=>(0,n.mod)(e,u),A=e.secp256k1.ProjectivePoint,S=(e,t,r)=>A.BASE.multiplyAndAddUnsafe(e,t,r);function T(t){let r=e.secp256k1.utils.normPrivateKeyToScalar(t),n=A.fromPrivateKey(r);return{scalar:n.hasEvenY()?r:x(-r),bytes:w(n)}}function B(e){if(!y(e))throw new Error("bad x: need 0 < x < p");const t=E(e*e);let r=d(E(t*e+BigInt(7)));r%l!==g&&(r=E(-r));const n=new A(e,r,f);return n.assertValidity(),n}function R(...e){return x((0,i.bytesToNumberBE)(v("BIP0340/challenge",...e)))}function I(e){return T(e).bytes}function k(e,t,n=(0,r.randomBytes)(32)){const o=(0,i.ensureBytes)("message",e),{bytes:s,scalar:a}=T(t),c=(0,i.ensureBytes)("auxRand",n,32),u=_(a^(0,i.bytesToNumberBE)(v("BIP0340/aux",c))),f=v("BIP0340/nonce",u,s,o),l=x((0,i.bytesToNumberBE)(f));if(l===g)throw new Error("sign failed: k is zero");const{bytes:h,scalar:d}=T(l),p=R(h,s,o),y=new Uint8Array(64);if(y.set(h,0),y.set(_(x(d+p*a)),32),!O(y,o,s))throw new Error("sign: Invalid signature produced");return y}function O(e,t,r){const n=(0,i.ensureBytes)("signature",e,64),o=(0,i.ensureBytes)("message",t),s=(0,i.ensureBytes)("publicKey",r,32);try{const e=B((0,i.bytesToNumberBE)(s)),t=(0,i.bytesToNumberBE)(n.subarray(0,32));if(!y(t))return!1;const r=(0,i.bytesToNumberBE)(n.subarray(32,64));if(!b(r))return!1;const a=R(_(t),w(e),o),c=S(e,r,x(-a));return!(!c||!c.hasEvenY()||c.toAffine().x!==t)}catch(e){return!1}}e.schnorr={getPublicKey:I,sign:k,verify:O,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:B,pointToBytes:w,numberToBytesBE:i.numberToBytesBE,bytesToNumberBE:i.bytesToNumberBE,taggedHash:v,mod:n.mod}};const L=(()=>(0,s.isogenyMap)(p,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),C=(()=>(0,o.mapToCurveSimpleSWU)(p,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:p.create(BigInt("-11"))}))(),P=(()=>(0,s.createHasher)(e.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=C(p.create(e[0]));return L(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}))();e.hashToCurve=P.hashToCurve,e.encodeToCurve=P.encodeToCurve}(ue),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.secp256k1=void 0;var t=ue;Object.defineProperty(e,"secp256k1",{enumerable:!0,get:function(){return t.secp256k1}})}(ce),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_WITHDRAWALS_PER_PAYLOAD=e.RLP_EMPTY_STRING=e.KECCAK256_RLP=e.KECCAK256_RLP_S=e.KECCAK256_RLP_ARRAY=e.KECCAK256_RLP_ARRAY_S=e.KECCAK256_NULL=e.KECCAK256_NULL_S=e.TWO_POW256=e.SECP256K1_ORDER_DIV_2=e.SECP256K1_ORDER=e.MAX_INTEGER_BIGINT=e.MAX_INTEGER=e.MAX_UINT64=void 0;const t=ae,r=ce;e.MAX_UINT64=BigInt("0xffffffffffffffff"),e.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),e.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),e.SECP256K1_ORDER=r.secp256k1.CURVE.n,e.SECP256K1_ORDER_DIV_2=r.secp256k1.CURVE.n/BigInt(2),e.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),e.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",e.KECCAK256_NULL=t.Buffer.from(e.KECCAK256_NULL_S,"hex"),e.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",e.KECCAK256_RLP_ARRAY=t.Buffer.from(e.KECCAK256_RLP_ARRAY_S,"hex"),e.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",e.KECCAK256_RLP=t.Buffer.from(e.KECCAK256_RLP_S,"hex"),e.RLP_EMPTY_STRING=t.Buffer.from([128]),e.MAX_WITHDRAWALS_PER_PAYLOAD=16}(s);var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.GWEI_TO_WEI=void 0,Pt.GWEI_TO_WEI=BigInt(1e9);var Nt={},Ut={};function Mt(e){if(Array.isArray(e)){const t=[];let r=0;for(let n=0;n<e.length;n++){const o=Mt(e[n]);t.push(o),r+=o.length}return Zt(Ht(r,192),...t)}const t=Yt(e);return 1===t.length&&t[0]<128?t:Zt(Ht(t.length,128),t)}function $t(e,t,r){if(r>e.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function jt(e){if(0===e[0])throw new Error("invalid RLP: extra zeros");return qt(Vt(e))}function Ht(e,t){if(e<56)return Uint8Array.from([e+t]);const r=Wt(e),n=Wt(t+55+r.length/2);return Uint8Array.from(Kt(n+r))}function Dt(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);const r=Ft(Yt(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid RLP: remainder must be zero");return r.data}function Ft(e){let t,r,n,o,i;const s=[],a=e[0];if(a<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(a<=183){if(t=a-127,n=128===a?Uint8Array.from([]):$t(e,1,t),2===t&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:e.slice(t)}}if(a<=191){if(r=a-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(t=jt($t(e,1,r)),t<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=$t(e,r,t+r),{data:n,remainder:e.slice(t+r)}}if(a<=247){for(t=a-191,o=$t(e,1,t);o.length;)i=Ft(o),s.push(i.data),o=i.remainder;return{data:s,remainder:e.slice(t)}}{if(r=a-246,t=jt($t(e,1,r)),t<56)throw new Error("invalid RLP: encoded list too short");const n=r+t;if(n>e.length)throw new Error("invalid RLP: total length is larger than the data");for(o=$t(e,r,n);o.length;)i=Ft(o),s.push(i.data),o=i.remainder;return{data:s,remainder:e.slice(n)}}}Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.RLP=Ut.utils=Ut.decode=Ut.encode=void 0,Ut.encode=Mt,Ut.decode=Dt;const zt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Vt(e){let t="";for(let r=0;r<e.length;r++)t+=zt[e[r]];return t}function qt(e){const t=Number.parseInt(e,16);if(Number.isNaN(t))throw new Error("Invalid byte sequence");return t}function Kt(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r;t[r]=qt(e.slice(n,n+2))}return t}function Zt(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const o=e[t];r.set(o,n),n+=o.length}return r}function Gt(e){return(new TextEncoder).encode(e)}function Wt(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");const t=e.toString(16);return t.length%2?`0${t}`:t}function Jt(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function Yt(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return Jt(e)?Kt((t="string"!=typeof(r=e)?r:Jt(r)?r.slice(2):r).length%2?`0${t}`:t):Gt(e);var t,r;if("number"==typeof e||"bigint"==typeof e)return e?Kt(Wt(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof e)}Ut.utils={bytesToHex:Vt,concatBytes:Zt,hexToBytes:Kt,utf8ToBytes:Gt},Ut.RLP={encode:Mt,decode:Dt};var Xt={},Qt={},er={};function tr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function rr(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function nr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function or(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");tr(e.outputLen),tr(e.blockLen)}function ir(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function sr(e,t){nr(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(er,"__esModule",{value:!0}),er.output=er.exists=er.hash=er.bytes=er.bool=er.number=void 0,er.number=tr,er.bool=rr,er.bytes=nr,er.hash=or,er.exists=ir,er.output=sr;const ar={number:tr,bool:rr,bytes:nr,hash:or,exists:ir,output:sr};er.default=ar;var cr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.add=e.toBig=e.split=e.fromBig=void 0;const t=BigInt(2**32-1),r=BigInt(32);function n(e,n=!1){return n?{h:Number(e&t),l:Number(e>>r&t)}:{h:0|Number(e>>r&t),l:0|Number(e&t)}}function o(e,t=!1){let r=new Uint32Array(e.length),o=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:a}=n(e[i],t);[r[i],o[i]]=[s,a]}return[r,o]}e.fromBig=n,e.split=o;e.toBig=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);function i(e,t,r,n){const o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:0|o}}e.add=i;const s={fromBig:n,split:o,toBig:e.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:i,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,add5H:(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0,add5L:(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0)};e.default=s}(cr);var ur={},fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.crypto=void 0,fr.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=fr,r=e=>e instanceof Uint8Array;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.rotr=(e,t)=>e<<32-t|e>>>t,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.bytesToHex=function(e){if(!r(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,o=e.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[t]=i}return r};function o(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function i(e){if("string"==typeof e&&(e=o(e)),!r(e))throw new Error("expected Uint8Array, got "+typeof e);return e}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let o=Date.now();for(let i=0;i<t;i++){n(i);const t=Date.now()-o;t>=0&&t<r||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=o,e.toBytes=i,e.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!r(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};e.Hash=class{clone(){return this._cloneInto()}};e.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new Error("Options should be object or undefined");var r;return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(i(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(i(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(i(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}(ur),Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.shake256=Qt.shake128=Qt.keccak_512=Qt.keccak_384=Qt.keccak_256=Qt.keccak_224=Qt.sha3_512=Qt.sha3_384=Qt.sha3_256=Qt.sha3_224=Qt.Keccak=Qt.keccakP=void 0;const lr=er,hr=cr,dr=ur,[pr,gr,yr]=[[],[],[]],br=BigInt(0),mr=BigInt(1),vr=BigInt(2),wr=BigInt(7),_r=BigInt(256),Er=BigInt(113);for(let e=0,t=mr,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],pr.push(2*(5*n+r)),gr.push((e+1)*(e+2)/2%64);let o=br;for(let e=0;e<7;e++)t=(t<<mr^(t>>wr)*Er)%_r,t&vr&&(o^=mr<<(mr<<BigInt(e))-mr);yr.push(o)}const[xr,Ar]=hr.default.split(yr,!0),Sr=(e,t,r)=>r>32?hr.default.rotlBH(e,t,r):hr.default.rotlSH(e,t,r),Tr=(e,t,r)=>r>32?hr.default.rotlBL(e,t,r):hr.default.rotlSL(e,t,r);function Br(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,o=(t+2)%10,i=r[o],s=r[o+1],a=Sr(i,s,1)^r[n],c=Tr(i,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],o=e[3];for(let r=0;r<24;r++){const n=gr[r],i=Sr(t,o,n),s=Tr(t,o,n),a=pr[r];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=xr[n],e[1]^=Ar[n]}r.fill(0)}Qt.keccakP=Br;let Rr=class e extends dr.Hash{constructor(e,t,r,n=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,lr.default.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,dr.u32)(this.state)}keccak(){Br(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){lr.default.exists(this);const{blockLen:t,state:r}=this,n=(e=(0,dr.toBytes)(e)).length;for(let o=0;o<n;){const i=Math.min(t-this.pos,n-o);for(let t=0;t<i;t++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){lr.default.exists(this,!1),lr.default.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,o=e.length;n<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return lr.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(lr.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return t||(t=new e(r,n,o,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=o,t.enableXOF=s,t.destroyed=this.destroyed,t}};Qt.Keccak=Rr;const Ir=(e,t,r)=>(0,dr.wrapConstructor)((()=>new Rr(t,e,r)));Qt.sha3_224=Ir(6,144,28),Qt.sha3_256=Ir(6,136,32),Qt.sha3_384=Ir(6,104,48),Qt.sha3_512=Ir(6,72,64),Qt.keccak_224=Ir(1,144,28),Qt.keccak_256=Ir(1,136,32),Qt.keccak_384=Ir(1,104,48),Qt.keccak_512=Ir(1,72,64);const kr=(e,t,r)=>(0,dr.wrapXOFConstructorWithOpts)(((n={})=>new Rr(t,e,void 0===n.dkLen?r:n.dkLen,!0)));function Or(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}Qt.shake128=kr(31,168,16),Qt.shake256=kr(31,136,32);var Lr={exports:{}};!function(t,r){var n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.wrapHash=r.equalsBytes=r.hexToBytes=r.bytesToUtf8=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0;const o=n(er),i=ur,s=o.default.bool;r.assertBool=s;const a=o.default.bytes;r.assertBytes=a;var c=ur;Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return c.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return c.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return c.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return c.utf8ToBytes}}),r.bytesToUtf8=function(e){if(!(e instanceof Uint8Array))throw new TypeError("bytesToUtf8 expected Uint8Array, got "+typeof e);return(new TextDecoder).decode(e)},r.hexToBytes=function(e){const t=e.startsWith("0x")?e.substring(2):e;return(0,i.hexToBytes)(t)},r.equalsBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},r.wrapHash=function(e){return t=>(o.default.bytes(t),e(t))},r.crypto=(()=>{const e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,r=Or.bind(t);return{node:r&&!e?r("crypto"):void 0,web:e}})()}(Lr,Lr.exports);var Cr=Lr.exports;Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.keccak512=Xt.keccak384=Xt.keccak256=Xt.keccak224=void 0;const Pr=Qt,Nr=Cr;Xt.keccak224=(0,Nr.wrapHash)(Pr.keccak_224),Xt.keccak256=(()=>{const e=(0,Nr.wrapHash)(Pr.keccak_256);return e.create=Pr.keccak_256.create,e})(),Xt.keccak384=(0,Nr.wrapHash)(Pr.keccak_384),Xt.keccak512=(0,Nr.wrapHash)(Pr.keccak_512);var Ur={},Mr={},$r={};function jr(e){if("string"!=typeof e)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof e);return"0"===e[0]&&"x"===e[1]}Object.defineProperty($r,"__esModule",{value:!0}),$r.isHexString=$r.getKeys=$r.fromAscii=$r.fromUtf8=$r.toAscii=$r.arrayContainsArray=$r.getBinarySize=$r.padToEven=$r.stripHexPrefix=$r.isHexPrefixed=void 0,$r.isHexPrefixed=jr;function Hr(e){let t=e;if("string"!=typeof t)throw new Error("[padToEven] value must be type 'string', received "+typeof t);return t.length%2&&(t=`0${t}`),t}$r.stripHexPrefix=e=>{if("string"!=typeof e)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof e);return jr(e)?e.slice(2):e},$r.padToEven=Hr,$r.getBinarySize=function(e){if("string"!=typeof e)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof e);return E.byteLength(e,"utf8")},$r.arrayContainsArray=function(e,t,r){if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof e}'`);if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof t}'`);return t[!0===r?"some":"every"]((t=>e.indexOf(t)>=0))},$r.toAscii=function(e){let t="",r=0;const n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(e.substr(r,2),16);t+=String.fromCharCode(n)}return t},$r.fromUtf8=function(e){return`0x${Hr(E.from(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},$r.fromAscii=function(e){let t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r).toString(16);t+=n.length<2?`0${n}`:n}return`0x${t}`},$r.getKeys=function(e,t,r){if(!Array.isArray(e))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof e);if("string"!=typeof t)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof e);const n=[];for(let o=0;o<e.length;o++){let i=e[o][t];if(!0!==r||i){if("string"!=typeof i)throw new Error("invalid abi - expected type 'string', received "+typeof i)}else i="";n.push(i)}return n},$r.isHexString=function(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&!(void 0!==t&&t>0&&e.length!==2+2*t)},Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.assertIsString=Mr.assertIsArray=Mr.assertIsBuffer=Mr.assertIsHexString=void 0;const Dr=$r;Mr.assertIsHexString=function(e){if(!(0,Dr.isHexString)(e)){throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${e}`)}};Mr.assertIsBuffer=function(e){if(!E.isBuffer(e)){throw new Error(`This method only supports Buffer but input was: ${e}`)}};Mr.assertIsArray=function(e){if(!Array.isArray(e)){throw new Error(`This method only supports number arrays but input was: ${e}`)}};Mr.assertIsString=function(e){if("string"!=typeof e){throw new Error(`This method only supports strings but input was: ${e}`)}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const t=Mr,r=$r;e.intToHex=function(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};e.intToBuffer=function(t){const n=(0,e.intToHex)(t);return E.from((0,r.padToEven)(n.slice(2)),"hex")};e.zeros=function(e){return E.allocUnsafe(e).fill(0)};const n=function(t,r,n){const o=(0,e.zeros)(r);return n?t.length<r?(t.copy(o),o):t.slice(0,r):t.length<r?(t.copy(o,r-t.length),o):t.slice(-r)};e.setLengthLeft=function(e,r){return(0,t.assertIsBuffer)(e),n(e,r,!1)};e.setLengthRight=function(e,r){return(0,t.assertIsBuffer)(e),n(e,r,!0)};const o=function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e};e.unpadBuffer=function(e){return(0,t.assertIsBuffer)(e),o(e)};e.unpadArray=function(e){return(0,t.assertIsArray)(e),o(e)};e.unpadHexString=function(e){return(0,t.assertIsHexString)(e),e=(0,r.stripHexPrefix)(e),"0x"+o(e)};e.toBuffer=function(t){if(null==t)return E.allocUnsafe(0);if(E.isBuffer(t))return E.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return E.from(t);if("string"==typeof t){if(!(0,r.isHexString)(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return E.from((0,r.padToEven)((0,r.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,e.intToBuffer)(t);if("bigint"==typeof t){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),E.from(e,"hex")}if(t.toArray)return E.from(t.toArray());if(t.toBuffer)return E.from(t.toBuffer());throw new Error("invalid type")};function i(t){const r=(0,e.bufferToHex)(t);return"0x"===r?BigInt(0):BigInt(r)}function s(t){return(0,e.toBuffer)("0x"+t.toString(16))}e.bufferToHex=function(t){return"0x"+(t=(0,e.toBuffer)(t)).toString("hex")},e.bufferToBigInt=i,e.bigIntToBuffer=s;e.bufferToInt=function(e){const t=Number(i(e));if(!Number.isSafeInteger(t))throw new Error("Number exceeds 53 bits");return t};e.fromSigned=function(e){return BigInt.asIntN(256,i(e))};e.toUnsigned=function(e){return s(BigInt.asUintN(256,e))};e.addHexPrefix=function(e){return"string"!=typeof e||(0,r.isHexPrefixed)(e)?e:"0x"+e},e.short=function(e,t=50){const r=E.isBuffer(e)?e.toString("hex"):e;return r.length<=t?r:r.slice(0,t)+"…"};e.toUtf8=function(e){if((e=(0,r.stripHexPrefix)(e)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return E.from(e.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")};e.baToJSON=function(t){if(E.isBuffer(t))return`0x${t.toString("hex")}`;if(t instanceof Array){const r=[];for(let n=0;n<t.length;n++)r.push((0,e.baToJSON)(t[n]));return r}};e.validateNoLeadingZeroes=function(e){for(const[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw new Error(`${t} cannot have leading zeroes, received: ${r.toString("hex")}`)},e.arrToBufArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):E.from(t)},e.bufArrToArr=function e(t){return Array.isArray(t)?t.map((t=>e(t))):Uint8Array.from(t??[])};e.bigIntToHex=e=>"0x"+e.toString(16),e.bigIntToUnpaddedBuffer=function(t){return(0,e.unpadBuffer)(s(t))},e.intToUnpaddedBuffer=function(t){return(0,e.unpadBuffer)((0,e.intToBuffer)(t))}}(Ur),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.accountBodyToRLP=e.accountBodyToSlim=e.accountBodyFromSlim=e.isZeroAddress=e.zeroAddress=e.importPublic=e.privateToAddress=e.privateToPublic=e.publicToAddress=e.pubToAddress=e.isValidPublic=e.isValidPrivate=e.generateAddress2=e.generateAddress=e.isValidChecksumAddress=e.toChecksumAddress=e.isValidAddress=e.Account=void 0;const t=Ut,r=Xt,n=ce,o=Cr,i=Ur,a=s,c=Mr,u=$r,f=BigInt(0);class l{constructor(e=f,t=f,r=a.KECCAK256_RLP,n=a.KECCAK256_NULL){this.nonce=e,this.balance=t,this.storageRoot=r,this.codeHash=n,this._validate()}static fromAccountData(e){const{nonce:t,balance:r,storageRoot:n,codeHash:o}=e;return new l(void 0!==t?(0,i.bufferToBigInt)((0,i.toBuffer)(t)):void 0,void 0!==r?(0,i.bufferToBigInt)((0,i.toBuffer)(r)):void 0,void 0!==n?(0,i.toBuffer)(n):void 0,void 0!==o?(0,i.toBuffer)(o):void 0)}static fromRlpSerializedAccount(e){const r=(0,i.arrToBufArr)(t.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)}static fromValuesArray(e){const[t,r,n,o]=e;return new l((0,i.bufferToBigInt)(t),(0,i.bufferToBigInt)(r),n,o)}_validate(){if(this.nonce<f)throw new Error("nonce must be greater than zero");if(this.balance<f)throw new Error("balance must be greater than zero");if(32!==this.storageRoot.length)throw new Error("storageRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")}raw(){return[(0,i.bigIntToUnpaddedBuffer)(this.nonce),(0,i.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return E.from(t.RLP.encode((0,i.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(a.KECCAK256_NULL)}isEmpty(){return this.balance===f&&this.nonce===f&&this.codeHash.equals(a.KECCAK256_NULL)}}e.Account=l;e.isValidAddress=function(e){try{(0,c.assertIsString)(e)}catch(e){return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};e.toChecksumAddress=function(e,t){(0,c.assertIsHexString)(e);const n=(0,u.stripHexPrefix)(e).toLowerCase();let s="";if(void 0!==t){s=(0,i.bufferToBigInt)((0,i.toBuffer)(t)).toString()+"0x"}const a=E.from(s+n,"utf8"),f=(0,o.bytesToHex)((0,r.keccak256)(a));let l="0x";for(let e=0;e<n.length;e++)parseInt(f[e],16)>=8?l+=n[e].toUpperCase():l+=n[e];return l};e.isValidChecksumAddress=function(t,r){return(0,e.isValidAddress)(t)&&(0,e.toChecksumAddress)(t,r)===t};e.generateAddress=function(e,n){return(0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(n),(0,i.bufferToBigInt)(n)===BigInt(0)?E.from((0,r.keccak256)(t.RLP.encode((0,i.bufArrToArr)([e,null])))).slice(-20):E.from((0,r.keccak256)(t.RLP.encode((0,i.bufArrToArr)([e,n])))).slice(-20)};e.generateAddress2=function(e,t,n){if((0,c.assertIsBuffer)(e),(0,c.assertIsBuffer)(t),(0,c.assertIsBuffer)(n),20!==e.length)throw new Error("Expected from to be of length 20");if(32!==t.length)throw new Error("Expected salt to be of length 32");const o=(0,r.keccak256)(E.concat([E.from("ff","hex"),e,t,(0,r.keccak256)(n)]));return(0,i.toBuffer)(o).slice(-20)};e.isValidPrivate=function(e){return n.secp256k1.utils.isValidPrivateKey(e)};e.isValidPublic=function(e,t=!1){if((0,c.assertIsBuffer)(e),64===e.length)try{return n.secp256k1.ProjectivePoint.fromHex(E.concat([E.from([4]),e])),!0}catch(e){return!1}if(!t)return!1;try{return n.secp256k1.ProjectivePoint.fromHex(e),!0}catch(e){return!1}};e.pubToAddress=function(e,t=!1){if((0,c.assertIsBuffer)(e),t&&64!==e.length&&(e=E.from(n.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),64!==e.length)throw new Error("Expected pubKey to be of length 64");return E.from((0,r.keccak256)(e)).slice(-20)},e.publicToAddress=e.pubToAddress;e.privateToPublic=function(e){return(0,c.assertIsBuffer)(e),E.from(n.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};e.privateToAddress=function(t){return(0,e.publicToAddress)((0,e.privateToPublic)(t))};e.importPublic=function(e){return(0,c.assertIsBuffer)(e),64!==e.length&&(e=E.from(n.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};e.zeroAddress=function(){const e=(0,i.zeros)(20);return(0,i.bufferToHex)(e)};function h(e){const[t,r,n,o]=e;return[t,r,0===(0,i.arrToBufArr)(n).length?a.KECCAK256_RLP:n,0===(0,i.arrToBufArr)(o).length?a.KECCAK256_NULL:o]}e.isZeroAddress=function(t){try{(0,c.assertIsString)(t)}catch(e){return!1}return(0,e.zeroAddress)()===t},e.accountBodyFromSlim=h;const d=new Uint8Array(0);e.accountBodyToSlim=function(e){const[t,r,n,o]=e;return[t,r,(0,i.arrToBufArr)(n).equals(a.KECCAK256_RLP)?d:n,(0,i.arrToBufArr)(o).equals(a.KECCAK256_NULL)?d:o]},e.accountBodyToRLP=function(e,r=!0){const n=r?h(e):e;return(0,i.arrToBufArr)(t.RLP.encode(n))}}(Nt);var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Address=void 0;const zr=Nt,Vr=Ur;class qr{constructor(e){if(20!==e.length)throw new Error("Invalid address length");this.buf=e}static zero(){return new qr((0,Vr.zeros)(20))}static fromString(e){if(!(0,zr.isValidAddress)(e))throw new Error("Invalid address");return new qr((0,Vr.toBuffer)(e))}static fromPublicKey(e){if(!E.isBuffer(e))throw new Error("Public key should be Buffer");const t=(0,zr.pubToAddress)(e);return new qr(t)}static fromPrivateKey(e){if(!E.isBuffer(e))throw new Error("Private key should be Buffer");const t=(0,zr.privateToAddress)(e);return new qr(t)}static generate(e,t){if("bigint"!=typeof t)throw new Error("Expected nonce to be a bigint");return new qr((0,zr.generateAddress)(e.buf,(0,Vr.bigIntToBuffer)(t)))}static generate2(e,t,r){if(!E.isBuffer(t))throw new Error("Expected salt to be a Buffer");if(!E.isBuffer(r))throw new Error("Expected initCode to be a Buffer");return new qr((0,zr.generateAddress2)(e.buf,t,r))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(qr.zero())}isPrecompileOrSystemAddress(){const e=(0,Vr.bufferToBigInt)(this.buf),t=BigInt(0),r=BigInt("0xffff");return e>=t&&e<=r}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return E.from(this.buf)}}Fr.Address=qr;var Kr={},Zr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toType=e.TypeOutput=void 0;const t=Ur,r=$r;var n;!function(e){e[e.Number=0]="Number",e[e.BigInt=1]="BigInt",e[e.Buffer=2]="Buffer",e[e.PrefixedHexString=3]="PrefixedHexString"}(n=e.TypeOutput||(e.TypeOutput={})),e.toType=function(e,o){if(null===e)return null;if(void 0===e)return;if("string"==typeof e&&!(0,r.isHexString)(e))throw new Error(`A string must be provided with a 0x-prefix, given: ${e}`);if("number"==typeof e&&!Number.isSafeInteger(e))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const i=(0,t.toBuffer)(e);switch(o){case n.Buffer:return i;case n.BigInt:return(0,t.bufferToBigInt)(i);case n.Number:{const e=(0,t.bufferToBigInt)(i);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case n.PrefixedHexString:return(0,t.bufferToHex)(i);default:throw new Error("unknown outputType")}}}(Zr),Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.Withdrawal=void 0;const Gr=Fr,Wr=Ur,Jr=Zr;class Yr{constructor(e,t,r,n){this.index=e,this.validatorIndex=t,this.address=r,this.amount=n}static fromWithdrawalData(e){const{index:t,validatorIndex:r,address:n,amount:o}=e,i=(0,Jr.toType)(t,Jr.TypeOutput.BigInt),s=(0,Jr.toType)(r,Jr.TypeOutput.BigInt),a=new Gr.Address((0,Jr.toType)(n,Jr.TypeOutput.Buffer)),c=(0,Jr.toType)(o,Jr.TypeOutput.BigInt);return new Yr(i,s,a,c)}static fromValuesArray(e){if(4!==e.length)throw Error(`Invalid withdrawalArray length expected=4 actual=${e.length}`);const[t,r,n,o]=e;return Yr.fromWithdrawalData({index:t,validatorIndex:r,address:n,amount:o})}static toBufferArray(e){const{index:t,validatorIndex:r,address:n,amount:o}=e,i=(0,Jr.toType)(t,Jr.TypeOutput.BigInt)===BigInt(0)?E.alloc(0):(0,Jr.toType)(t,Jr.TypeOutput.Buffer),s=(0,Jr.toType)(r,Jr.TypeOutput.BigInt)===BigInt(0)?E.alloc(0):(0,Jr.toType)(r,Jr.TypeOutput.Buffer);let a;a=n instanceof Gr.Address?n.buf:(0,Jr.toType)(n,Jr.TypeOutput.Buffer);return[i,s,a,(0,Jr.toType)(o,Jr.TypeOutput.BigInt)===BigInt(0)?E.alloc(0):(0,Jr.toType)(o,Jr.TypeOutput.Buffer)]}raw(){return Yr.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,Wr.bigIntToHex)(this.index),validatorIndex:(0,Wr.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,Wr.bigIntToHex)(this.amount)}}}Kr.Withdrawal=Yr;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.hashPersonalMessage=Xr.isValidSignature=Xr.fromRpcSig=Xr.toCompactSig=Xr.toRpcSig=Xr.ecrecover=Xr.ecsign=void 0;const Qr=Xt,en=ce,tn=Ur,rn=s,nn=Mr;function on(e,t){return e===BigInt(0)||e===BigInt(1)?e:void 0===t?e-BigInt(27):e-(t*BigInt(2)+BigInt(35))}function sn(e){return e===BigInt(0)||e===BigInt(1)}Xr.ecsign=function(e,t,r){const n=en.secp256k1.sign(e,t),o=n.toCompactRawBytes();return{r:E.from(o.slice(0,32)),s:E.from(o.slice(32,64)),v:void 0===r?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2)}};Xr.ecrecover=function(e,t,r,n,o){const i=E.concat([(0,tn.setLengthLeft)(r,32),(0,tn.setLengthLeft)(n,32)],64),s=on(t,o);if(!sn(s))throw new Error("Invalid signature v value");const a=en.secp256k1.Signature.fromCompact(i).addRecoveryBit(Number(s)).recoverPublicKey(e);return E.from(a.toRawBytes(!1).slice(1))};Xr.toRpcSig=function(e,t,r,n){if(!sn(on(e,n)))throw new Error("Invalid signature v value");return(0,tn.bufferToHex)(E.concat([(0,tn.setLengthLeft)(t,32),(0,tn.setLengthLeft)(r,32),(0,tn.toBuffer)(e)]))};Xr.toCompactSig=function(e,t,r,n){if(!sn(on(e,n)))throw new Error("Invalid signature v value");let o=r;return(e>BigInt(28)&&e%BigInt(2)===BigInt(1)||e===BigInt(1)||e===BigInt(28))&&(o=E.from(r),o[0]|=128),(0,tn.bufferToHex)(E.concat([(0,tn.setLengthLeft)(t,32),(0,tn.setLengthLeft)(o,32)]))};Xr.fromRpcSig=function(e){const t=(0,tn.toBuffer)(e);let r,n,o;if(t.length>=65)r=t.slice(0,32),n=t.slice(32,64),o=(0,tn.bufferToBigInt)(t.slice(64));else{if(64!==t.length)throw new Error("Invalid signature length");r=t.slice(0,32),n=t.slice(32,64),o=BigInt((0,tn.bufferToInt)(t.slice(32,33))>>7),n[0]&=127}return o<27&&(o+=BigInt(27)),{v:o,r:r,s:n}};Xr.isValidSignature=function(e,t,r,n=!0,o){if(32!==t.length||32!==r.length)return!1;if(!sn(on(e,o)))return!1;const i=(0,tn.bufferToBigInt)(t),s=(0,tn.bufferToBigInt)(r);return!(i===BigInt(0)||i>=rn.SECP256K1_ORDER||s===BigInt(0)||s>=rn.SECP256K1_ORDER)&&!(n&&s>=rn.SECP256K1_ORDER_DIV_2)};Xr.hashPersonalMessage=function(e){(0,nn.assertIsBuffer)(e);const t=E.from(`Ethereum Signed Message:\n${e.length}`,"utf-8");return E.from((0,Qr.keccak256)(E.concat([t,e])))};var an={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.compactBytesToNibbles=e.bytesToNibbles=e.nibblesToCompactBytes=e.nibblesToBytes=e.hasTerminator=void 0;e.hasTerminator=e=>e.length>0&&16===e[e.length-1];e.nibblesToBytes=(e,t)=>{for(let r=0,n=0;n<e.length;r+=1,n+=2)t[r]=e[n]<<4|e[n+1]};e.nibblesToCompactBytes=t=>{let r=0;(0,e.hasTerminator)(t)&&(r=1,t=t.subarray(0,t.length-1));const n=new Uint8Array(t.length/2+1);return n[0]=r<<5,1==(1&t.length)&&(n[0]|=16,n[0]|=t[0],t=t.subarray(1)),(0,e.nibblesToBytes)(t,n.subarray(1)),n};e.bytesToNibbles=e=>{const t=2*e.length+1,r=new Uint8Array(t);for(let t=0;t<e.length;t++){const n=e[t];r[2*t]=n/16,r[2*t+1]=n%16}return r[t-1]=16,r};e.compactBytesToNibbles=t=>{if(0===t.length)return t;let r=(0,e.bytesToNibbles)(t);r[0]<2&&(r=r.subarray(0,r.length-1));const n=2-(1&r[0]);return r.subarray(n)}}(an);var cn={};function un(){}function fn(){fn.init.call(this)}function ln(e){return void 0===e._maxListeners?fn.defaultMaxListeners:e._maxListeners}function hn(e,t,r,n){var o,i,s,a;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]):(i=e._events=new un,e._eventsCount=0),s){if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),!s.warned&&(o=ln(e))&&o>0&&s.length>o){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,"function"==typeof console.warn?console.warn(a):console.log(a)}}else s=i[t]=r,++e._eventsCount;return e}function dn(e,t,r){var n=!1;function o(){e.removeListener(t,o),n||(n=!0,r.apply(e,arguments))}return o.listener=r,o}function pn(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function gn(e,t){for(var r=new Array(t);t--;)r[t]=e[t];return r}un.prototype=Object.create(null),fn.EventEmitter=fn,fn.usingDomains=!1,fn.prototype.domain=void 0,fn.prototype._events=void 0,fn.prototype._maxListeners=void 0,fn.defaultMaxListeners=10,fn.init=function(){this.domain=null,fn.usingDomains&&undefined.active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new un,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},fn.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},fn.prototype.getMaxListeners=function(){return ln(this)},fn.prototype.emit=function(e){var t,r,n,o,i,s,a,c="error"===e;if(s=this._events)c=c&&null==s.error;else if(!c)return!1;if(a=this.domain,c){if(t=arguments[1],!a){if(t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=a,t.domainThrown=!1,a.emit("error",t),!1}if(!(r=s[e]))return!1;var f="function"==typeof r;switch(n=arguments.length){case 1:!function(e,t,r){if(t)e.call(r);else for(var n=e.length,o=gn(e,n),i=0;i<n;++i)o[i].call(r)}(r,f,this);break;case 2:!function(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,i=gn(e,o),s=0;s<o;++s)i[s].call(r,n)}(r,f,this,arguments[1]);break;case 3:!function(e,t,r,n,o){if(t)e.call(r,n,o);else for(var i=e.length,s=gn(e,i),a=0;a<i;++a)s[a].call(r,n,o)}(r,f,this,arguments[1],arguments[2]);break;case 4:!function(e,t,r,n,o,i){if(t)e.call(r,n,o,i);else for(var s=e.length,a=gn(e,s),c=0;c<s;++c)a[c].call(r,n,o,i)}(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(n-1),i=1;i<n;i++)o[i-1]=arguments[i];!function(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,i=gn(e,o),s=0;s<o;++s)i[s].apply(r,n)}(r,f,this,o)}return!0},fn.prototype.addListener=function(e,t){return hn(this,e,t,!1)},fn.prototype.on=fn.prototype.addListener,fn.prototype.prependListener=function(e,t){return hn(this,e,t,!0)},fn.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,dn(this,e,t)),this},fn.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,dn(this,e,t)),this},fn.prototype.removeListener=function(e,t){var r,n,o,i,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(r=n[e]))return this;if(r===t||r.listener&&r.listener===t)0==--this._eventsCount?this._events=new un:(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length;i-- >0;)if(r[i]===t||r[i].listener&&r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;if(1===r.length){if(r[0]=void 0,0==--this._eventsCount)return this._events=new un,this;delete n[e]}else!function(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}(r,o);n.removeListener&&this.emit("removeListener",e,s||t)}return this},fn.prototype.off=function(e,t){return this.removeListener(e,t)},fn.prototype.removeAllListeners=function(e){var t,r;if(!(r=this._events))return this;if(!r.removeListener)return 0===arguments.length?(this._events=new un,this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=new un:delete r[e]),this;if(0===arguments.length){for(var n,o=Object.keys(r),i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=new un,this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},fn.prototype.listeners=function(e){var t,r=this._events;return r&&(t=r[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(t):[]},fn.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):pn.call(e,t)},fn.prototype.listenerCount=pn,fn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var yn=r(Object.freeze({__proto__:null,EventEmitter:fn,default:fn}));Object.defineProperty(cn,"__esModule",{value:!0}),cn.AsyncEventEmitter=void 0;const bn=yn;class mn extends bn.EventEmitter{emit(e,...t){let[r,n]=t;const o=this;let i=o._events[e]??[];return void 0===n&&"function"==typeof r&&(n=r,r=void 0),"newListener"!==e&&"removeListener"!==e||(r={event:r,fn:n},n=void 0),i=Array.isArray(i)?i:[i],async function(e,t,r){let n;for await(const o of t)try{o.length<2?o.call(e,r):await new Promise(((t,n)=>{o.call(e,r,(e=>{e?n(e):t()}))}))}catch(e){n=e}if(n)throw n}(o,i.slice(),r).then(n).catch(n),o.listenerCount(e)>0}once(e,t){const r=this;let n;if("function"!=typeof t)throw new TypeError("listener must be a function");return n=t.length>=2?function(o,i){r.removeListener(e,n),t(o,i)}:function(o){r.removeListener(e,n),t(o,n)},r.on(e,n),r}first(e,t){let r=this._events[e]??[];if("function"!=typeof t)throw new TypeError("listener must be a function");return Array.isArray(r)||(this._events[e]=r=[r]),r.unshift(t),this}before(e,t,r){return this.beforeOrAfter(e,t,r)}after(e,t,r){return this.beforeOrAfter(e,t,r,"after")}beforeOrAfter(e,t,r,n){let o,i,s=this._events[e]??[];const a="after"===n?1:0;if("function"!=typeof r)throw new TypeError("listener must be a function");if("function"!=typeof t)throw new TypeError("target must be a function");for(Array.isArray(s)||(this._events[e]=s=[s]),i=s.length,o=s.length;o--;)if(s[o]===t){i=o+a;break}return s.splice(i,0,r),this}on(e,t){return super.on(e,t)}addListener(e,t){return super.addListener(e,t)}prependListener(e,t){return super.prependListener(e,t)}prependOnceListener(e,t){return super.prependOnceListener(e,t)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,t){return super.removeListener(e,t)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}}cn.AsyncEventEmitter=mn;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.Lock=void 0;vn.Lock=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise((e=>this.promiseResolverQueue.push(e)))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(1===this.permits&&this.promiseResolverQueue.length>0){this.permits-=1;const e=this.promiseResolverQueue.shift();e&&e(!0)}}};var wn={};function _n(){throw new Error("setTimeout has not been defined")}function En(){throw new Error("clearTimeout has not been defined")}var xn=_n,An=En;function Sn(e){if(xn===setTimeout)return setTimeout(e,0);if((xn===_n||!xn)&&setTimeout)return xn=setTimeout,setTimeout(e,0);try{return xn(e,0)}catch(t){try{return xn.call(null,e,0)}catch(t){return xn.call(this,e,0)}}}"function"==typeof a.setTimeout&&(xn=setTimeout),"function"==typeof a.clearTimeout&&(An=clearTimeout);var Tn,Bn=[],Rn=!1,In=-1;function kn(){Rn&&Tn&&(Rn=!1,Tn.length?Bn=Tn.concat(Bn):In=-1,Bn.length&&On())}function On(){if(!Rn){var e=Sn(kn);Rn=!0;for(var t=Bn.length;t;){for(Tn=Bn,Bn=[];++In<t;)Tn&&Tn[In].run();In=-1,t=Bn.length}Tn=null,Rn=!1,function(e){if(An===clearTimeout)return clearTimeout(e);if((An===En||!An)&&clearTimeout)return An=clearTimeout,clearTimeout(e);try{return An(e)}catch(t){try{return An.call(null,e)}catch(t){return An.call(this,e)}}}(e)}}function Ln(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Bn.push(new Cn(e,t)),1!==Bn.length||Rn||Sn(On)}function Cn(e,t){this.fun=e,this.array=t}Cn.prototype.run=function(){this.fun.apply(null,this.array)};function Pn(){}var Nn=Pn,Un=Pn,Mn=Pn,$n=Pn,jn=Pn,Hn=Pn,Dn=Pn;var Fn=a.performance||{},zn=Fn.now||Fn.mozNow||Fn.msNow||Fn.oNow||Fn.webkitNow||function(){return(new Date).getTime()};var Vn=new Date;var qn,Kn,Zn={nextTick:Ln,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Nn,addListener:Un,once:Mn,off:$n,removeListener:jn,removeAllListeners:Hn,emit:Dn,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*zn.call(Fn),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Vn)/1e3}},Gn={},Wn=oo(a.fetch)&&oo(a.ReadableStream);function Jn(e){Kn||(Kn=new a.XMLHttpRequest).open("GET",a.location.host?"/":"https://example.com");try{return Kn.responseType=e,Kn.responseType===e}catch(e){return!1}}var Yn=void 0!==a.ArrayBuffer,Xn=Yn&&oo(a.ArrayBuffer.prototype.slice),Qn=Yn&&Jn("arraybuffer"),eo=!Wn&&Xn&&Jn("ms-stream"),to=!Wn&&Yn&&Jn("moz-chunked-arraybuffer"),ro=oo(Kn.overrideMimeType),no=oo(a.VBArray);function oo(e){return"function"==typeof e}Kn=null;var io="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},so=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},ao=/%[sdj%]/g;function co(e){if(!So(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(po(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(ao,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),s=n[r];r<o;s=n[++r])Eo(s)||!Io(s)?i+=" "+s:i+=" "+po(s);return i}function uo(e,t){if(Bo(a.process))return function(){return uo(e,t).apply(this,arguments)};if(!0===Zn.noDeprecation)return e;var r=!1;return function(){if(!r){if(Zn.throwDeprecation)throw new Error(t);Zn.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}}var fo,lo={};function ho(e){if(Bo(fo)&&(fo=Zn.env.NODE_DEBUG||""),e=e.toUpperCase(),!lo[e])if(new RegExp("\\b"+e+"\\b","i").test(fo)){lo[e]=function(){var t=co.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else lo[e]=function(){};return lo[e]}function po(e,t){var r={seen:[],stylize:yo};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),_o(t)?r.showHidden=t:t&&jo(r,t),Bo(r.showHidden)&&(r.showHidden=!1),Bo(r.depth)&&(r.depth=2),Bo(r.colors)&&(r.colors=!1),Bo(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=go),bo(r,e,r.depth)}function go(e,t){var r=po.styles[t];return r?"["+po.colors[r][0]+"m"+e+"["+po.colors[r][1]+"m":e}function yo(e,t){return e}function bo(e,t,r){if(e.customInspect&&t&&Lo(t.inspect)&&t.inspect!==po&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return So(n)||(n=bo(e,n,r)),n}var o=function(e,t){if(Bo(t))return e.stylize("undefined","undefined");if(So(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(Ao(t))return e.stylize(""+t,"number");if(_o(t))return e.stylize(""+t,"boolean");if(Eo(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),Oo(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return mo(t);if(0===i.length){if(Lo(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Ro(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(ko(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Oo(t))return mo(t)}var c,u="",f=!1,l=["{","}"];(wo(t)&&(f=!0,l=["[","]"]),Lo(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return Ro(t)&&(u=" "+RegExp.prototype.toString.call(t)),ko(t)&&(u=" "+Date.prototype.toUTCString.call(t)),Oo(t)&&(u=" "+mo(t)),0!==i.length||f&&0!=t.length?r<0?Ro(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=f?function(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)Ho(t,String(s))?i.push(vo(e,t,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(vo(e,t,r,n,o,!0))})),i}(e,t,r,s,i):i.map((function(n){return vo(e,t,r,s,n,f)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,u,l)):l[0]+u+l[1]}function mo(e){return"["+Error.prototype.toString.call(e)+"]"}function vo(e,t,r,n,o,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),Ho(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(c.value)<0?(a=Eo(r)?bo(e,c.value,null):bo(e,c.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),Bo(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function wo(e){return Array.isArray(e)}function _o(e){return"boolean"==typeof e}function Eo(e){return null===e}function xo(e){return null==e}function Ao(e){return"number"==typeof e}function So(e){return"string"==typeof e}function To(e){return"symbol"==typeof e}function Bo(e){return void 0===e}function Ro(e){return Io(e)&&"[object RegExp]"===No(e)}function Io(e){return"object"==typeof e&&null!==e}function ko(e){return Io(e)&&"[object Date]"===No(e)}function Oo(e){return Io(e)&&("[object Error]"===No(e)||e instanceof Error)}function Lo(e){return"function"==typeof e}function Co(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function Po(e){return E.isBuffer(e)}function No(e){return Object.prototype.toString.call(e)}function Uo(e){return e<10?"0"+e.toString(10):e.toString(10)}po.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},po.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Mo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $o(){var e,t;console.log("%s - %s",(e=new Date,t=[Uo(e.getHours()),Uo(e.getMinutes()),Uo(e.getSeconds())].join(":"),[e.getDate(),Mo[e.getMonth()],t].join(" ")),co.apply(null,arguments))}function jo(e,t){if(!t||!Io(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Ho(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Do="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function Fo(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(Do&&e[Do]){var t;if("function"!=typeof(t=e[Do]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Do,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Do&&Object.defineProperty(t,Do,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,so(e))}function zo(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function Vo(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw new TypeError("The last argument must be of type Function");var o=this,i=function(){return n.apply(o,arguments)};e.apply(this,t).then((function(e){Zn.nextTick(i.bind(null,null,e))}),(function(e){Zn.nextTick(zo.bind(null,e,i))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,so(e)),t}Fo.custom=Do;var qo={inherits:io,_extend:jo,log:$o,isBuffer:Po,isPrimitive:Co,isFunction:Lo,isError:Oo,isDate:ko,isObject:Io,isRegExp:Ro,isUndefined:Bo,isSymbol:To,isString:So,isNumber:Ao,isNullOrUndefined:xo,isNull:Eo,isBoolean:_o,isArray:wo,inspect:po,deprecate:uo,format:co,debuglog:ho,promisify:Fo,callbackify:Vo},Ko=Object.freeze({__proto__:null,_extend:jo,callbackify:Vo,debuglog:ho,default:qo,deprecate:uo,format:co,inherits:io,inspect:po,isArray:wo,isBoolean:_o,isBuffer:Po,isDate:ko,isError:Oo,isFunction:Lo,isNull:Eo,isNullOrUndefined:xo,isNumber:Ao,isObject:Io,isPrimitive:Co,isRegExp:Ro,isString:So,isSymbol:To,isUndefined:Bo,log:$o,promisify:Fo});function Zo(){this.head=null,this.tail=null,this.length=0}Zo.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},Zo.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},Zo.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},Zo.prototype.clear=function(){this.head=this.tail=null,this.length=0},Zo.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},Zo.prototype.concat=function(e){if(0===this.length)return E.alloc(0);if(1===this.length)return this.head.data;for(var t=E.allocUnsafe(e>>>0),r=this.head,n=0;r;)r.data.copy(t,n),n+=r.data.length,r=r.next;return t};var Go=E.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Wo(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!Go(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=Yo;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Xo;break;default:return void(this.write=Jo)}this.charBuffer=new E(6),this.charReceived=0,this.charLength=0}function Jo(e){return e.toString(this.encoding)}function Yo(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function Xo(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}Wo.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((o=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&o<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var o;n=(t+=e.toString(this.encoding,0,n)).length-1;if((o=t.charCodeAt(n))>=55296&&o<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,n)}return t},Wo.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},Wo.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,o=this.encoding;t+=n.slice(0,r).toString(o)}return t},ti.ReadableState=ei;var Qo=ho("stream");function ei(e,t){e=e||{},this.objectMode=!!e.objectMode,t instanceof Ii&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new Zo,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(this.decoder=new Wo(e.encoding),this.encoding=e.encoding)}function ti(e){if(!(this instanceof ti))return new ti(e);this._readableState=new ei(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),fn.call(this)}function ri(e,t,r,n,o){var i=function(e,t){var r=null;E.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(i)e.emit("error",i);else if(null===r)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,ii(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!o){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&o){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var c;!t.decoder||o||n||(r=t.decoder.write(r),c=!t.objectMode&&0===r.length),o||(t.reading=!1),c||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,o?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&ii(e))),function(e,t){t.readingMore||(t.readingMore=!0,Ln(ai,e,t))}(e,t)}else o||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}io(ti,fn),ti.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding)!==r.encoding&&(e=E.from(e,t),t=""),ri(this,r,e,t,!1)},ti.prototype.unshift=function(e){return ri(this,this._readableState,e,"",!0)},ti.prototype.isPaused=function(){return!1===this._readableState.flowing},ti.prototype.setEncoding=function(e){return this._readableState.decoder=new Wo(e),this._readableState.encoding=e,this};var ni=8388608;function oi(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=ni?e=ni:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function ii(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(Qo("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ln(si,e):si(e))}function si(e){Qo("emit readable"),e.emit("readable"),fi(e)}function ai(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(Qo("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function ci(e){Qo("readable nexttick read 0"),e.read(0)}function ui(e,t){t.reading||(Qo("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),fi(e),t.flowing&&!t.reading&&e.read(0)}function fi(e){var t=e._readableState;for(Qo("flow",t.flowing);t.flowing&&null!==e.read(););}function li(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,o=r.data;e-=o.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++n}return t.length-=n,o}(e,t):function(e,t){var r=E.allocUnsafe(e),n=t.head,o=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,s),0===(e-=s)){s===i.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++o}return t.length-=o,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function hi(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ln(di,t,e))}function di(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function pi(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function gi(){}function yi(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function bi(e,t){Object.defineProperty(this,"buffer",{get:uo((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")}),e=e||{},this.objectMode=!!e.objectMode,t instanceof Ii&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?Ln(o,n):o(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,o);else{var i=Ei(r);i||r.corked||r.bufferProcessing||!r.bufferedRequest||_i(e,r),n?Ln(wi,e,r,i,o):wi(e,r,i,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new Si(this)}function mi(e){if(!(this instanceof mi||this instanceof Ii))return new mi(e);this._writableState=new bi(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),fn.call(this)}function vi(e,t,r,n,o,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function wi(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),Ai(e,t)}function _i(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var s=0;r;)o[s]=r,r=r.next,s+=1;vi(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new Si(t)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(vi(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function Ei(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function xi(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function Ai(e,t){var r=Ei(t);return r&&(0===t.pendingcb?(xi(e,t),t.finished=!0,e.emit("finish")):xi(e,t)),r}function Si(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var n=t.entry;for(t.entry=null;n;){var o=n.callback;e.pendingcb--,o(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}ti.prototype.read=function(e){Qo("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return Qo("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?hi(this):ii(this),null;if(0===(e=oi(e,t))&&t.ended)return 0===t.length&&hi(this),null;var n,o=t.needReadable;return Qo("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&Qo("length less than watermark",o=!0),t.ended||t.reading?Qo("reading or ended",o=!1):o&&(Qo("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=oi(r,t))),null===(n=e>0?li(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&hi(this)),null!==n&&this.emit("data",n),n},ti.prototype._read=function(e){this.emit("error",new Error("not implemented"))},ti.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,Qo("pipe count=%d opts=%j",n.pipesCount,t);var o=!t||!1!==t.end?s:u;function i(e){Qo("onunpipe"),e===r&&u()}function s(){Qo("onend"),e.end()}n.endEmitted?Ln(o):r.once("end",o),e.on("unpipe",i);var a=function(e){return function(){var t=e._readableState;Qo("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&e.listeners("data").length&&(t.flowing=!0,fi(e))}}(r);e.on("drain",a);var c=!1;function u(){Qo("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",i),r.removeListener("end",s),r.removeListener("end",u),r.removeListener("data",l),c=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}var f=!1;function l(t){Qo("ondata"),f=!1,!1!==e.write(t)||f||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==pi(n.pipes,e))&&!c&&(Qo("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function h(t){Qo("onerror",t),g(),e.removeListener("error",h),0===function(e,t){return e.listeners(t).length}(e,"error")&&e.emit("error",t)}function d(){e.removeListener("finish",p),g()}function p(){Qo("onfinish"),e.removeListener("close",d),g()}function g(){Qo("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(Qo("pipe resume"),r.resume()),e},ti.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this);return this}var i=pi(t.pipes,e);return-1===i||(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},ti.prototype.on=function(e,t){var r=fn.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&ii(this):Ln(ci,this))}return r},ti.prototype.addListener=ti.prototype.on,ti.prototype.resume=function(){var e=this._readableState;return e.flowing||(Qo("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ln(ui,e,t))}(this,e)),this},ti.prototype.pause=function(){return Qo("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Qo("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ti.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var o in e.on("end",(function(){if(Qo("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(o){(Qo("wrapped data"),t.decoder&&(o=t.decoder.write(o)),t.objectMode&&null==o)||(t.objectMode||o&&o.length)&&(n.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){Qo("wrapped _read",t),r&&(r=!1,e.resume())},n},ti._fromList=li,mi.WritableState=bi,io(mi,fn),bi.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},mi.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},mi.prototype.write=function(e,t,r){var n=this._writableState,o=!1;return"function"==typeof t&&(r=t,t=null),E.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=gi),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),Ln(t,r)}(this,r):function(e,t,r,n){var o=!0,i=!1;return null===r?i=new TypeError("May not write null values to stream"):E.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),Ln(n,i),o=!1),o}(this,n,e,r)&&(n.pendingcb++,o=function(e,t,r,n,o){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=E.from(t,r));return t}(t,r,n),E.isBuffer(r)&&(n="buffer");var i=t.objectMode?1:r.length;t.length+=i;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var a=t.lastBufferedRequest;t.lastBufferedRequest=new yi(r,n,o),a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else vi(e,t,!1,i,r,n,o);return s}(this,n,e,t,r)),o},mi.prototype.cork=function(){this._writableState.corked++},mi.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_i(this,e))},mi.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},mi.prototype._write=function(e,t,r){r(new Error("not implemented"))},mi.prototype._writev=null,mi.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,Ai(e,t),r&&(t.finished?Ln(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},io(Ii,ti);for(var Ti=Object.keys(mi.prototype),Bi=0;Bi<Ti.length;Bi++){var Ri=Ti[Bi];Ii.prototype[Ri]||(Ii.prototype[Ri]=mi.prototype[Ri])}function Ii(e){if(!(this instanceof Ii))return new Ii(e);ti.call(this,e),mi.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",ki)}function ki(){this.allowHalfOpen||this._writableState.ended||Ln(Oi,this)}function Oi(e){e.end()}function Li(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var o=n.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);o(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Ci(e){if(!(this instanceof Ci))return new Ci(e);Ii.call(this,e),this._transformState=new Li(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e){Pi(t,e)})):Pi(t)}))}function Pi(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}function Ni(e){if(!(this instanceof Ni))return new Ni(e);Ci.call(this,e)}function Ui(){fn.call(this)}io(Ci,Ii),Ci.prototype.push=function(e,t){return this._transformState.needTransform=!1,Ii.prototype.push.call(this,e,t)},Ci.prototype._transform=function(e,t,r){throw new Error("Not implemented")},Ci.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},Ci.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},io(Ni,Ci),Ni.prototype._transform=function(e,t,r){r(null,e)},io(Ui,fn),Ui.Readable=ti,Ui.Writable=mi,Ui.Duplex=Ii,Ui.Transform=Ci,Ui.PassThrough=Ni,Ui.Stream=Ui,Ui.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",a));var i=!1;function s(){i||(i=!0,e.end())}function a(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===fn.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e};var Mi=3,$i=4;function ji(e,t,r){var n,o=this;if(ti.call(o),o._mode=r,o.headers={},o.rawHeaders=[],o.trailers={},o.rawTrailers=[],o.on("end",(function(){Zn.nextTick((function(){o.emit("close")}))})),"fetch"===r){o._fetchResponse=t,o.url=t.url,o.statusCode=t.status,o.statusMessage=t.statusText;for(var i,s,a=t.headers[Symbol.iterator]();i=(s=a.next()).value,!s.done;)o.headers[i[0].toLowerCase()]=i[1],o.rawHeaders.push(i[0],i[1]);var c=t.body.getReader();(n=function(){c.read().then((function(e){o._destroyed||(e.done?o.push(null):(o.push(new E(e.value)),n()))}))})()}else{if(o._xhr=e,o._pos=0,o.url=e.responseURL,o.statusCode=e.status,o.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===o.headers[r]&&(o.headers[r]=[]),o.headers[r].push(t[2])):void 0!==o.headers[r]?o.headers[r]+=", "+t[2]:o.headers[r]=t[2],o.rawHeaders.push(t[1],t[2])}})),o._charset="x-user-defined",!ro){var u=o.rawHeaders["mime-type"];if(u){var f=u.match(/;\s*charset=([^;])(;|$)/);f&&(o._charset=f[1].toLowerCase())}o._charset||(o._charset="utf-8")}}}function Hi(e){var t,r=this;mi.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new E(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!ro;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return Wn&&t?"fetch":to?"moz-chunked-arraybuffer":eo?"ms-stream":Qn&&e?"arraybuffer":no&&e?"text:vbarray":"text"}(t,n),r.on("finish",(function(){r._onFinish()}))}io(ji,ti),ji.prototype._read=function(){},ji.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==$i)break;try{r=new a.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new E(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var n=r.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new E(n.length),i=0;i<n.length;i++)o[i]=255&n.charCodeAt(i);e.push(o)}else e.push(n,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==$i||!t.response)break;r=t.response,e.push(new E(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==Mi||!r)break;e.push(new E(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==Mi)break;var s=new a.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new E(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(r)}e._xhr.readyState===$i&&"ms-stream"!==e._mode&&e.push(null)},io(Hi,mi);var Di=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];Hi.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===Di.indexOf(r)&&(this._headers[r]={name:e,value:t})},Hi.prototype.getHeader=function(e){return this._headers[e.toLowerCase()].value},Hi.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},Hi.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,n=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=function(){if(void 0!==qn)return qn;try{new a.Blob([new ArrayBuffer(1)]),qn=!0}catch(e){qn=!1}return qn}()?new a.Blob(e._body.map((function(e){return function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(ie(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}(e)})),{type:(n["content-type"]||{}).value||""}):E.concat(e._body).toString()),"fetch"===e._mode){var o=Object.keys(n).map((function(e){return[n[e].name,n[e].value]}));a.fetch(e._opts.url,{method:e._opts.method,headers:o,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}))}else{var i=e._xhr=new a.XMLHttpRequest;try{i.open(e._opts.method,e._opts.url,!0)}catch(t){return void Zn.nextTick((function(){e.emit("error",t)}))}"responseType"in i&&(i.responseType=e._mode.split(":")[0]),"withCredentials"in i&&(i.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(n).forEach((function(e){i.setRequestHeader(n[e].name,n[e].value)})),e._response=null,i.onreadystatechange=function(){switch(i.readyState){case Mi:case $i:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(i.onprogress=function(){e._onXHRProgress()}),i.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{i.send(t)}catch(t){return void Zn.nextTick((function(){e.emit("error",t)}))}}}},Hi.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},Hi.prototype._connect=function(){var e=this;e._destroyed||(e._response=new ji(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},Hi.prototype._write=function(e,t,r){this._body.push(e),r()},Hi.prototype.abort=Hi.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},Hi.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),mi.prototype.end.call(this,e,t,r)},Hi.prototype.flushHeaders=function(){},Hi.prototype.setTimeout=function(){},Hi.prototype.setNoDelay=function(){},Hi.prototype.setSocketKeepAlive=function(){};
/*! https://mths.be/punycode v1.4.1 by @mathias */
var Fi=2147483647,zi=36,Vi=1,qi=26,Ki=38,Zi=700,Gi=72,Wi=128,Ji="-",Yi=/[^\x20-\x7E]/,Xi=/[\x2E\u3002\uFF0E\uFF61]/g,Qi={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},es=zi-Vi,ts=Math.floor,rs=String.fromCharCode;function ns(e){throw new RangeError(Qi[e])}function os(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function is(e,t,r){var n=0;for(e=r?ts(e/Zi):e>>1,e+=ts(e/t);e>es*qi>>1;n+=zi)e=ts(e/es);return ts(n+(es+1)*e/(e+Ki))}function ss(e){return function(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var o=function(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}((e=e.replace(Xi,".")).split("."),t).join(".");return n+o}(e,(function(e){return Yi.test(e)?"xn--"+function(e){var t,r,n,o,i,s,a,c,u,f,l,h,d,p,g,y=[];for(e=function(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}(e),h=e.length,t=Wi,r=0,i=Gi,s=0;s<h;++s)(l=e[s])<128&&y.push(rs(l));for(n=o=y.length,o&&y.push(Ji);n<h;){for(a=Fi,s=0;s<h;++s)(l=e[s])>=t&&l<a&&(a=l);for(a-t>ts((Fi-r)/(d=n+1))&&ns("overflow"),r+=(a-t)*d,t=a,s=0;s<h;++s)if((l=e[s])<t&&++r>Fi&&ns("overflow"),l==t){for(c=r,u=zi;!(c<(f=u<=i?Vi:u>=i+qi?qi:u-i));u+=zi)g=c-f,p=zi-f,y.push(rs(os(f+g%p,0))),c=ts(g/p);y.push(rs(os(c,0))),i=is(r,d,n==o),r=0,++n}++r,++t}return y.join("")}(e):e}))}function as(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var cs=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function us(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function fs(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var ls=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function hs(e,t,r,n){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var c=0;c<a;++c){var u,f,l,h,d=e[c].replace(i,"%20"),p=d.indexOf(r);p>=0?(u=d.substr(0,p),f=d.substr(p+1)):(u=d,f=""),l=decodeURIComponent(u),h=decodeURIComponent(f),as(o,l)?cs(o[l])?o[l].push(h):o[l]=[o[l],h]:o[l]=h}return o}const ds=a.URL,ps=a.URLSearchParams;var gs={parse:ks,resolve:Ns,resolveObject:Us,fileURLToPath:Ls,format:Cs,Url:ys,URL:ds,URLSearchParams:ps};function ys(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var bs=/^([a-z0-9.+-]+:)/i,ms=/:[0-9]*$/,vs=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ws=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),_s=["'"].concat(ws),Es=["%","/","?",";","#"].concat(_s),xs=["/","?","#"],As=255,Ss=/^[+a-z0-9A-Z_-]{0,63}$/,Ts=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Bs={javascript:!0,"javascript:":!0},Rs={javascript:!0,"javascript:":!0},Is={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ks(e,t,r){if(e&&Io(e)&&e instanceof ys)return e;var n=new ys;return n.parse(e,t,r),n}function Os(e,t,r,n){if(!So(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),i=-1!==o&&o<t.indexOf("#")?"?":"#",s=t.split(i);s[0]=s[0].replace(/\\/g,"/");var a=t=s.join(i);if(a=a.trim(),!n&&1===t.split("#").length){var c=vs.exec(a);if(c)return e.path=a,e.href=a,e.pathname=c[1],c[2]?(e.search=c[2],e.query=r?hs(e.search.substr(1)):e.search.substr(1)):r&&(e.search="",e.query={}),e}var u,f,l,h,d=bs.exec(a);if(d){var p=(d=d[0]).toLowerCase();e.protocol=p,a=a.substr(d.length)}if(n||d||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===a.substr(0,2);!g||d&&Rs[d]||(a=a.substr(2),e.slashes=!0)}if(!Rs[d]&&(g||d&&!Is[d])){var y,b,m=-1;for(u=0;u<xs.length;u++)-1!==(f=a.indexOf(xs[u]))&&(-1===m||f<m)&&(m=f);for(-1!==(b=-1===m?a.lastIndexOf("@"):a.lastIndexOf("@",m))&&(y=a.slice(0,b),a=a.slice(b+1),e.auth=decodeURIComponent(y)),m=-1,u=0;u<Es.length;u++)-1!==(f=a.indexOf(Es[u]))&&(-1===m||f<m)&&(m=f);-1===m&&(m=a.length),e.host=a.slice(0,m),a=a.slice(m),Ms(e),e.hostname=e.hostname||"";var v="["===e.hostname[0]&&"]"===e.hostname[e.hostname.length-1];if(!v){var w=e.hostname.split(/\./);for(u=0,l=w.length;u<l;u++){var _=w[u];if(_&&!_.match(Ss)){for(var E="",x=0,A=_.length;x<A;x++)_.charCodeAt(x)>127?E+="x":E+=_[x];if(!E.match(Ss)){var S=w.slice(0,u),T=w.slice(u+1),B=_.match(Ts);B&&(S.push(B[1]),T.unshift(B[2])),T.length&&(a="/"+T.join(".")+a),e.hostname=S.join(".");break}}}}e.hostname.length>As?e.hostname="":e.hostname=e.hostname.toLowerCase(),v||(e.hostname=ss(e.hostname)),h=e.port?":"+e.port:"";var R=e.hostname||"";e.host=R+h,e.href+=e.host,v&&(e.hostname=e.hostname.substr(1,e.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Bs[p])for(u=0,l=_s.length;u<l;u++){var I=_s[u];if(-1!==a.indexOf(I)){var k=encodeURIComponent(I);k===I&&(k=escape(I)),a=a.split(I).join(k)}}var O=a.indexOf("#");-1!==O&&(e.hash=a.substr(O),a=a.slice(0,O));var L=a.indexOf("?");if(-1!==L?(e.search=a.substr(L),e.query=a.substr(L+1),r&&(e.query=hs(e.query)),a=a.slice(0,L)):r&&(e.search="",e.query={}),a&&(e.pathname=a),Is[p]&&e.hostname&&!e.pathname&&(e.pathname="/"),e.pathname||e.search){h=e.pathname||"";var C=e.search||"";e.path=h+C}return e.href=Ps(e),e}function Ls(e){if("string"==typeof e)e=(new ys).parse(e);else if(!(e instanceof ys))throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof e+String(e));if("file:"!==e.protocol)throw new TypeError("The URL must be of scheme file");return function(e){const t=e.pathname;for(let e=0;e<t.length;e++)if("%"===t[e]){const r=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===r)throw new TypeError("must not include encoded / characters")}return decodeURIComponent(t)}(e)}function Cs(e){return So(e)&&(e=Os({},e)),Ps(e)}function Ps(e){var t=e.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var r=e.protocol||"",n=e.pathname||"",o=e.hash||"",i=!1,s="";e.host?i=t+e.host:e.hostname&&(i=t+(-1===e.hostname.indexOf(":")?e.hostname:"["+this.hostname+"]"),e.port&&(i+=":"+e.port)),e.query&&Io(e.query)&&Object.keys(e.query).length&&(s=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?fs(ls(e),(function(n){var o=encodeURIComponent(us(n))+r;return cs(e[n])?fs(e[n],(function(e){return o+encodeURIComponent(us(e))})).join(t):o+encodeURIComponent(us(e[n]))})).join(t):n?encodeURIComponent(us(n))+r+encodeURIComponent(us(e)):""}(e.query));var a=e.search||s&&"?"+s||"";return r&&":"!==r.substr(-1)&&(r+=":"),e.slashes||(!r||Is[r])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),o&&"#"!==o.charAt(0)&&(o="#"+o),a&&"?"!==a.charAt(0)&&(a="?"+a),r+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+o}function Ns(e,t){return ks(e,!1,!0).resolve(t)}function Us(e,t){return e?ks(e,!1,!0).resolveObject(t):t}function Ms(e){var t=e.host,r=ms.exec(t);r&&(":"!==(r=r[0])&&(e.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(e.hostname=t)}ys.prototype.parse=function(e,t,r){return Os(this,e,t,r)},ys.prototype.format=function(){return Ps(this)},ys.prototype.resolve=function(e){return this.resolveObject(ks(e,!1,!0)).format()},ys.prototype.resolveObject=function(e){if(So(e)){var t=new ys;t.parse(e,!1,!0),e=t}for(var r,n=new ys,o=Object.keys(this),i=0;i<o.length;i++){var s=o[i];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),c=0;c<a.length;c++){var u=a[c];"protocol"!==u&&(n[u]=e[u])}return Is[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!Is[e.protocol]){for(var f=Object.keys(e),l=0;l<f.length;l++){var h=f[l];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Rs[e.protocol])n.pathname=e.pathname;else{for(r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g,y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),m=b||y||n.host&&e.pathname,v=m,w=n.pathname&&n.pathname.split("/")||[],_=n.protocol&&!Is[n.protocol];if(r=e.pathname&&e.pathname.split("/")||[],_&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),m=m&&(""===r[0]||""===w[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=r;else if(r.length)w||(w=[]),w.pop(),w=w.concat(r),n.search=e.search,n.query=e.query;else if(!xo(e.search))return _&&(n.hostname=n.host=w.shift(),(g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=g.shift(),n.host=n.hostname=g.shift())),n.search=e.search,n.query=e.query,Eo(n.pathname)&&Eo(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=w.slice(-1)[0],x=(n.host||e.host||w.length>1)&&("."===E||".."===E)||""===E,A=0,S=w.length;S>=0;S--)"."===(E=w[S])?w.splice(S,1):".."===E?(w.splice(S,1),A++):A&&(w.splice(S,1),A--);if(!m&&!v)for(;A--;A)w.unshift("..");!m||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),x&&"/"!==w.join("/").substr(-1)&&w.push("");var T=""===w[0]||w[0]&&"/"===w[0].charAt(0);return _&&(n.hostname=n.host=T?"":w.length?w.shift():"",(g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=g.shift(),n.host=n.hostname=g.shift())),(m=m||n.host&&w.length)&&!T&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),Eo(n.pathname)&&Eo(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},ys.prototype.parseHost=function(){return Ms(this)};var $s=Object.freeze({__proto__:null,URL:ds,URLSearchParams:ps,Url:ys,default:gs,fileURLToPath:Ls,format:Cs,parse:ks,resolve:Ns,resolveObject:Us});function js(e,t){"string"==typeof e&&(e=ks(e));var r=-1===a.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||r,o=e.hostname||e.host,i=e.port,s=e.path||"/";o&&-1!==o.indexOf(":")&&(o="["+o+"]"),e.url=(o?n+"//"+o:"")+(i?":"+i:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var c=new Hi(e);return t&&c.on("response",t),c}function Hs(e,t){var r=js(e,t);return r.end(),r}function Ds(){}Ds.defaultMaxSockets=4;var Fs=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],zs={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Vs={request:js,get:Hs,Agent:Ds,METHODS:Fs,STATUS_CODES:zs},qs=r(Object.freeze({__proto__:null,Agent:Ds,METHODS:Fs,STATUS_CODES:zs,default:Vs,get:Hs,request:js}));function Ks(e,t){"string"==typeof e&&(e=ks(e));var r=-1===a.location.protocol.search(/^https?:$/)?"http:":"",n=e.protocol||r,o=e.hostname||e.host,i=e.port,s=e.path||"/";o&&-1!==o.indexOf(":")&&(o="["+o+"]"),e.url=(o?n+"//"+o:"")+(i?":"+i:"")+s,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var c=new Hi(e);return t&&c.on("response",t),c}function Zs(e,t){var r=Ks(e,t);return r.end(),r}function Gs(){}Gs.defaultMaxSockets=4;var Ws=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"],Js={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},Ys={request:Ks,get:Zs,Agent:Gs,METHODS:Ws,STATUS_CODES:Js},Xs=r(Object.freeze({__proto__:null,Agent:Gs,METHODS:Ws,STATUS_CODES:Js,default:Ys,get:Zs,request:Ks})),Qs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function ea(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function ta(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var i=0;i<n;i++)e[o+i]=t[r+i]}var ra=Uint8Array,na=Uint16Array,oa=Int32Array,ia=4,sa=0,aa=1,ca=2;function ua(e){for(var t=e.length;--t>=0;)e[t]=0}var fa=0,la=1,ha=2,da=29,pa=256,ga=pa+1+da,ya=30,ba=19,ma=2*ga+1,va=15,wa=16,_a=7,Ea=256,xa=16,Aa=17,Sa=18,Ta=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ba=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ra=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ka=new Array(2*(ga+2));ua(ka);var Oa=new Array(2*ya);ua(Oa);var La=new Array(512);ua(La);var Ca=new Array(256);ua(Ca);var Pa=new Array(da);ua(Pa);var Na,Ua,Ma,$a=new Array(ya);function ja(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}function Ha(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Da(e){return e<256?La[e]:La[256+(e>>>7)]}function Fa(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function za(e,t,r){e.bi_valid>wa-r?(e.bi_buf|=t<<e.bi_valid&65535,Fa(e,e.bi_buf),e.bi_buf=t>>wa-e.bi_valid,e.bi_valid+=r-wa):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Va(e,t,r){za(e,r[2*t],r[2*t+1])}function qa(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function Ka(e,t,r){var n,o,i=new Array(va+1),s=0;for(n=1;n<=va;n++)i[n]=s=s+r[n-1]<<1;for(o=0;o<=t;o++){var a=e[2*o+1];0!==a&&(e[2*o]=qa(i[a]++,a))}}function Za(e){var t;for(t=0;t<ga;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ya;t++)e.dyn_dtree[2*t]=0;for(t=0;t<ba;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Ea]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Ga(e){e.bi_valid>8?Fa(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Wa(e,t,r,n){var o=2*t,i=2*r;return e[o]<e[i]||e[o]===e[i]&&n[t]<=n[r]}function Ja(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&Wa(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Wa(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function Ya(e,t,r){var n,o,i,s,a=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],o=e.pending_buf[e.l_buf+a],a++,0===n?Va(e,o,t):(Va(e,(i=Ca[o])+pa+1,t),0!==(s=Ta[i])&&za(e,o-=Pa[i],s),Va(e,i=Da(--n),r),0!==(s=Ba[i])&&za(e,n-=$a[i],s))}while(a<e.last_lit);Va(e,Ea,t)}function Xa(e,t){var r,n,o,i=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=ma,r=0;r<c;r++)0!==i[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=s[2*o+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)Ja(e,i,r);o=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ja(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*o]=i[2*r]+i[2*n],e.depth[o]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=o,e.heap[1]=o++,Ja(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,o,i,s,a,c=t.dyn_tree,u=t.max_code,f=t.stat_desc.static_tree,l=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(i=0;i<=va;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<ma;r++)(i=c[2*c[2*(n=e.heap[r])+1]+1]+1)>p&&(i=p,g++),c[2*n+1]=i,n>u||(e.bl_count[i]++,s=0,n>=d&&(s=h[n-d]),a=c[2*n],e.opt_len+=a*(i+s),l&&(e.static_len+=a*(f[2*n+1]+s)));if(0!==g){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(i=p;0!==i;i--)for(n=e.bl_count[i];0!==n;)(o=e.heap[--r])>u||(c[2*o+1]!==i&&(e.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),n--)}}(e,t),Ka(i,u,e.bl_count)}function Qa(e,t,r){var n,o,i=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)o=s,s=t[2*(n+1)+1],++a<c&&o===s||(a<u?e.bl_tree[2*o]+=a:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*xa]++):a<=10?e.bl_tree[2*Aa]++:e.bl_tree[2*Sa]++,a=0,i=o,0===s?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4))}function ec(e,t,r){var n,o,i=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(o=s,s=t[2*(n+1)+1],!(++a<c&&o===s)){if(a<u)do{Va(e,o,e.bl_tree)}while(0!=--a);else 0!==o?(o!==i&&(Va(e,o,e.bl_tree),a--),Va(e,xa,e.bl_tree),za(e,a-3,2)):a<=10?(Va(e,Aa,e.bl_tree),za(e,a-3,3)):(Va(e,Sa,e.bl_tree),za(e,a-11,7));a=0,i=o,0===s?(c=138,u=3):o===s?(c=6,u=3):(c=7,u=4)}}ua($a);var tc=!1;function rc(e){tc||(!function(){var e,t,r,n,o,i=new Array(va+1);for(r=0,n=0;n<da-1;n++)for(Pa[n]=r,e=0;e<1<<Ta[n];e++)Ca[r++]=n;for(Ca[r-1]=n,o=0,n=0;n<16;n++)for($a[n]=o,e=0;e<1<<Ba[n];e++)La[o++]=n;for(o>>=7;n<ya;n++)for($a[n]=o<<7,e=0;e<1<<Ba[n]-7;e++)La[256+o++]=n;for(t=0;t<=va;t++)i[t]=0;for(e=0;e<=143;)ka[2*e+1]=8,e++,i[8]++;for(;e<=255;)ka[2*e+1]=9,e++,i[9]++;for(;e<=279;)ka[2*e+1]=7,e++,i[7]++;for(;e<=287;)ka[2*e+1]=8,e++,i[8]++;for(Ka(ka,ga+1,i),e=0;e<ya;e++)Oa[2*e+1]=5,Oa[2*e]=qa(e,5);Na=new ja(ka,Ta,pa+1,ga,va),Ua=new ja(Oa,Ba,0,ya,va),Ma=new ja(new Array(0),Ra,0,ba,_a)}(),tc=!0),e.l_desc=new Ha(e.dyn_ltree,Na),e.d_desc=new Ha(e.dyn_dtree,Ua),e.bl_desc=new Ha(e.bl_tree,Ma),e.bi_buf=0,e.bi_valid=0,Za(e)}function nc(e,t,r,n){za(e,(fa<<1)+(n?1:0),3),function(e,t,r,n){Ga(e),n&&(Fa(e,r),Fa(e,~r)),ta(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}function oc(e){za(e,la<<1,3),Va(e,Ea,ka),function(e){16===e.bi_valid?(Fa(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}function ic(e,t,r,n){var o,i,s=0;e.level>0?(e.strm.data_type===ca&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return sa;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return aa;for(t=32;t<pa;t++)if(0!==e.dyn_ltree[2*t])return aa;return sa}(e)),Xa(e,e.l_desc),Xa(e,e.d_desc),s=function(e){var t;for(Qa(e,e.dyn_ltree,e.l_desc.max_code),Qa(e,e.dyn_dtree,e.d_desc.max_code),Xa(e,e.bl_desc),t=ba-1;t>=3&&0===e.bl_tree[2*Ia[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=r+5,r+4<=o&&-1!==t?nc(e,t,r,n):e.strategy===ia||i===o?(za(e,(la<<1)+(n?1:0),3),Ya(e,ka,Oa)):(za(e,(ha<<1)+(n?1:0),3),function(e,t,r,n){var o;for(za(e,t-257,5),za(e,r-1,5),za(e,n-4,4),o=0;o<n;o++)za(e,e.bl_tree[2*Ia[o]+1],3);ec(e,e.dyn_ltree,t-1),ec(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Ya(e,e.dyn_ltree,e.dyn_dtree)),Za(e),n&&Ga(e)}function sc(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(Ca[r]+pa+1)]++,e.dyn_dtree[2*Da(t)]++),e.last_lit===e.lit_bufsize-1}function ac(e,t,r,n){for(var o=65535&e|0,i=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{i=i+(o=o+t[n++]|0)|0}while(--s);o%=65521,i%=65521}return o|i<<16|0}var cc=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function uc(e,t,r,n){var o=cc,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}var fc,lc=0,hc=4,dc=0,pc=-2,gc=2,yc=8,bc=286,mc=30,vc=19,wc=2*bc+1,_c=15,Ec=3,xc=258,Ac=xc+Ec+1,Sc=42,Tc=103,Bc=113,Rc=666,Ic=1,kc=2,Oc=3,Lc=4;function Cc(e,t){return e.msg=Qs[t],t}function Pc(e){return(e<<1)-(e>4?9:0)}function Nc(e){for(var t=e.length;--t>=0;)e[t]=0}function Uc(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(ta(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function Mc(e,t){ic(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Uc(e.strm)}function $c(e,t){e.pending_buf[e.pending++]=t}function jc(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function Hc(e,t,r,n){var o=e.avail_in;return o>n&&(o=n),0===o?0:(e.avail_in-=o,ta(t,e.input,e.next_in,o,r),1===e.state.wrap?e.adler=ac(e.adler,t,o,r):2===e.state.wrap&&(e.adler=uc(e.adler,t,o,r)),e.next_in+=o,e.total_in+=o,o)}function Dc(e,t){var r,n,o=e.max_chain_length,i=e.strstart,s=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-Ac?e.strstart-(e.w_size-Ac):0,u=e.window,f=e.w_mask,l=e.prev,h=e.strstart+xc,d=u[i+s-1],p=u[i+s];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(r=t)+s]===p&&u[r+s-1]===d&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<h);if(n=xc-(h-i),i=h-xc,n>s){if(e.match_start=t,s=n,n>=a)break;d=u[i+s-1],p=u[i+s]}}}while((t=l[t&f])>c&&0!=--o);return s<=e.lookahead?s:e.lookahead}function Fc(e){var t,r,n,o,i,s=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-Ac)){ta(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=s?n-s:0}while(--r);t=r=s;do{n=e.prev[--t],e.prev[t]=n>=s?n-s:0}while(--r);o+=s}if(0===e.strm.avail_in)break;if(r=Hc(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=Ec)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+Ec-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Ec)););}while(e.lookahead<Ac&&0!==e.strm.avail_in)}function zc(e,t){for(var r,n;;){if(e.lookahead<Ac){if(Fc(e),e.lookahead<Ac&&t===lc)return Ic;if(0===e.lookahead)break}if(r=0,e.lookahead>=Ec&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ec-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-Ac&&(e.match_length=Dc(e,r)),e.match_length>=Ec)if(n=sc(e,e.strstart-e.match_start,e.match_length-Ec),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Ec){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ec-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=sc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Mc(e,!1),0===e.strm.avail_out))return Ic}return e.insert=e.strstart<Ec-1?e.strstart:Ec-1,t===hc?(Mc(e,!0),0===e.strm.avail_out?Oc:Lc):e.last_lit&&(Mc(e,!1),0===e.strm.avail_out)?Ic:kc}function Vc(e,t){for(var r,n,o;;){if(e.lookahead<Ac){if(Fc(e),e.lookahead<Ac&&t===lc)return Ic;if(0===e.lookahead)break}if(r=0,e.lookahead>=Ec&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ec-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Ec-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Ac&&(e.match_length=Dc(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===Ec&&e.strstart-e.match_start>4096)&&(e.match_length=Ec-1)),e.prev_length>=Ec&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Ec,n=sc(e,e.strstart-1-e.prev_match,e.prev_length-Ec),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Ec-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=Ec-1,e.strstart++,n&&(Mc(e,!1),0===e.strm.avail_out))return Ic}else if(e.match_available){if((n=sc(e,0,e.window[e.strstart-1]))&&Mc(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Ic}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=sc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Ec-1?e.strstart:Ec-1,t===hc?(Mc(e,!0),0===e.strm.avail_out?Oc:Lc):e.last_lit&&(Mc(e,!1),0===e.strm.avail_out)?Ic:kc}function qc(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}function Kc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yc,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new na(2*wc),this.dyn_dtree=new na(2*(2*mc+1)),this.bl_tree=new na(2*(2*vc+1)),Nc(this.dyn_ltree),Nc(this.dyn_dtree),Nc(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new na(_c+1),this.heap=new na(2*bc+1),Nc(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new na(2*bc+1),Nc(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Zc(e){var t,r=function(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=gc,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Sc:Bc,e.adler=2===t.wrap?0:1,t.last_flush=lc,rc(t),dc):Cc(e,pc)}(e);return r===dc&&((t=e.state).window_size=2*t.w_size,Nc(t.head),t.max_lazy_match=fc[t.level].max_lazy,t.good_match=fc[t.level].good_length,t.nice_match=fc[t.level].nice_length,t.max_chain_length=fc[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Ec-1,t.match_available=0,t.ins_h=0),r}function Gc(e,t){var r,n,o,i;if(!e||!e.state||t>5||t<0)return e?Cc(e,pc):pc;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===Rc&&t!==hc)return Cc(e,0===e.avail_out?-5:pc);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===Sc)if(2===n.wrap)e.adler=0,$c(n,31),$c(n,139),$c(n,8),n.gzhead?($c(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),$c(n,255&n.gzhead.time),$c(n,n.gzhead.time>>8&255),$c(n,n.gzhead.time>>16&255),$c(n,n.gzhead.time>>24&255),$c(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),$c(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&($c(n,255&n.gzhead.extra.length),$c(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=uc(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):($c(n,0),$c(n,0),$c(n,0),$c(n,0),$c(n,0),$c(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),$c(n,3),n.status=Bc);else{var s=yc+(n.w_bits-8<<4)<<8;s|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(s|=32),s+=31-s%31,n.status=Bc,jc(n,s),0!==n.strstart&&(jc(n,e.adler>>>16),jc(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(e.adler=uc(e.adler,n.pending_buf,n.pending-o,o)),Uc(e),o=n.pending,n.pending!==n.pending_buf_size));)$c(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=uc(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=uc(e.adler,n.pending_buf,n.pending-o,o)),Uc(e),o=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,$c(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>o&&(e.adler=uc(e.adler,n.pending_buf,n.pending-o,o)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=uc(e.adler,n.pending_buf,n.pending-o,o)),Uc(e),o=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,$c(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>o&&(e.adler=uc(e.adler,n.pending_buf,n.pending-o,o)),0===i&&(n.status=Tc)}else n.status=Tc;if(n.status===Tc&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Uc(e),n.pending+2<=n.pending_buf_size&&($c(n,255&e.adler),$c(n,e.adler>>8&255),e.adler=0,n.status=Bc)):n.status=Bc),0!==n.pending){if(Uc(e),0===e.avail_out)return n.last_flush=-1,dc}else if(0===e.avail_in&&Pc(t)<=Pc(r)&&t!==hc)return Cc(e,-5);if(n.status===Rc&&0!==e.avail_in)return Cc(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==lc&&n.status!==Rc){var a=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(Fc(e),0===e.lookahead)){if(t===lc)return Ic;break}if(e.match_length=0,r=sc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Mc(e,!1),0===e.strm.avail_out))return Ic}return e.insert=0,t===hc?(Mc(e,!0),0===e.strm.avail_out?Oc:Lc):e.last_lit&&(Mc(e,!1),0===e.strm.avail_out)?Ic:kc}(n,t):3===n.strategy?function(e,t){for(var r,n,o,i,s=e.window;;){if(e.lookahead<=xc){if(Fc(e),e.lookahead<=xc&&t===lc)return Ic;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=Ec&&e.strstart>0&&(n=s[o=e.strstart-1])===s[++o]&&n===s[++o]&&n===s[++o]){i=e.strstart+xc;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<i);e.match_length=xc-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Ec?(r=sc(e,1,e.match_length-Ec),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=sc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Mc(e,!1),0===e.strm.avail_out))return Ic}return e.insert=0,t===hc?(Mc(e,!0),0===e.strm.avail_out?Oc:Lc):e.last_lit&&(Mc(e,!1),0===e.strm.avail_out)?Ic:kc}(n,t):fc[n.level].func(n,t);if(a!==Oc&&a!==Lc||(n.status=Rc),a===Ic||a===Oc)return 0===e.avail_out&&(n.last_flush=-1),dc;if(a===kc&&(1===t?oc(n):5!==t&&(nc(n,0,0,!1),3===t&&(Nc(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Uc(e),0===e.avail_out))return n.last_flush=-1,dc}return t!==hc?dc:n.wrap<=0?1:(2===n.wrap?($c(n,255&e.adler),$c(n,e.adler>>8&255),$c(n,e.adler>>16&255),$c(n,e.adler>>24&255),$c(n,255&e.total_in),$c(n,e.total_in>>8&255),$c(n,e.total_in>>16&255),$c(n,e.total_in>>24&255)):(jc(n,e.adler>>>16),jc(n,65535&e.adler)),Uc(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?dc:1)}fc=[new qc(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fc(e),0===e.lookahead&&t===lc)return Ic;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Mc(e,!1),0===e.strm.avail_out))return Ic;if(e.strstart-e.block_start>=e.w_size-Ac&&(Mc(e,!1),0===e.strm.avail_out))return Ic}return e.insert=0,t===hc?(Mc(e,!0),0===e.strm.avail_out?Oc:Lc):(e.strstart>e.block_start&&(Mc(e,!1),e.strm.avail_out),Ic)})),new qc(4,4,8,4,zc),new qc(4,5,16,8,zc),new qc(4,6,32,32,zc),new qc(4,4,16,16,Vc),new qc(8,16,32,32,Vc),new qc(8,16,128,128,Vc),new qc(8,32,128,256,Vc),new qc(32,128,258,1024,Vc),new qc(32,258,258,4096,Vc)];var Wc=30,Jc=12;function Yc(e,t){var r,n,o,i,s,a,c,u,f,l,h,d,p,g,y,b,m,v,w,_,E,x,A,S,T;r=e.state,n=e.next_in,S=e.input,o=n+(e.avail_in-5),i=e.next_out,T=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),c=r.dmax,u=r.wsize,f=r.whave,l=r.wnext,h=r.window,d=r.hold,p=r.bits,g=r.lencode,y=r.distcode,b=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;e:do{p<15&&(d+=S[n++]<<p,p+=8,d+=S[n++]<<p,p+=8),v=g[d&b];t:for(;;){if(d>>>=w=v>>>24,p-=w,0===(w=v>>>16&255))T[i++]=65535&v;else{if(!(16&w)){if(0==(64&w)){v=g[(65535&v)+(d&(1<<w)-1)];continue t}if(32&w){r.mode=Jc;break e}e.msg="invalid literal/length code",r.mode=Wc;break e}_=65535&v,(w&=15)&&(p<w&&(d+=S[n++]<<p,p+=8),_+=d&(1<<w)-1,d>>>=w,p-=w),p<15&&(d+=S[n++]<<p,p+=8,d+=S[n++]<<p,p+=8),v=y[d&m];r:for(;;){if(d>>>=w=v>>>24,p-=w,!(16&(w=v>>>16&255))){if(0==(64&w)){v=y[(65535&v)+(d&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=Wc;break e}if(E=65535&v,p<(w&=15)&&(d+=S[n++]<<p,(p+=8)<w&&(d+=S[n++]<<p,p+=8)),(E+=d&(1<<w)-1)>c){e.msg="invalid distance too far back",r.mode=Wc;break e}if(d>>>=w,p-=w,E>(w=i-s)){if((w=E-w)>f&&r.sane){e.msg="invalid distance too far back",r.mode=Wc;break e}if(x=0,A=h,0===l){if(x+=u-w,w<_){_-=w;do{T[i++]=h[x++]}while(--w);x=i-E,A=T}}else if(l<w){if(x+=u+l-w,(w-=l)<_){_-=w;do{T[i++]=h[x++]}while(--w);if(x=0,l<_){_-=w=l;do{T[i++]=h[x++]}while(--w);x=i-E,A=T}}}else if(x+=l-w,w<_){_-=w;do{T[i++]=h[x++]}while(--w);x=i-E,A=T}for(;_>2;)T[i++]=A[x++],T[i++]=A[x++],T[i++]=A[x++],_-=3;_&&(T[i++]=A[x++],_>1&&(T[i++]=A[x++]))}else{x=i-E;do{T[i++]=T[x++],T[i++]=T[x++],T[i++]=T[x++],_-=3}while(_>2);_&&(T[i++]=T[x++],_>1&&(T[i++]=T[x++]))}break}}break}}while(n<o&&i<a);n-=_=p>>3,d&=(1<<(p-=_<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<o?o-n+5:5-(n-o),e.avail_out=i<a?a-i+257:257-(i-a),r.hold=d,r.bits=p}var Xc=15,Qc=852,eu=592,tu=0,ru=1,nu=2,ou=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],iu=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],su=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],au=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function cu(e,t,r,n,o,i,s,a){var c,u,f,l,h,d,p,g,y,b=a.bits,m=0,v=0,w=0,_=0,E=0,x=0,A=0,S=0,T=0,B=0,R=null,I=0,k=new na(Xc+1),O=new na(Xc+1),L=null,C=0;for(m=0;m<=Xc;m++)k[m]=0;for(v=0;v<n;v++)k[t[r+v]]++;for(E=b,_=Xc;_>=1&&0===k[_];_--);if(E>_&&(E=_),0===_)return o[i++]=20971520,o[i++]=20971520,a.bits=1,0;for(w=1;w<_&&0===k[w];w++);for(E<w&&(E=w),S=1,m=1;m<=Xc;m++)if(S<<=1,(S-=k[m])<0)return-1;if(S>0&&(e===tu||1!==_))return-1;for(O[1]=0,m=1;m<Xc;m++)O[m+1]=O[m]+k[m];for(v=0;v<n;v++)0!==t[r+v]&&(s[O[t[r+v]]++]=v);if(e===tu?(R=L=s,d=19):e===ru?(R=ou,I-=257,L=iu,C-=257,d=256):(R=su,L=au,d=-1),B=0,v=0,m=w,h=i,x=E,A=0,f=-1,l=(T=1<<E)-1,e===ru&&T>Qc||e===nu&&T>eu)return 1;for(;;){p=m-A,s[v]<d?(g=0,y=s[v]):s[v]>d?(g=L[C+s[v]],y=R[I+s[v]]):(g=96,y=0),c=1<<m-A,w=u=1<<x;do{o[h+(B>>A)+(u-=c)]=p<<24|g<<16|y|0}while(0!==u);for(c=1<<m-1;B&c;)c>>=1;if(0!==c?(B&=c-1,B+=c):B=0,v++,0==--k[m]){if(m===_)break;m=t[r+s[v]]}if(m>E&&(B&l)!==f){for(0===A&&(A=E),h+=w,S=1<<(x=m-A);x+A<_&&!((S-=k[x+A])<=0);)x++,S<<=1;if(T+=1<<x,e===ru&&T>Qc||e===nu&&T>eu)return 1;o[f=B&l]=E<<24|x<<16|h-i|0}}return 0!==B&&(o[h+B]=m-A<<24|64<<16|0),a.bits=E,0}var uu=1,fu=2,lu=0,hu=-2,du=1,pu=12,gu=30,yu=852,bu=592;function mu(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function vu(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new na(320),this.work=new na(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function wu(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=du,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new oa(yu),t.distcode=t.distdyn=new oa(bu),t.sane=1,t.back=-1,lu):hu}(e)):hu}function _u(e,t){var r,n;return e?(n=new vu,e.state=n,n.window=null,r=function(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?hu:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,wu(e))):hu}(e,t),r!==lu&&(e.state=null),r):hu}var Eu,xu,Au=!0;function Su(e){if(Au){var t;for(Eu=new oa(512),xu=new oa(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(cu(uu,e.lens,0,288,Eu,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;cu(fu,e.lens,0,32,xu,0,e.work,{bits:5}),Au=!1}e.lencode=Eu,e.lenbits=9,e.distcode=xu,e.distbits=5}function Tu(e,t){var r,n,o,i,s,a,c,u,f,l,h,d,p,g,y,b,m,v,w,_,E,x,A,S,T=0,B=new ra(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return hu;(r=e.state).mode===pu&&(r.mode=13),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,n=e.input,a=e.avail_in,u=r.hold,f=r.bits,l=a,h=c,x=lu;e:for(;;)switch(r.mode){case du:if(0===r.wrap){r.mode=13;break}for(;f<16;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(2&r.wrap&&35615===u){r.check=0,B[0]=255&u,B[1]=u>>>8&255,r.check=uc(r.check,B,2,0),u=0,f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=gu;break}if(8!=(15&u)){e.msg="unknown compression method",r.mode=gu;break}if(f-=4,E=8+(15&(u>>>=4)),0===r.wbits)r.wbits=E;else if(E>r.wbits){e.msg="invalid window size",r.mode=gu;break}r.dmax=1<<E,e.adler=r.check=1,r.mode=512&u?10:pu,u=0,f=0;break;case 2:for(;f<16;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(r.flags=u,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=gu;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=gu;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(B[0]=255&u,B[1]=u>>>8&255,r.check=uc(r.check,B,2,0)),u=0,f=0,r.mode=3;case 3:for(;f<32;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}r.head&&(r.head.time=u),512&r.flags&&(B[0]=255&u,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,r.check=uc(r.check,B,4,0)),u=0,f=0,r.mode=4;case 4:for(;f<16;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(B[0]=255&u,B[1]=u>>>8&255,r.check=uc(r.check,B,2,0)),u=0,f=0,r.mode=5;case 5:if(1024&r.flags){for(;f<16;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(B[0]=255&u,B[1]=u>>>8&255,r.check=uc(r.check,B,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>a&&(d=a),d&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),ta(r.head.extra,n,i,d,E)),512&r.flags&&(r.check=uc(r.check,n,d,i)),a-=d,i+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break e;d=0;do{E=n[i+d++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&d<a);if(512&r.flags&&(r.check=uc(r.check,n,d,i)),a-=d,i+=d,E)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break e;d=0;do{E=n[i+d++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&d<a);if(512&r.flags&&(r.check=uc(r.check,n,d,i)),a-=d,i+=d,E)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;f<16;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=gu;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=pu;break;case 10:for(;f<32;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}e.adler=r.check=mu(u),u=0,f=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,r.hold=u,r.bits=f,2;e.adler=r.check=1,r.mode=pu;case pu:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&f,f-=7&f,r.mode=27;break}for(;f<3;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}switch(r.last=1&u,f-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(Su(r),r.mode=20,6===t){u>>>=2,f-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=gu}u>>>=2,f-=2;break;case 14:for(u>>>=7&f,f-=7&f;f<32;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=gu;break}if(r.length=65535&u,u=0,f=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length){if(d>a&&(d=a),d>c&&(d=c),0===d)break e;ta(o,n,i,d,s),a-=d,i+=d,c-=d,s+=d,r.length-=d;break}r.mode=pu;break;case 17:for(;f<14;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(r.nlen=257+(31&u),u>>>=5,f-=5,r.ndist=1+(31&u),u>>>=5,f-=5,r.ncode=4+(15&u),u>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=gu;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;f<3;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}r.lens[R[r.have++]]=7&u,u>>>=3,f-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},x=cu(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,x){e.msg="invalid code lengths set",r.mode=gu;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;b=(T=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,m=65535&T,!((y=T>>>24)<=f);){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(m<16)u>>>=y,f-=y,r.lens[r.have++]=m;else{if(16===m){for(S=y+2;f<S;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(u>>>=y,f-=y,0===r.have){e.msg="invalid bit length repeat",r.mode=gu;break}E=r.lens[r.have-1],d=3+(3&u),u>>>=2,f-=2}else if(17===m){for(S=y+3;f<S;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}f-=y,E=0,d=3+(7&(u>>>=y)),u>>>=3,f-=3}else{for(S=y+7;f<S;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}f-=y,E=0,d=11+(127&(u>>>=y)),u>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=gu;break}for(;d--;)r.lens[r.have++]=E}}if(r.mode===gu)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=gu;break}if(r.lenbits=9,A={bits:r.lenbits},x=cu(uu,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,x){e.msg="invalid literal/lengths set",r.mode=gu;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},x=cu(fu,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,x){e.msg="invalid distances set",r.mode=gu;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,r.hold=u,r.bits=f,Yc(e,h),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,n=e.input,a=e.avail_in,u=r.hold,f=r.bits,r.mode===pu&&(r.back=-1);break}for(r.back=0;b=(T=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,m=65535&T,!((y=T>>>24)<=f);){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(b&&0==(240&b)){for(v=y,w=b,_=m;b=(T=r.lencode[_+((u&(1<<v+w)-1)>>v)])>>>16&255,m=65535&T,!(v+(y=T>>>24)<=f);){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}u>>>=v,f-=v,r.back+=v}if(u>>>=y,f-=y,r.back+=y,r.length=m,0===b){r.mode=26;break}if(32&b){r.back=-1,r.mode=pu;break}if(64&b){e.msg="invalid literal/length code",r.mode=gu;break}r.extra=15&b,r.mode=22;case 22:if(r.extra){for(S=r.extra;f<S;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;b=(T=r.distcode[u&(1<<r.distbits)-1])>>>16&255,m=65535&T,!((y=T>>>24)<=f);){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(0==(240&b)){for(v=y,w=b,_=m;b=(T=r.distcode[_+((u&(1<<v+w)-1)>>v)])>>>16&255,m=65535&T,!(v+(y=T>>>24)<=f);){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}u>>>=v,f-=v,r.back+=v}if(u>>>=y,f-=y,r.back+=y,64&b){e.msg="invalid distance code",r.mode=gu;break}r.offset=m,r.extra=15&b,r.mode=24;case 24:if(r.extra){for(S=r.extra;f<S;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=gu;break}r.mode=25;case 25:if(0===c)break e;if(d=h-c,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=gu;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=o,p=s-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do{o[s++]=g[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;o[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;f<32;){if(0===a)break e;a--,u|=n[i++]<<f,f+=8}if(h-=c,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?uc(r.check,o,h,s-h):ac(r.check,o,h,s-h)),h=c,(r.flags?u:mu(u))!==r.check){e.msg="incorrect data check",r.mode=gu;break}u=0,f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;f<32;){if(0===a)break e;a--,u+=n[i++]<<f,f+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=gu;break}u=0,f=0}r.mode=29;case 29:x=1;break e;case gu:x=-3;break e;case 31:return-4;default:return hu}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,r.hold=u,r.bits=f,(r.wsize||h!==e.avail_out&&r.mode<gu&&(r.mode<27||4!==t))&&function(e,t,r,n){var o,i=e.state;null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new ra(i.wsize)),n>=i.wsize?(ta(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((o=i.wsize-i.wnext)>n&&(o=n),ta(i.window,t,r-n,o,i.wnext),(n-=o)?(ta(i.window,t,r-n,n,0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o)))}(e,e.output,e.next_out,h-e.avail_out),l-=e.avail_in,h-=e.avail_out,e.total_in+=l,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?uc(r.check,o,h,e.next_out-h):ac(r.check,o,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===pu?128:0)+(20===r.mode||15===r.mode?256:0),(0===l&&0===h||4===t)&&x===lu&&(x=-5),x}var Bu;function Ru(e){if(e<1||e>7)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function Iu(e,t){for(var r=0;r<e.length;r++)this[t+r]=e[r]}Ru.prototype.init=function(e,t,r,n,o){var i;switch(this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=n,3!==this.mode&&4!==this.mode||(this.windowBits+=16),7===this.mode&&(this.windowBits+=32),5!==this.mode&&6!==this.mode||(this.windowBits=-this.windowBits),this.strm=new ea,this.mode){case 1:case 3:case 5:i=function(e,t,r,n,o,i){if(!e)return pc;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>9||r!==yc||n<8||n>15||t<0||t>9||i<0||i>4)return Cc(e,pc);8===n&&(n=9);var a=new Kc;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Ec-1)/Ec),a.window=new ra(2*a.w_size),a.head=new na(a.hash_size),a.prev=new na(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new ra(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=i,a.method=r,Zc(e)}(this.strm,this.level,8,this.windowBits,this.memLevel,this.strategy);break;case 2:case 4:case 6:case 7:i=_u(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}0===i?(this.write_in_progress=!1,this.init_done=!0):this._error(i)},Ru.prototype.params=function(){throw new Error("deflateParams Not supported")},Ru.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(0===this.mode)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},Ru.prototype.write=function(e,t,r,n,o,i,s){this._writeCheck(),this.write_in_progress=!0;var a=this;return Zn.nextTick((function(){a.write_in_progress=!1;var c=a._write(e,t,r,n,o,i,s);a.callback(c[0],c[1]),a.pending_close&&a.close()})),this},Ru.prototype.writeSync=function(e,t,r,n,o,i,s){return this._writeCheck(),this._write(e,t,r,n,o,i,s)},Ru.prototype._write=function(e,t,r,n,o,i,s){if(this.write_in_progress=!0,0!==e&&1!==e&&2!==e&&3!==e&&4!==e&&5!==e)throw new Error("Invalid flush value");null==t&&(t=new E(0),n=0,r=0),o._set?o.set=o._set:o.set=Iu;var a,c=this.strm;switch(c.avail_in=n,c.input=t,c.next_in=r,c.avail_out=s,c.output=o,c.next_out=i,this.mode){case 1:case 3:case 5:a=Gc(c,e);break;case 7:case 2:case 4:case 6:a=Tu(c,e);break;default:throw new Error("Unknown mode "+this.mode)}return this._checkError(a,c,e)||this._error(a),this.write_in_progress=!1,[c.avail_in,c.avail_out]},Ru.prototype._checkError=function(e,t,r){switch(e){case 0:case-5:if(0!==t.avail_out&&4===r)return!1;break;case 1:break;default:return!1}return!0},Ru.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,1===this.mode||3===this.mode||5===this.mode?function(e){var t;e&&e.state&&((t=e.state.status)!==Sc&&69!==t&&73!==t&&91!==t&&t!==Tc&&t!==Bc&&t!==Rc?Cc(e,pc):(e.state=null,t===Bc&&Cc(e,-3)))}(this.strm):function(e){if(!e||!e.state)return hu;var t=e.state;t.window&&(t.window=null),e.state=null}(this.strm),this.mode=0)},Ru.prototype.reset=function(){switch(this.mode){case 1:case 5:Bu=Zc(this.strm);break;case 2:case 6:Bu=wu(this.strm)}0!==Bu&&this._error(Bu)},Ru.prototype._error=function(e){this.onerror(Qs[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()};var ku=Object.freeze({__proto__:null,DEFLATE:1,DEFLATERAW:5,GUNZIP:4,GZIP:3,INFLATE:2,INFLATERAW:6,NONE:0,UNZIP:7,Z_BEST_COMPRESSION:9,Z_BEST_SPEED:1,Z_BINARY:0,Z_BLOCK:5,Z_BUF_ERROR:-5,Z_DATA_ERROR:-3,Z_DEFAULT_COMPRESSION:-1,Z_DEFAULT_STRATEGY:0,Z_DEFLATED:8,Z_ERRNO:-1,Z_FILTERED:1,Z_FINISH:4,Z_FIXED:4,Z_FULL_FLUSH:3,Z_HUFFMAN_ONLY:2,Z_NEED_DICT:2,Z_NO_COMPRESSION:0,Z_NO_FLUSH:0,Z_OK:0,Z_PARTIAL_FLUSH:1,Z_RLE:3,Z_STREAM_END:1,Z_STREAM_ERROR:-2,Z_SYNC_FLUSH:2,Z_TEXT:1,Z_TREES:6,Z_UNKNOWN:2,Zlib:Ru});var Ou={};Object.keys(ku).forEach((function(e){Ou[e]=ku[e]})),Ou.Z_MIN_WINDOWBITS=8,Ou.Z_MAX_WINDOWBITS=15,Ou.Z_DEFAULT_WINDOWBITS=15,Ou.Z_MIN_CHUNK=64,Ou.Z_MAX_CHUNK=1/0,Ou.Z_DEFAULT_CHUNK=16384,Ou.Z_MIN_MEMLEVEL=1,Ou.Z_MAX_MEMLEVEL=9,Ou.Z_DEFAULT_MEMLEVEL=8,Ou.Z_MIN_LEVEL=-1,Ou.Z_MAX_LEVEL=9,Ou.Z_DEFAULT_LEVEL=Ou.Z_DEFAULT_COMPRESSION;var Lu={Z_OK:Ou.Z_OK,Z_STREAM_END:Ou.Z_STREAM_END,Z_NEED_DICT:Ou.Z_NEED_DICT,Z_ERRNO:Ou.Z_ERRNO,Z_STREAM_ERROR:Ou.Z_STREAM_ERROR,Z_DATA_ERROR:Ou.Z_DATA_ERROR,Z_MEM_ERROR:Ou.Z_MEM_ERROR,Z_BUF_ERROR:Ou.Z_BUF_ERROR,Z_VERSION_ERROR:Ou.Z_VERSION_ERROR};function Cu(e){return new rf(e)}function Pu(e){return new nf(e)}function Nu(e){return new af(e)}function Uu(e){return new cf(e)}function Mu(e){return new of(e)}function $u(e){return new sf(e)}function ju(e){return new uf(e)}function Hu(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new rf(t),e,r)}function Du(e,t){return tf(new rf(t),e)}function Fu(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new of(t),e,r)}function zu(e,t){return tf(new of(t),e)}function Vu(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new af(t),e,r)}function qu(e,t){return tf(new af(t),e)}function Ku(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new uf(t),e,r)}function Zu(e,t){return tf(new uf(t),e)}function Gu(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new nf(t),e,r)}function Wu(e,t){return tf(new nf(t),e)}function Ju(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new sf(t),e,r)}function Yu(e,t){return tf(new sf(t),e)}function Xu(e,t,r){return"function"==typeof t&&(r=t,t={}),ef(new cf(t),e,r)}function Qu(e,t){return tf(new cf(t),e)}function ef(e,t,r){var n=[],o=0;function i(){for(var t;null!==(t=e.read());)n.push(t),o+=t.length;e.once("readable",i)}function s(){var t=E.concat(n,o);n=[],r(null,t),e.close()}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",i),r(t)})),e.on("end",s),e.end(t),i()}function tf(e,t){if("string"==typeof t&&(t=new E(t)),!E.isBuffer(t))throw new TypeError("Not a string or buffer");var r=Ou.Z_FINISH;return e._processChunk(t,r)}function rf(e){if(!(this instanceof rf))return new rf(e);ff.call(this,e,Ou.DEFLATE)}function nf(e){if(!(this instanceof nf))return new nf(e);ff.call(this,e,Ou.INFLATE)}function of(e){if(!(this instanceof of))return new of(e);ff.call(this,e,Ou.GZIP)}function sf(e){if(!(this instanceof sf))return new sf(e);ff.call(this,e,Ou.GUNZIP)}function af(e){if(!(this instanceof af))return new af(e);ff.call(this,e,Ou.DEFLATERAW)}function cf(e){if(!(this instanceof cf))return new cf(e);ff.call(this,e,Ou.INFLATERAW)}function uf(e){if(!(this instanceof uf))return new uf(e);ff.call(this,e,Ou.UNZIP)}function ff(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||Ou.Z_DEFAULT_CHUNK,Ci.call(this,e),e.flush&&e.flush!==Ou.Z_NO_FLUSH&&e.flush!==Ou.Z_PARTIAL_FLUSH&&e.flush!==Ou.Z_SYNC_FLUSH&&e.flush!==Ou.Z_FULL_FLUSH&&e.flush!==Ou.Z_FINISH&&e.flush!==Ou.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||Ou.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<Ou.Z_MIN_CHUNK||e.chunkSize>Ou.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<Ou.Z_MIN_WINDOWBITS||e.windowBits>Ou.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<Ou.Z_MIN_LEVEL||e.level>Ou.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<Ou.Z_MIN_MEMLEVEL||e.memLevel>Ou.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=Ou.Z_FILTERED&&e.strategy!=Ou.Z_HUFFMAN_ONLY&&e.strategy!=Ou.Z_RLE&&e.strategy!=Ou.Z_FIXED&&e.strategy!=Ou.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!E.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new Ou.Zlib(t);var r=this;this._hadError=!1,this._binding.onerror=function(e,t){r._binding=null,r._hadError=!0;var n=new Error(e);n.errno=t,n.code=Lu[t],r.emit("error",n)};var n=Ou.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(n=e.level);var o=Ou.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(o=e.strategy),this._binding.init(e.windowBits||Ou.Z_DEFAULT_WINDOWBITS,n,e.memLevel||Ou.Z_DEFAULT_MEMLEVEL,o,e.dictionary),this._buffer=new E(this._chunkSize),this._offset=0,this._closed=!1,this._level=n,this._strategy=o,this.once("end",this.close)}Object.keys(Lu).forEach((function(e){Lu[Lu[e]]=e})),io(ff,Ci),ff.prototype.params=function(e,t,r){if(e<Ou.Z_MIN_LEVEL||e>Ou.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(t!=Ou.Z_FILTERED&&t!=Ou.Z_HUFFMAN_ONLY&&t!=Ou.Z_RLE&&t!=Ou.Z_FIXED&&t!=Ou.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+t);if(this._level!==e||this._strategy!==t){var n=this;this.flush(Ou.Z_SYNC_FLUSH,(function(){n._binding.params(e,t),n._hadError||(n._level=e,n._strategy=t,r&&r())}))}else Zn.nextTick(r)},ff.prototype.reset=function(){return this._binding.reset()},ff.prototype._flush=function(e){this._transform(new E(0),"",e)},ff.prototype.flush=function(e,t){var r=this._writableState;if(("function"==typeof e||void 0===e&&!t)&&(t=e,e=Ou.Z_FULL_FLUSH),r.ended)t&&Zn.nextTick(t);else if(r.ending)t&&this.once("end",t);else if(r.needDrain){var n=this;this.once("drain",(function(){n.flush(t)}))}else this._flushFlag=e,this.write(new E(0),"",t)},ff.prototype.close=function(e){if(e&&Zn.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var t=this;Zn.nextTick((function(){t.emit("close")}))}},ff.prototype._transform=function(e,t,r){var n,o=this._writableState,i=(o.ending||o.ended)&&(!e||o.length===e.length);if(null===!e&&!E.isBuffer(e))return r(new Error("invalid input"));i?n=Ou.Z_FINISH:(n=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||Ou.Z_NO_FLUSH)),this._processChunk(e,n,r)},ff.prototype._processChunk=function(e,t,r){var n=e&&e.length,o=this._chunkSize-this._offset,i=0,s=this,a="function"==typeof r;if(!a){var c,u=[],f=0;this.on("error",(function(e){c=e}));do{var l=this._binding.writeSync(t,e,i,n,this._buffer,this._offset,o)}while(!this._hadError&&p(l[0],l[1]));if(this._hadError)throw c;var h=E.concat(u,f);return this.close(),h}var d=this._binding.write(t,e,i,n,this._buffer,this._offset,o);function p(c,l){if(!s._hadError){var h=o-l;if(function(e,t){if(!e)throw new Error(t)}(h>=0,"have should not go down"),h>0){var d=s._buffer.slice(s._offset,s._offset+h);s._offset+=h,a?s.push(d):(u.push(d),f+=d.length)}if((0===l||s._offset>=s._chunkSize)&&(o=s._chunkSize,s._offset=0,s._buffer=new E(s._chunkSize)),0===l){if(i+=n-c,n=c,!a)return!0;var g=s._binding.write(t,e,i,n,s._buffer,s._offset,s._chunkSize);return g.callback=p,void(g.buffer=e)}if(!a)return!1;r()}}d.buffer=e,d.callback=p},io(rf,ff),io(nf,ff),io(of,ff),io(sf,ff),io(af,ff),io(cf,ff),io(uf,ff);var lf={codes:Lu,createDeflate:Cu,createInflate:Pu,createDeflateRaw:Nu,createInflateRaw:Uu,createGzip:Mu,createGunzip:$u,createUnzip:ju,deflate:Hu,deflateSync:Du,gzip:Fu,gzipSync:zu,deflateRaw:Vu,deflateRawSync:qu,unzip:Ku,unzipSync:Zu,inflate:Gu,inflateSync:Wu,gunzip:Ju,gunzipSync:Yu,inflateRaw:Xu,inflateRawSync:Qu,Deflate:rf,Inflate:nf,Gzip:of,Gunzip:sf,DeflateRaw:af,InflateRaw:cf,Unzip:uf,Zlib:ff},hf=r(Object.freeze({__proto__:null,Deflate:rf,DeflateRaw:af,Gunzip:sf,Gzip:of,Inflate:nf,InflateRaw:cf,Unzip:uf,Zlib:ff,codes:Lu,createDeflate:Cu,createDeflateRaw:Nu,createGunzip:$u,createGzip:Mu,createInflate:Pu,createInflateRaw:Uu,createUnzip:ju,default:lf,deflate:Hu,deflateRaw:Vu,deflateRawSync:qu,deflateSync:Du,gunzip:Ju,gunzipSync:Yu,gzip:Fu,gzipSync:zu,inflate:Gu,inflateRaw:Xu,inflateRawSync:Qu,inflateSync:Wu,unzip:Ku,unzipSync:Zu})),df=r(Ko),pf=r($s);Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.InvalidStatusCodeError=Gn.InvalidCertError=void 0;const gf=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class yf extends Error{constructor(e,t){super(e),this.fingerprint256=t}}Gn.InvalidCertError=yf;class bf extends Error{constructor(e){super(`Request Failed. Status Code: ${e}`),this.statusCode=e}}function mf(e,t){if(!t||"text"===t||"json"===t)try{let r=new TextDecoder("utf8",{fatal:!0}).decode(e);if("text"===t)return r;try{return JSON.parse(r)}catch(e){if("json"===t)throw e;return r}}catch(e){if("text"===t||"json"===t)throw e}return e}Gn.InvalidStatusCodeError=bf;let vf={};function wf(e,t){let r={...gf,...t};const n=qs,o=Xs,i=hf,{promisify:s}=df,{resolve:a}=pf,c=!!/^https/.test(e);let u={method:r.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const f=e=>e.replace(/:| /g,"").toLowerCase();if(r.keepAlive){const e={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},t=[c,c&&r.sslPinnedCertificates?.map((e=>f(e))).sort()].join();u.agent=vf[t]||(vf[t]=new(c?o:n).Agent(e))}"json"===r.type&&(u.headers["Content-Type"]="application/json"),r.data&&(r.method||(u.method="POST"),u.body="json"===r.type?JSON.stringify(r.data):r.data),u.headers={...u.headers,...r.headers},r.sslAllowSelfSigned&&(u.rejectUnauthorized=!1);return new Promise(((t,l)=>{const h=async t=>{if(t&&"DEPTH_ZERO_SELF_SIGNED_CERT"===t.code)try{await wf(e,{...r,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(e){e&&e.fingerprint256&&(t=new yf(`Self-signed SSL certificate: ${e.fingerprint256}`,e.fingerprint256))}l(t)},d=(c?o:n).request(e,u,(n=>{n.on("error",h),(async()=>{try{t(await(async t=>{const n=t.statusCode;if(r.redirect&&300<=n&&n<400&&t.headers.location){if(10==r._redirectCount)throw new Error("Request failed. Too much redirects.");return r._redirectCount+=1,await wf(a(e,t.headers.location),r)}if(r.expectStatusCode&&n!==r.expectStatusCode)throw t.resume(),new bf(n);let o=[];for await(const e of t)o.push(e);let c=E.concat(o);const u=t.headers["content-encoding"];"br"===u&&(c=await s(i.brotliDecompress)(c)),"gzip"!==u&&"deflate"!==u||(c=await s(i.unzip)(c));const f=mf(c,r.type);return r.full?{headers:t.headers,status:n,body:f}:f})(n))}catch(e){l(e)}})()}));d.on("error",h);const p=r.sslPinnedCertificates?.map((e=>f(e))),g=e=>{const t=f(e.getPeerCertificate()?.fingerprint256||"");if((t||!e.isSessionReused())&&!p.includes(t))return d.emit("error",new yf(`Invalid SSL certificate: ${t} Expected: ${p}`,t)),d.abort()};r.sslPinnedCertificates&&d.on("socket",(e=>{e.listeners("secureConnect").map((e=>(e.name||"").replace("bound ",""))).includes("mfetchSecureConnect")||e.on("secureConnect",g.bind(null,e))})),r.keepAlive&&d.setNoDelay(!0),u.body&&d.write(u.body),d.end()}))}const _f=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map((e=>e.toLowerCase()))),Ef=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map((e=>e.toLowerCase())));async function xf(e,t){let r={...gf,...t};const n=new Headers;"json"===r.type&&n.set("Content-Type","application/json");let o=new URL(e);if(o.username){const e=btoa(`${o.username}:${o.password}`);n.set("Authorization",`Basic ${e}`),o.username="",o.password=""}e=""+o;for(let e in r.headers){const t=e.toLowerCase();(_f.has(t)||r.cors&&!Ef.has(t))&&n.set(e,r.headers[e])}let i={headers:n,redirect:r.redirect?"follow":"manual"};r.referrer||(i.referrerPolicy="no-referrer"),r.cors&&(i.mode="cors"),r.data&&(r.method||(i.method="POST"),i.body="json"===r.type?JSON.stringify(r.data):r.data);const s=await fetch(e,i);if(r.expectStatusCode&&s.status!==r.expectStatusCode)throw new bf(s.status);const a=mf(new Uint8Array(await s.arrayBuffer()),r.type);return r.full?{headers:Object.fromEntries(s.headers.entries()),status:s.status,body:a}:a}const Af=!!("object"==typeof Zn&&Zn.versions&&Zn.versions.node&&Zn.versions.v8);Gn.default=function(e,t){return(Af?wf:xf)(e,t)},Object.defineProperty(wn,"__esModule",{value:!0}),wn.getProvider=wn.fetchFromProvider=void 0;const Sf=Gn;wn.fetchFromProvider=async(e,t)=>(await(0,Sf.default)(e,{headers:{"content-type":"application/json"},type:"json",data:{method:t.method,params:t.params,jsonrpc:"2.0",id:1}})).result;wn.getProvider=e=>{if("string"==typeof e)return e;if(void 0!==e?.connection?.url)return e.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")},function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=void 0,n(s,t),n(Pt,t),n(Nt,t),n(Fr,t),n(Kr,t),n(Xr,t),n(Ur,t),n(Zr,t),n(an,t),n(cn,t);var o=$r;Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return o.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return o.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return o.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return o.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return o.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return o.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return o.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return o.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return o.toAscii}}),n(vn,t),n(wn,t)}(i);var Tf={},Bf={},Rf={},If={},kf={},Of={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});var Cf=(e=>(e[e.Null=4]="Null",e[e.Comma=1]="Comma",e[e.Wrapper=1]="Wrapper",e[e.True=4]="True",e[e.False=5]="False",e[e.Quote=1]="Quote",e[e.Colon=1]="Colon",e[e.Date=24]="Date",e))(Cf||{}),Pf=/"|\\|\n|\r|\t/gu;function Nf(e){return e.charCodeAt(0)<=127}Lf.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},Lf.isNullOrUndefined=function(e){return null==e},Lf.isObject=function(e){return Boolean(e)&&"object"==typeof e&&!Array.isArray(e)},Lf.hasProperty=(e,t)=>Object.hasOwnProperty.call(e,t),Lf.getKnownPropertyNames=function(e){return Object.getOwnPropertyNames(e)},Lf.JsonSize=Cf,Lf.ESCAPE_CHARACTERS_REGEXP=Pf,Lf.isPlainObject=function(e){if("object"!=typeof e||null===e)return!1;try{let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}catch(e){return!1}},Lf.isASCII=Nf,Lf.calculateStringSize=function(e){return e.split("").reduce(((e,t)=>Nf(t)?e+1:e+2),0)+(t=e.match(Pf),r=()=>[],null!=t?t:r()).length;var t,r},Lf.calculateNumberSize=function(e){return e.toString().length};let Uf=class e extends Error{constructor(t,{cause:r}={}){super(t),this.name=e.name,r&&(this.cause=r),this.message=t}};var Mf=r(Object.freeze({__proto__:null,ErrorWithCause:Uf}));const $f=e=>{if(e&&"object"==typeof e&&"cause"in e){if("function"==typeof e.cause){const t=e.cause();return t instanceof Error?t:void 0}return e.cause instanceof Error?e.cause:void 0}},jf=(e,t)=>{if(!(e instanceof Error))return"";const r=e.stack||"";if(t.has(e))return r+"\ncauses have become circular...";const n=$f(e);return n?(t.add(e),r+"\ncaused by: "+jf(n,t)):r},Hf=(e,t,r)=>{if(!(e instanceof Error))return"";const n=r?"":e.message||"";if(t.has(e))return n+": ...";const o=$f(e);if(o){t.add(e);const r="cause"in e&&"function"==typeof e.cause;return n+(r?"":": ")+Hf(o,t,r)}return n};var Df=Object.freeze({__proto__:null,findCauseByReference:(e,t)=>{if(!e||!t)return;if(!(e instanceof Error))return;if(!(t.prototype instanceof Error)&&t!==Error)return;const r=new Set;let n=e;for(;n&&!r.has(n);){if(r.add(n),n instanceof t)return n;n=$f(n)}},getErrorCause:$f,messageWithCauses:e=>Hf(e,new Set),stackWithCauses:e=>jf(e,new Set)}),Ff=r(Df);const{ErrorWithCause:zf}=Mf,{findCauseByReference:Vf,getErrorCause:qf,messageWithCauses:Kf,stackWithCauses:Zf}=Ff;var Gf={ErrorWithCause:zf,findCauseByReference:Vf,getErrorCause:qf,stackWithCauses:Zf,messageWithCauses:Kf};Object.defineProperty(Of,"__esModule",{value:!0});var Wf=Lf,Jf=Gf;function Yf(e){return"object"==typeof e&&null!==e&&"code"in e}function Xf(e){return"object"==typeof e&&null!==e&&"message"in e}Of.isErrorWithCode=Yf,Of.isErrorWithMessage=Xf,Of.isErrorWithStack=function(e){return"object"==typeof e&&null!==e&&"stack"in e},Of.getErrorMessage=function(e){return Xf(e)&&"string"==typeof e.message?e.message:Wf.isNullOrUndefined.call(void 0,e)?"":String(e)},Of.wrapError=function(e,t){if(function(e){return e instanceof Error||Wf.isObject.call(void 0,e)&&"Error"===e.constructor.name}(e)){let r;return r=2===Error.length?new Error(t,{cause:e}):new Jf.ErrorWithCause(t,{cause:e}),Yf(e)&&(r.code=e.code),r}return t.length>0?new Error(`${String(e)}: ${t}`):new Error(String(e))};class Qf extends TypeError{constructor(e,t){let r;const{message:n,explanation:o,...i}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(o??a),null!=o&&(this.cause=a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function el(e){return"object"==typeof e&&null!=e}function tl(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function rl(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function nl(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:i}=t,{type:s}=r,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${rl(n)}\``}=e;return{value:n,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...e,message:c}}function*ol(e,t,r,n){var o;el(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]);for(const o of e){const e=nl(o,t,r,n);e&&(yield e)}}function*il(e,t,r={}){const{path:n=[],branch:o=[e],coerce:i=!1,mask:s=!1}=r,a={path:n,branch:o};if(i&&(e=t.coercer(e,a),s&&"type"!==t.type&&el(t.schema)&&el(e)&&!Array.isArray(e)))for(const r in e)void 0===t.schema[r]&&delete e[r];let c="valid";for(const n of t.validator(e,a))n.explanation=r.message,c="not_valid",yield[n,void 0];for(let[u,f,l]of t.entries(e,a)){const t=il(f,l,{path:void 0===u?n:[...n,u],branch:void 0===u?o:[...o,f],coerce:i,mask:s,message:r.message});for(const r of t)r[0]?(c=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):i&&(f=r[1],void 0===u?e=f:e instanceof Map?e.set(u,f):e instanceof Set?e.add(f):el(e)&&(void 0!==f||u in e)&&(e[u]=f))}if("not_valid"!==c)for(const n of t.refiner(e,a))n.explanation=r.message,c="not_refined",yield[n,void 0];"valid"===c&&(yield[void 0,e])}class sl{constructor(e){const{type:t,schema:r,validator:n,refiner:o,coercer:i=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=i,this.validator=n?(e,t)=>ol(n(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>ol(o(e,t),t,this,e):()=>[]}assert(e,t){return al(e,this,t)}create(e,t){return cl(e,this,t)}is(e){return fl(e,this)}mask(e,t){return ul(e,this,t)}validate(e,t={}){return ll(e,this,t)}}function al(e,t,r){const n=ll(e,t,{message:r});if(n[0])throw n[0]}function cl(e,t,r){const n=ll(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function ul(e,t,r){const n=ll(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function fl(e,t){return!ll(e,t)[0]}function ll(e,t,r={}){const n=il(e,t,r),o=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);if(o[0]){const e=new Qf(o[0],(function*(){for(const e of n)e[0]&&(yield e[0])}));return[e,void 0]}return[void 0,o[1]]}function hl(e,t){return new sl({type:e,schema:null,validator:t})}function dl(){return hl("never",(()=>!1))}function pl(e){const t=e?Object.keys(e):[],r=dl();return new sl({type:"object",schema:e||null,*entries(n){if(e&&el(n)){const o=new Set(Object.keys(n));for(const r of t)o.delete(r),yield[r,n[r],e[r]];for(const e of o)yield[e,n[e],r]}},validator:e=>el(e)||`Expected an object, but received: ${rl(e)}`,coercer:e=>el(e)?{...e}:e})}function gl(e){return new sl({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function yl(){return hl("string",(e=>"string"==typeof e||`Expected a string, but received: ${rl(e)}`))}function bl(e){const t=Object.keys(e);return new sl({type:"type",schema:e,*entries(r){if(el(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>el(e)||`Expected an object, but received: ${rl(e)}`,coercer:e=>el(e)?{...e}:e})}function ml(){return hl("unknown",(()=>!0))}function vl(e,t,r){return new sl({...e,coercer:(n,o)=>fl(n,t)?e.coercer(r(n,o),o):e.coercer(n,o)})}function wl(e){return e instanceof Map||e instanceof Set?e.size:e.length}function _l(e,t,r){return new sl({...e,*refiner(n,o){yield*e.refiner(n,o);const i=ol(r(n,o),o,e,n);for(const e of i)yield{...e,refinement:t}}})}var El=Object.freeze({__proto__:null,Struct:sl,StructError:Qf,any:function(){return hl("any",(()=>!0))},array:function(e){return new sl({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${rl(e)}`})},assert:al,assign:function(...e){const t="type"===e[0].type,r=e.map((e=>e.schema)),n=Object.assign({},...r);return t?bl(n):pl(n)},bigint:function(){return hl("bigint",(e=>"bigint"==typeof e))},boolean:function(){return hl("boolean",(e=>"boolean"==typeof e))},coerce:vl,create:cl,date:function(){return hl("date",(e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${rl(e)}`))},defaulted:function(e,t,r={}){return vl(e,ml(),(e=>{const n="function"==typeof t?t():t;if(void 0===e)return n;if(!r.strict&&tl(e)&&tl(n)){const t={...e};let r=!1;for(const e in n)void 0===t[e]&&(t[e]=n[e],r=!0);if(r)return t}return e}))},define:hl,deprecated:function(e,t){return new sl({...e,refiner:(t,r)=>void 0===t||e.refiner(t,r),validator:(r,n)=>void 0===r||(t(r,n),e.validator(r,n))})},dynamic:function(e){return new sl({type:"dynamic",schema:null,*entries(t,r){const n=e(t,r);yield*n.entries(t,r)},validator:(t,r)=>e(t,r).validator(t,r),coercer:(t,r)=>e(t,r).coercer(t,r),refiner:(t,r)=>e(t,r).refiner(t,r)})},empty:function(e){return _l(e,"empty",(t=>{const r=wl(t);return 0===r||`Expected an empty ${e.type} but received one with a size of \`${r}\``}))},enums:function(e){const t={},r=e.map((e=>rl(e))).join();for(const r of e)t[r]=r;return new sl({type:"enums",schema:t,validator:t=>e.includes(t)||`Expected one of \`${r}\`, but received: ${rl(t)}`})},func:function(){return hl("func",(e=>"function"==typeof e||`Expected a function, but received: ${rl(e)}`))},instance:function(e){return hl("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${rl(t)}`))},integer:function(){return hl("integer",(e=>"number"==typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${rl(e)}`))},intersection:function(e){return new sl({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})},is:fl,lazy:function(e){let t;return new sl({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator:(r,n)=>(t??(t=e()),t.validator(r,n)),coercer:(r,n)=>(t??(t=e()),t.coercer(r,n)),refiner:(r,n)=>(t??(t=e()),t.refiner(r,n))})},literal:function(e){const t=rl(e),r=typeof e;return new sl({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${rl(r)}`})},map:function(e,t){return new sl({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,o]of r.entries())yield[n,n,e],yield[n,o,t]},coercer:e=>e instanceof Map?new Map(e):e,validator:e=>e instanceof Map||`Expected a \`Map\` object, but received: ${rl(e)}`})},mask:ul,max:function(e,t,r={}){const{exclusive:n}=r;return _l(e,"max",(r=>n?r<t:r<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${r}\``))},min:function(e,t,r={}){const{exclusive:n}=r;return _l(e,"min",(r=>n?r>t:r>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${r}\``))},never:dl,nonempty:function(e){return _l(e,"nonempty",(t=>wl(t)>0||`Expected a nonempty ${e.type} but received an empty one`))},nullable:function(e){return new sl({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})},number:function(){return hl("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${rl(e)}`))},object:pl,omit:function(e,t){const{schema:r}=e,n={...r};for(const e of t)delete n[e];return"type"===e.type?bl(n):pl(n)},optional:gl,partial:function(e){const t=e instanceof sl?{...e.schema}:{...e};for(const e in t)t[e]=gl(t[e]);return pl(t)},pattern:function(e,t){return _l(e,"pattern",(r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`))},pick:function(e,t){const{schema:r}=e,n={};for(const e of t)n[e]=r[e];return pl(n)},record:function(e,t){return new sl({type:"record",schema:null,*entries(r){if(el(r))for(const n in r){const o=r[n];yield[n,n,e],yield[n,o,t]}},validator:e=>el(e)||`Expected an object, but received: ${rl(e)}`})},refine:_l,regexp:function(){return hl("regexp",(e=>e instanceof RegExp))},set:function(e){return new sl({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer:e=>e instanceof Set?new Set(e):e,validator:e=>e instanceof Set||`Expected a \`Set\` object, but received: ${rl(e)}`})},size:function(e,t,r=t){const n=`Expected a ${e.type}`,o=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return _l(e,"size",(e=>{if("number"==typeof e||e instanceof Date)return t<=e&&e<=r||`${n} ${o} but received \`${e}\``;if(e instanceof Map||e instanceof Set){const{size:i}=e;return t<=i&&i<=r||`${n} with a size ${o} but received one with a size of \`${i}\``}{const{length:i}=e;return t<=i&&i<=r||`${n} with a length ${o} but received one with a length of \`${i}\``}}))},string:yl,struct:function(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),hl(e,t)},trimmed:function(e){return vl(e,yl(),(e=>e.trim()))},tuple:function(e){const t=dl();return new sl({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],e[o]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${rl(e)}`})},type:bl,union:function(e){const t=e.map((e=>e.type)).join(" | ");return new sl({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const o=[];for(const t of e){const[...e]=il(r,t,n),[i]=e;if(!i[0])return[];for(const[t]of e)t&&o.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${rl(r)}`,...o]}})},unknown:ml,validate:ll}),xl=r(El);Object.defineProperty(kf,"__esModule",{value:!0});var Al=Of,Sl=xl;function Tl(e,t){return Boolean("string"==typeof function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],i=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=i(r)):"call"!==o&&"optionalCall"!==o||(r=i(((...e)=>r.call(t,...e))),t=void 0)}return r}([e,"optionalAccess",e=>e.prototype,"optionalAccess",e=>e.constructor,"optionalAccess",e=>e.name]))?new e({message:t}):e({message:t})}var Bl=class extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}};kf.AssertionError=Bl,kf.assert=function(e,t="Assertion failed.",r=Bl){if(!e){if(t instanceof Error)throw t;throw Tl(r,t)}},kf.assertStruct=function(e,t,r="Assertion failed",n=Bl){try{Sl.assert.call(void 0,e,t)}catch(e){throw Tl(n,`${r}: ${function(e){return Al.getErrorMessage.call(void 0,e).replace(/\.$/u,"")}(e)}.`)}},kf.assertExhaustive=function(e){throw new Error("Invalid branch reached. Should be detected during compilation.")};var Rl={},Il={};function kl(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ol(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function Ll(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Cl(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");kl(e.outputLen),kl(e.blockLen)}function Pl(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nl(e,t){Ll(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(Il,"__esModule",{value:!0}),Il.output=Il.exists=Il.hash=Il.bytes=Il.bool=Il.number=void 0,Il.number=kl,Il.bool=Ol,Il.bytes=Ll,Il.hash=Cl,Il.exists=Pl,Il.output=Nl;const Ul={number:kl,bool:Ol,bytes:Ll,hash:Cl,exists:Pl,output:Nl};Il.default=Ul;var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.add5L=Ml.add5H=Ml.add4H=Ml.add4L=Ml.add3H=Ml.add3L=Ml.add=Ml.rotlBL=Ml.rotlBH=Ml.rotlSL=Ml.rotlSH=Ml.rotr32L=Ml.rotr32H=Ml.rotrBL=Ml.rotrBH=Ml.rotrSL=Ml.rotrSH=Ml.shrSL=Ml.shrSH=Ml.toBig=Ml.split=Ml.fromBig=void 0;const $l=BigInt(2**32-1),jl=BigInt(32);function Hl(e,t=!1){return t?{h:Number(e&$l),l:Number(e>>jl&$l)}:{h:0|Number(e>>jl&$l),l:0|Number(e&$l)}}function Dl(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=Hl(e[o],t);[r[o],n[o]]=[i,s]}return[r,n]}Ml.fromBig=Hl,Ml.split=Dl;const Fl=(e,t)=>BigInt(e>>>0)<<jl|BigInt(t>>>0);Ml.toBig=Fl;const zl=(e,t,r)=>e>>>r;Ml.shrSH=zl;const Vl=(e,t,r)=>e<<32-r|t>>>r;Ml.shrSL=Vl;const ql=(e,t,r)=>e>>>r|t<<32-r;Ml.rotrSH=ql;const Kl=(e,t,r)=>e<<32-r|t>>>r;Ml.rotrSL=Kl;const Zl=(e,t,r)=>e<<64-r|t>>>r-32;Ml.rotrBH=Zl;const Gl=(e,t,r)=>e>>>r-32|t<<64-r;Ml.rotrBL=Gl;const Wl=(e,t)=>t;Ml.rotr32H=Wl;const Jl=(e,t)=>e;Ml.rotr32L=Jl;const Yl=(e,t,r)=>e<<r|t>>>32-r;Ml.rotlSH=Yl;const Xl=(e,t,r)=>t<<r|e>>>32-r;Ml.rotlSL=Xl;const Ql=(e,t,r)=>t<<r-32|e>>>64-r;Ml.rotlBH=Ql;const eh=(e,t,r)=>e<<r-32|t>>>64-r;function th(e,t,r,n){const o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:0|o}}Ml.rotlBL=eh,Ml.add=th;const rh=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);Ml.add3L=rh;const nh=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;Ml.add3H=nh;const oh=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);Ml.add4L=oh;const ih=(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0;Ml.add4H=ih;const sh=(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0);Ml.add5L=sh;const ah=(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0;Ml.add5H=ah;const ch={fromBig:Hl,split:Dl,toBig:Fl,shrSH:zl,shrSL:Vl,rotrSH:ql,rotrSL:Kl,rotrBH:Zl,rotrBL:Gl,rotr32H:Wl,rotr32L:Jl,rotlSH:Yl,rotlSL:Xl,rotlBH:Ql,rotlBL:eh,add:th,add3L:rh,add3H:nh,add4L:oh,add4H:ih,add5H:ah,add5L:sh};Ml.default=ch;var uh={},fh={};Object.defineProperty(fh,"__esModule",{value:!0}),fh.crypto=void 0,fh.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,function(e){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=fh,r=e=>e instanceof Uint8Array;e.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.rotr=(e,t)=>e<<32-t|e>>>t,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.bytesToHex=function(e){if(!r(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,o=e.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");r[t]=i}return r};function o(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function i(e){if("string"==typeof e&&(e=o(e)),!r(e))throw new Error("expected Uint8Array, got "+typeof e);return e}e.nextTick=async()=>{},e.asyncLoop=async function(t,r,n){let o=Date.now();for(let i=0;i<t;i++){n(i);const t=Date.now()-o;t>=0&&t<r||(await(0,e.nextTick)(),o+=t)}},e.utf8ToBytes=o,e.toBytes=i,e.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!r(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t};e.Hash=class{clone(){return this._cloneInto()}};const s={}.toString;e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==s.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){const t=t=>e().update(i(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(i(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(i(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}}(uh),Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.shake256=Rl.shake128=Rl.keccak_512=Rl.keccak_384=Rl.keccak_256=Rl.keccak_224=Rl.sha3_512=Rl.sha3_384=Rl.sha3_256=Rl.sha3_224=Rl.Keccak=Rl.keccakP=void 0;const lh=Il,hh=Ml,dh=uh,[ph,gh,yh]=[[],[],[]],bh=BigInt(0),mh=BigInt(1),vh=BigInt(2),wh=BigInt(7),_h=BigInt(256),Eh=BigInt(113);for(let e=0,t=mh,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ph.push(2*(5*n+r)),gh.push((e+1)*(e+2)/2%64);let o=bh;for(let e=0;e<7;e++)t=(t<<mh^(t>>wh)*Eh)%_h,t&vh&&(o^=mh<<(mh<<BigInt(e))-mh);yh.push(o)}const[xh,Ah]=(0,hh.split)(yh,!0),Sh=(e,t,r)=>r>32?(0,hh.rotlBH)(e,t,r):(0,hh.rotlSH)(e,t,r),Th=(e,t,r)=>r>32?(0,hh.rotlBL)(e,t,r):(0,hh.rotlSL)(e,t,r);function Bh(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,o=(t+2)%10,i=r[o],s=r[o+1],a=Sh(i,s,1)^r[n],c=Th(i,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],o=e[3];for(let r=0;r<24;r++){const n=gh[r],i=Sh(t,o,n),s=Th(t,o,n),a=ph[r];t=e[a],o=e[a+1],e[a]=i,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=xh[n],e[1]^=Ah[n]}r.fill(0)}Rl.keccakP=Bh;class Rh extends dh.Hash{constructor(e,t,r,n=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,lh.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,dh.u32)(this.state)}keccak(){Bh(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,lh.exists)(this);const{blockLen:t,state:r}=this,n=(e=(0,dh.toBytes)(e)).length;for(let o=0;o<n;){const i=Math.min(t-this.pos,n-o);for(let t=0;t<i;t++)r[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,lh.exists)(this,!1),(0,lh.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,o=e.length;n<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,lh.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,lh.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:o,enableXOF:i}=this;return e||(e=new Rh(t,r,n,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}Rl.Keccak=Rh;const Ih=(e,t,r)=>(0,dh.wrapConstructor)((()=>new Rh(t,e,r)));Rl.sha3_224=Ih(6,144,28),Rl.sha3_256=Ih(6,136,32),Rl.sha3_384=Ih(6,104,48),Rl.sha3_512=Ih(6,72,64),Rl.keccak_224=Ih(1,144,28),Rl.keccak_256=Ih(1,136,32),Rl.keccak_384=Ih(1,104,48),Rl.keccak_512=Ih(1,72,64);const kh=(e,t,r)=>(0,dh.wrapXOFConstructorWithOpts)(((n={})=>new Rh(t,e,void 0===n.dkLen?r:n.dkLen,!0)));Rl.shake128=kh(31,168,16),Rl.shake256=kh(31,136,32);var Oh={};!function(e){function t(...e){const t=(e,t)=>r=>e(t(r));return{encode:Array.from(e).reverse().reduce(((e,r)=>e?t(e,r.encode):r.encode),void 0),decode:e.reduce(((e,r)=>e?t(e,r.decode):r.decode),void 0)}}function r(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function n(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function o(e,t="="){if("string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function i(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function s(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0;const o=[],i=Array.from(e);for(i.forEach((e=>{if(e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let o=n;o<i.length;o++){const a=i[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%r;const u=Math.floor(c/r);if(i[o]=u,!Number.isSafeInteger(u)||u*r+e!==c)throw new Error("convertRadix: carry overflow");s&&(u?s=!1:n=o)}if(o.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */
Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=function(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)};const a=(e,t)=>t?a(t,e%t):e,c=(e,t)=>e+(t-a(e,t));function u(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(c(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${c(t,r)}`);let o=0,i=0;const s=2**r-1,a=[];for(const n of e){if(n>=2**t)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(o=o<<t|n,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=r;i-=r)a.push((o>>i-r&s)>>>0);o&=2**i-1}if(o=o<<r-i&s,!n&&i>=t)throw new Error("Excess padding");if(!n&&o)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&a.push(o>>>0),a}function f(e){return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return s(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(s(t,e,256))}}}function l(e,t=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(c(8,e)>32||c(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return u(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(u(r,e,8,t))}}}function h(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function d(e,t){if("function"!=typeof t)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),o=new Uint8Array(r.length+e);return o.set(r),o.set(n,r.length),o},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),o=t(n).slice(0,e),i=r.slice(-e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return n}}}e.utils={alphabet:r,chain:t,checksum:d,radix:f,radix2:l,join:n,padding:o},e.base16=t(l(4),r("0123456789ABCDEF"),n("")),e.base32=t(l(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),n("")),e.base32hex=t(l(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),n("")),e.base32crockford=t(l(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),n(""),i((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=t(l(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),n("")),e.base64url=t(l(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),n("")),e.base64urlnopad=t(l(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),n(""));const p=e=>t(f(58),r(e),n(""));e.base58=p("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=p("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=p("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const g=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let r="";for(let n=0;n<t.length;n+=8){const o=t.subarray(n,n+8);r+=e.base58.encode(o).padStart(g[o.length],"1")}return r},decode(t){let r=[];for(let n=0;n<t.length;n+=11){const o=t.slice(n,n+11),i=g.indexOf(o.length),s=e.base58.decode(o);for(let e=0;e<s.length-i;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(r)}};e.base58check=r=>t(d(4,(e=>r(r(e)))),e.base58);const y=t(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),n("")),b=[996825010,642813549,513874426,1027748829,705979059];function m(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<b.length;e++)1==(t>>e&1)&&(r^=b[e]);return r}function v(e,t,r=1){const n=e.length;let o=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);o=m(o)^r>>5}o=m(o);for(let t=0;t<n;t++)o=m(o)^31&e.charCodeAt(t);for(let e of t)o=m(o)^e;for(let e=0;e<6;e++)o=m(o);return o^=r,y.encode(u([o%2**30],30,5,!1))}function w(e){const t="bech32"===e?1:734539939,r=l(5),n=r.decode,o=r.encode,i=h(n);function s(e,r=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==r&&e.length>r)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${r})`);const n=e.toLowerCase();if(e!==n&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=(e=n).lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const i=e.slice(0,o),s=e.slice(o+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=y.decode(s).slice(0,-6),c=v(i,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:i,words:a}}return{encode:function(e,r,n=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const o=e.length+7+r.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const i=e.toLowerCase(),s=v(i,r,t);return`${i}1${y.encode(r)}${s}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:r}=s(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:h(s),fromWords:n,fromWordsUnsafe:i,toWords:o}}e.bech32=w("bech32"),e.bech32m=w("bech32m"),e.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},e.hex=t(l(4),r("0123456789abcdef"),n(""),i((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const _={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},E="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr";e.bytesToString=(e,t)=>{if("string"!=typeof e||!_.hasOwnProperty(e))throw new TypeError(E);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return _[e].encode(t)},e.str=e.bytesToString;e.stringToBytes=(e,t)=>{if(!_.hasOwnProperty(e))throw new TypeError(E);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return _[e].decode(t)},e.bytes=e.stringToBytes}(Oh),Object.defineProperty(If,"__esModule",{value:!0});var Lh=kf,Ch=Rl,Ph=xl,Nh=Oh,Uh=48,Mh=58,$h=87;var jh=function(){const e=[];return()=>{if(0===e.length)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}();function Hh(e){return e instanceof Uint8Array}function Dh(e){Lh.assert.call(void 0,Hh(e),"Value must be a Uint8Array.")}function Fh(e){if(Dh(e),0===e.length)return"0x";const t=jh(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return od(r.join(""))}function zh(e){Dh(e);const t=Fh(e);return BigInt(t)}function Vh(e){if("0x"===function(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],i=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=i(r)):"call"!==o&&"optionalCall"!==o||(r=i(((...e)=>r.call(t,...e))),t=void 0)}return r}([e,"optionalAccess",e=>e.toLowerCase,"optionalCall",e=>e()]))return new Uint8Array;td(e);const t=id(e).toLowerCase(),r=t.length%2==0?t:`0${t}`,n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=r.charCodeAt(2*e),o=r.charCodeAt(2*e+1),i=t-(t<Mh?Uh:$h),s=o-(o<Mh?Uh:$h);n[e]=16*i+s}return n}function qh(e){Lh.assert.call(void 0,"bigint"==typeof e,"Value must be a bigint."),Lh.assert.call(void 0,e>=BigInt(0),"Value must be a non-negative bigint.");return Vh(e.toString(16))}function Kh(e){Lh.assert.call(void 0,"number"==typeof e,"Value must be a number."),Lh.assert.call(void 0,e>=0,"Value must be a non-negative number."),Lh.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");return Vh(e.toString(16))}function Zh(e){return Lh.assert.call(void 0,"string"==typeof e,"Value must be a string."),(new TextEncoder).encode(e)}function Gh(e){if("bigint"==typeof e)return qh(e);if("number"==typeof e)return Kh(e);if("string"==typeof e)return e.startsWith("0x")?Vh(e):Zh(e);if(Hh(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}var Wh=Ph.pattern.call(void 0,Ph.string.call(void 0),/^(?:0x)?[0-9a-f]+$/iu),Jh=Ph.pattern.call(void 0,Ph.string.call(void 0),/^0x[0-9a-f]+$/iu),Yh=Ph.pattern.call(void 0,Ph.string.call(void 0),/^0x[0-9a-f]{40}$/u),Xh=Ph.pattern.call(void 0,Ph.string.call(void 0),/^0x[0-9a-fA-F]{40}$/u);function Qh(e){return Ph.is.call(void 0,e,Wh)}function ed(e){return Ph.is.call(void 0,e,Jh)}function td(e){Lh.assert.call(void 0,Qh(e),"Value must be a hexadecimal string.")}function rd(e){Lh.assert.call(void 0,Ph.is.call(void 0,e,Xh),"Invalid hex address.");const t=id(e.toLowerCase()),r=id(Fh(Ch.keccak_256.call(void 0,t)));return`0x${t.split("").map(((e,t)=>{const n=r[t];return Lh.assert.call(void 0,Ph.is.call(void 0,n,Ph.string.call(void 0)),"Hash shorter than address."),parseInt(n,16)>7?e.toUpperCase():e})).join("")}`}function nd(e){return!!Ph.is.call(void 0,e,Xh)&&rd(e)===e}function od(e){return e.startsWith("0x")?e:e.startsWith("0X")?`0x${e.substring(2)}`:`0x${e}`}function id(e){return e.startsWith("0x")||e.startsWith("0X")?e.substring(2):e}If.HexStruct=Wh,If.StrictHexStruct=Jh,If.HexAddressStruct=Yh,If.HexChecksumAddressStruct=Xh,If.isHexString=Qh,If.isStrictHexString=ed,If.assertIsHexString=td,If.assertIsStrictHexString=function(e){Lh.assert.call(void 0,ed(e),'Value must be a hexadecimal string, starting with "0x".')},If.isValidHexAddress=function(e){return Ph.is.call(void 0,e,Yh)||nd(e)},If.getChecksumAddress=rd,If.isValidChecksumAddress=nd,If.add0x=od,If.remove0x=id,If.isBytes=Hh,If.assertIsBytes=Dh,If.bytesToHex=Fh,If.bytesToBigInt=zh,If.bytesToSignedBigInt=function(e){Dh(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(8*e.length,t)},If.bytesToNumber=function(e){Dh(e);const t=zh(e);return Lh.assert.call(void 0,t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)},If.bytesToString=function(e){return Dh(e),(new TextDecoder).decode(e)},If.bytesToBase64=function(e){return Dh(e),Nh.base64.encode(e)},If.hexToBytes=Vh,If.bigIntToBytes=qh,If.signedBigIntToBytes=function(e,t){Lh.assert.call(void 0,"bigint"==typeof e,"Value must be a bigint."),Lh.assert.call(void 0,"number"==typeof t,"Byte length must be a number."),Lh.assert.call(void 0,t>0,"Byte length must be greater than 0."),Lh.assert.call(void 0,function(e,t){Lh.assert.call(void 0,t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(8*t-1))}(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let e=0;e<n.length;e++)n[e]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()},If.numberToBytes=Kh,If.stringToBytes=Zh,If.base64ToBytes=function(e){return Lh.assert.call(void 0,"string"==typeof e,"Value must be a string."),Nh.base64.decode(e)},If.valueToBytes=Gh,If.concatBytes=function(e){const t=new Array(e.length);let r=0;for(let n=0;n<e.length;n++){const o=Gh(e[n]);t[n]=o,r+=o.length}const n=new Uint8Array(r);for(let e=0,r=0;e<t.length;e++)n.set(t[e],r),r+=t[e].length;return n},If.createDataView=function(e){if(void 0!==E&&e instanceof E){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)},Object.defineProperty(Rf,"__esModule",{value:!0});var sd=If,ad=kf;Rf.numberToHex=e=>(ad.assert.call(void 0,"number"==typeof e,"Value must be a number."),ad.assert.call(void 0,e>=0,"Value must be a non-negative number."),ad.assert.call(void 0,Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),sd.add0x.call(void 0,e.toString(16))),Rf.bigIntToHex=e=>(ad.assert.call(void 0,"bigint"==typeof e,"Value must be a bigint."),ad.assert.call(void 0,e>=0,"Value must be a non-negative bigint."),sd.add0x.call(void 0,e.toString(16))),Rf.hexToNumber=e=>{sd.assertIsHexString.call(void 0,e);const t=parseInt(e,16);return ad.assert.call(void 0,Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t},Rf.hexToBigInt=e=>(sd.assertIsHexString.call(void 0,e),BigInt(sd.add0x.call(void 0,e)));var cd={};Object.defineProperty(cd,"__esModule",{value:!0});var ud=(e=>(e[e.Millisecond=1]="Millisecond",e[e.Second=1e3]="Second",e[e.Minute=6e4]="Minute",e[e.Hour=36e5]="Hour",e[e.Day=864e5]="Day",e[e.Week=6048e5]="Week",e[e.Year=31536e6]="Year",e))(ud||{}),fd=(e,t)=>{if(!(e=>Number.isInteger(e)&&e>=0)(e))throw new Error(`"${t}" must be a non-negative integer. Received: "${e}".`)};cd.Duration=ud,cd.inMilliseconds=function(e,t){return fd(e,"count"),e*t},cd.timeSince=function(e){return fd(e,"timestamp"),Date.now()-e};var ld={},hd={exports:{}};var dd={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};var pd="object"==typeof Zn&&Zn.env&&Zn.env.NODE_DEBUG&&/\bsemver\b/i.test(Zn.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:o}=dd,i=pd,s=(t=e.exports={}).re=[],a=t.safeRe=[],c=t.src=[],u=t.t={};let f=0;const l="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",o],[l,n]],d=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=f++;i(e,o,t),u[e]=o,c[o]=t,s[o]=new RegExp(t,r?"g":void 0),a[o]=new RegExp(n,r?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),d("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${l}+`),d("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),d("FULL",`^${c[u.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),d("LOOSE",`^${c[u.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),d("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),d("COERCERTL",c[u.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(hd,hd.exports);var gd=hd.exports;const yd=Object.freeze({loose:!0}),bd=Object.freeze({});var md=e=>e?"object"!=typeof e?yd:e:bd;const vd=/^[0-9]+$/,wd=(e,t)=>{const r=vd.test(e),n=vd.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1};var _d={compareIdentifiers:wd,rcompareIdentifiers:(e,t)=>wd(t,e)};const Ed=pd,{MAX_LENGTH:xd,MAX_SAFE_INTEGER:Ad}=dd,{safeRe:Sd,t:Td}=gd,Bd=md,{compareIdentifiers:Rd}=_d;var Id=class e{constructor(t,r){if(r=Bd(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>xd)throw new TypeError(`version is longer than ${xd} characters`);Ed("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?Sd[Td.LOOSE]:Sd[Td.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ad||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ad||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ad||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Ad)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ed("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Rd(this.major,t.major)||Rd(this.minor,t.minor)||Rd(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const e=this.prerelease[r],n=t.prerelease[r];if(Ed("prerelease compare",r,e,n),void 0===e&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===e)return-1;if(e!==n)return Rd(e,n)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{const e=this.build[r],n=t.build[r];if(Ed("prerelease compare",r,e,n),void 0===e&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===e)return-1;if(e!==n)return Rd(e,n)}while(++r)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===Rd(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const kd=Id;var Od=(e,t,r=!1)=>{if(e instanceof kd)return e;try{return new kd(e,t)}catch(e){if(!r)return null;throw e}};const Ld=Od;var Cd=(e,t)=>{const r=Ld(e,t);return r?r.version:null};const Pd=Od;var Nd=(e,t)=>{const r=Pd(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const Ud=Id;var Md=(e,t,r,n,o)=>{"string"==typeof r&&(o=n,n=r,r=void 0);try{return new Ud(e instanceof Ud?e.version:e,r).inc(t,n,o).version}catch(e){return null}};const $d=Od;var jd=(e,t)=>{const r=$d(e,null,!0),n=$d(t,null,!0),o=r.compare(n);if(0===o)return null;const i=o>0,s=i?r:n,a=i?n:r,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return a.patch||a.minor?s.patch?"patch":s.minor?"minor":"major":"major";const u=c?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};const Hd=Id;var Dd=(e,t)=>new Hd(e,t).major;const Fd=Id;var zd=(e,t)=>new Fd(e,t).minor;const Vd=Id;var qd=(e,t)=>new Vd(e,t).patch;const Kd=Od;var Zd=(e,t)=>{const r=Kd(e,t);return r&&r.prerelease.length?r.prerelease:null};const Gd=Id;var Wd=(e,t,r)=>new Gd(e,r).compare(new Gd(t,r));const Jd=Wd;var Yd=(e,t,r)=>Jd(t,e,r);const Xd=Wd;var Qd=(e,t)=>Xd(e,t,!0);const ep=Id;var tp=(e,t,r)=>{const n=new ep(e,r),o=new ep(t,r);return n.compare(o)||n.compareBuild(o)};const rp=tp;var np=(e,t)=>e.sort(((e,r)=>rp(e,r,t)));const op=tp;var ip=(e,t)=>e.sort(((e,r)=>op(r,e,t)));const sp=Wd;var ap=(e,t,r)=>sp(e,t,r)>0;const cp=Wd;var up=(e,t,r)=>cp(e,t,r)<0;const fp=Wd;var lp=(e,t,r)=>0===fp(e,t,r);const hp=Wd;var dp=(e,t,r)=>0!==hp(e,t,r);const pp=Wd;var gp=(e,t,r)=>pp(e,t,r)>=0;const yp=Wd;var bp=(e,t,r)=>yp(e,t,r)<=0;const mp=lp,vp=dp,wp=ap,_p=gp,Ep=up,xp=bp;var Ap=(e,t,r,n)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return mp(e,r,n);case"!=":return vp(e,r,n);case">":return wp(e,r,n);case">=":return _p(e,r,n);case"<":return Ep(e,r,n);case"<=":return xp(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};const Sp=Id,Tp=Od,{safeRe:Bp,t:Rp}=gd;var Ip,kp,Op,Lp,Cp,Pp,Np,Up,Mp,$p,jp=(e,t)=>{if(e instanceof Sp)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=Bp[Rp.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),Bp[Rp.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;Bp[Rp.COERCERTL].lastIndex=-1}else r=e.match(Bp[Rp.COERCE]);return null===r?null:Tp(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};function Hp(){if(Lp)return Op;function e(t){var r=this;if(r instanceof e||(r=new e),r.tail=null,r.head=null,r.length=0,t&&"function"==typeof t.forEach)t.forEach((function(e){r.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)r.push(arguments[n]);return r}function t(e,t,r){var n=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function r(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function n(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,r,n){if(!(this instanceof o))return new o(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}Lp=1,Op=e,e.Node=o,e.create=e,e.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},e.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},e.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},e.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},e.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},e.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},e.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},e.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},e.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},e.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},e.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},e.prototype.map=function(t,r){r=r||this;for(var n=new e,o=this.head;null!==o;)n.push(t.call(r,o.value,this)),o=o.next;return n},e.prototype.mapReverse=function(t,r){r=r||this;for(var n=new e,o=this.tail;null!==o;)n.push(t.call(r,o.value,this)),o=o.prev;return n},e.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},e.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},e.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},e.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},e.prototype.slice=function(t,r){(r=r||this.length)<0&&(r+=this.length),(t=t||0)<0&&(t+=this.length);var n=new e;if(r<t||r<0)return n;t<0&&(t=0),r>this.length&&(r=this.length);for(var o=0,i=this.head;null!==i&&o<t;o++)i=i.next;for(;null!==i&&o<r;o++,i=i.next)n.push(i.value);return n},e.prototype.sliceReverse=function(t,r){(r=r||this.length)<0&&(r+=this.length),(t=t||0)<0&&(t+=this.length);var n=new e;if(r<t||r<0)return n;t<0&&(t=0),r>this.length&&(r=this.length);for(var o=this.length,i=this.tail;null!==i&&o>r;o--)i=i.prev;for(;null!==i&&o>t;o--,i=i.prev)n.push(i.value);return n},e.prototype.splice=function(e,r,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;var s=[];for(o=0;i&&o<r;o++)s.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(o=0;o<n.length;o++)i=t(this,i,n[o]);return s},e.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{(kp?Ip:(kp=1,Ip=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}))(e)}catch(e){}return Op}function Dp(){if(Up)return Np;Up=1;class e{constructor(t,r){if(r=n(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&d))+":"+e,n=r.get(t);if(n)return n;const s=this.options.loose,g=s?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];e=e.replace(g,B(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(a[c.COMPARATORTRIM],u),i("comparator trim",e),e=e.replace(a[c.TILDETRIM],f),i("tilde trim",e),e=e.replace(a[c.CARETTRIM],l),i("caret trim",e);let y=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>T(e,this.options)));s&&(y=y.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(a[c.COMPARATORLOOSE]))))),i("range list",y);const m=new Map,v=y.map((e=>new o(e,this.options)));for(const e of v){if(p(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const w=[...m.values()];return r.set(t,w),w}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((e=>y(e,r)&&t.set.some((t=>y(t,r)&&e.every((e=>t.every((t=>e.intersects(t,r)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}Np=e;const t=function(){if(Pp)return Cp;Pp=1;const e=Hp(),t=Symbol("max"),r=Symbol("length"),n=Symbol("lengthCalculator"),o=Symbol("allowStale"),i=Symbol("maxAge"),s=Symbol("dispose"),a=Symbol("noDisposeOnSet"),c=Symbol("lruList"),u=Symbol("cache"),f=Symbol("updateAgeOnGet"),l=()=>1,h=(e,t,r)=>{const n=e[u].get(t);if(n){const t=n.value;if(d(e,t)){if(g(e,n),!e[o])return}else r&&(e[f]&&(n.value.now=Date.now()),e[c].unshiftNode(n));return t.value}},d=(e,t)=>{if(!t||!t.maxAge&&!e[i])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[i]&&r>e[i]},p=e=>{if(e[r]>e[t])for(let n=e[c].tail;e[r]>e[t]&&null!==n;){const t=n.prev;g(e,n),n=t}},g=(e,t)=>{if(t){const n=t.value;e[s]&&e[s](n.key,n.value),e[r]-=n.length,e[u].delete(n.key),e[c].removeNode(t)}};class y{constructor(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}}const b=(e,t,r,n)=>{let i=r.value;d(e,i)&&(g(e,r),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};return Cp=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[t]=e.max||1/0;const r=e.length||l;if(this[n]="function"!=typeof r?l:r,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[i]=e.maxAge||0,this[s]=e.dispose,this[a]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[t]=e||1/0,p(this)}get max(){return this[t]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[i]=e,p(this)}get maxAge(){return this[i]}set lengthCalculator(e){"function"!=typeof e&&(e=l),e!==this[n]&&(this[n]=e,this[r]=0,this[c].forEach((e=>{e.length=this[n](e.value,e.key),this[r]+=e.length}))),p(this)}get lengthCalculator(){return this[n]}get length(){return this[r]}get itemCount(){return this[c].length}rforEach(e,t){t=t||this;for(let r=this[c].tail;null!==r;){const n=r.prev;b(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[c].head;null!==r;){const n=r.next;b(this,e,r,t),r=n}}keys(){return this[c].toArray().map((e=>e.key))}values(){return this[c].toArray().map((e=>e.value))}reset(){this[s]&&this[c]&&this[c].length&&this[c].forEach((e=>this[s](e.key,e.value))),this[u]=new Map,this[c]=new e,this[r]=0}dump(){return this[c].map((e=>!d(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[c]}set(e,o,f){if((f=f||this[i])&&"number"!=typeof f)throw new TypeError("maxAge must be a number");const l=f?Date.now():0,h=this[n](o,e);if(this[u].has(e)){if(h>this[t])return g(this,this[u].get(e)),!1;const n=this[u].get(e).value;return this[s]&&(this[a]||this[s](e,n.value)),n.now=l,n.maxAge=f,n.value=o,this[r]+=h-n.length,n.length=h,this.get(e),p(this),!0}const d=new y(e,o,h,l,f);return d.length>this[t]?(this[s]&&this[s](e,o),!1):(this[r]+=d.length,this[c].unshift(d),this[u].set(e,this[c].head),p(this),!0)}has(e){if(!this[u].has(e))return!1;const t=this[u].get(e).value;return!d(this,t)}get(e){return h(this,e,!0)}peek(e){return h(this,e,!1)}pop(){const e=this[c].tail;return e?(g(this,e),e.value):null}del(e){g(this,this[u].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{const e=o-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[u].forEach(((e,t)=>h(this,t,!1)))}},Cp}(),r=new t({max:1e3}),n=md,o=Fp(),i=pd,s=Id,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:f,caretTrimReplace:l}=gd,{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:d}=dd,p=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,y=(e,t)=>{let r=!0;const n=e.slice();let o=n.pop();for(;r&&n.length;)r=n.every((e=>o.intersects(e,t))),o=n.pop();return r},b=(e,t)=>(i("comp",e,t),e=_(e,t),i("caret",e),e=v(e,t),i("tildes",e),e=x(e,t),i("xrange",e),e=S(e,t),i("stars",e),e),m=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const r=t.loose?a[c.TILDELOOSE]:a[c.TILDE];return e.replace(r,((t,r,n,o,s)=>{let a;return i("tilde",e,t,r,n,o,s),m(r)?a="":m(n)?a=`>=${r}.0.0 <${+r+1}.0.0-0`:m(o)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(i("replaceTilde pr",s),a=`>=${r}.${n}.${o}-${s} <${r}.${+n+1}.0-0`):a=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`,i("tilde return",a),a}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{i("caret",e,t);const r=t.loose?a[c.CARETLOOSE]:a[c.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,s,a)=>{let c;return i("caret",e,t,r,o,s,a),m(r)?c="":m(o)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:m(s)?c="0"===r?`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.0${n} <${+r+1}.0.0-0`:a?(i("replaceCaret pr",a),c="0"===r?"0"===o?`>=${r}.${o}.${s}-${a} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}-${a} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s}-${a} <${+r+1}.0.0-0`):(i("no pr"),c="0"===r?"0"===o?`>=${r}.${o}.${s}${n} <${r}.${o}.${+s+1}-0`:`>=${r}.${o}.${s}${n} <${r}.${+o+1}.0-0`:`>=${r}.${o}.${s} <${+r+1}.0.0-0`),i("caret return",c),c}))},x=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>A(e,t))).join(" ")),A=(e,t)=>{e=e.trim();const r=t.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return e.replace(r,((r,n,o,s,a,c)=>{i("xRange",e,r,n,o,s,a,c);const u=m(o),f=u||m(s),l=f||m(a),h=l;return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(f&&(s=0),a=0,">"===n?(n=">=",f?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):"<="===n&&(n="<",f?o=+o+1:s=+s+1),"<"===n&&(c="-0"),r=`${n+o}.${s}.${a}${c}`):f?r=`>=${o}.0.0${c} <${+o+1}.0.0-0`:l&&(r=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),i("xRange return",r),r}))},S=(e,t)=>(i("replaceStars",e,t),e.trim().replace(a[c.STAR],"")),T=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),B=e=>(t,r,n,o,i,s,a,c,u,f,l,h,d)=>`${r=m(n)?"":m(o)?`>=${n}.0.0${e?"-0":""}`:m(i)?`>=${n}.${o}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=m(u)?"":m(f)?`<${+u+1}.0.0-0`:m(l)?`<${u}.${+f+1}.0-0`:h?`<=${u}.${f}.${l}-${h}`:e?`<${u}.${f}.${+l+1}-0`:`<=${c}`}`.trim(),R=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(i(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0};return Np}function Fp(){if($p)return Mp;$p=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(n,o){if(o=r(o),n instanceof t){if(n.loose===!!o.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),s("comparator",n,o),this.options=o,this.loose=!!o.loose,this.parse(n),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(t){const r=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],i=t.match(r);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new a(i[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(s("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new a(t,this.options)}catch(e){return!1}return i(t,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,n).test(this.value):""===e.operator?""===e.value||new c(this.value,n).test(e.semver):(!(n=r(n)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(i(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(i(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}Mp=t;const r=md,{safeRe:n,t:o}=gd,i=Ap,s=pd,a=Id,c=Dp();return Mp}const zp=Dp();var Vp=(e,t,r)=>{try{t=new zp(t,r)}catch(e){return!1}return t.test(e)};const qp=Dp();var Kp=(e,t)=>new qp(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));const Zp=Id,Gp=Dp();var Wp=(e,t,r)=>{let n=null,o=null,i=null;try{i=new Gp(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&-1!==o.compare(e)||(n=e,o=new Zp(n,r)))})),n};const Jp=Id,Yp=Dp();var Xp=(e,t,r)=>{let n=null,o=null,i=null;try{i=new Yp(t,r)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(n&&1!==o.compare(e)||(n=e,o=new Jp(n,r)))})),n};const Qp=Id,eg=Dp(),tg=ap;var rg=(e,t)=>{e=new eg(e,t);let r=new Qp("0.0.0");if(e.test(r))return r;if(r=new Qp("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let o=null;n.forEach((e=>{const t=new Qp(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!tg(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||r&&!tg(r,o)||(r=o)}return r&&e.test(r)?r:null};const ng=Dp();var og=(e,t)=>{try{return new ng(e,t).range||"*"}catch(e){return null}};const ig=Id,sg=Fp(),{ANY:ag}=sg,cg=Dp(),ug=Vp,fg=ap,lg=up,hg=bp,dg=gp;var pg=(e,t,r,n)=>{let o,i,s,a,c;switch(e=new ig(e,n),t=new cg(t,n),r){case">":o=fg,i=hg,s=lg,a=">",c=">=";break;case"<":o=lg,i=dg,s=fg,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ug(e,t,n))return!1;for(let r=0;r<t.set.length;++r){const u=t.set[r];let f=null,l=null;if(u.forEach((e=>{e.semver===ag&&(e=new sg(">=0.0.0")),f=f||e,l=l||e,o(e.semver,f.semver,n)?f=e:s(e.semver,l.semver,n)&&(l=e)})),f.operator===a||f.operator===c)return!1;if((!l.operator||l.operator===a)&&i(e,l.semver))return!1;if(l.operator===c&&s(e,l.semver))return!1}return!0};const gg=pg;var yg=(e,t,r)=>gg(e,t,">",r);const bg=pg;var mg=(e,t,r)=>bg(e,t,"<",r);const vg=Dp();var wg=(e,t,r)=>(e=new vg(e,r),t=new vg(t,r),e.intersects(t,r));const _g=Vp,Eg=Wd;const xg=Dp(),Ag=Fp(),{ANY:Sg}=Ag,Tg=Vp,Bg=Wd,Rg=[new Ag(">=0.0.0-0")],Ig=[new Ag(">=0.0.0")],kg=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===Sg){if(1===t.length&&t[0].semver===Sg)return!0;e=r.includePrerelease?Rg:Ig}if(1===t.length&&t[0].semver===Sg){if(r.includePrerelease)return!0;t=Ig}const n=new Set;let o,i,s,a,c,u,f;for(const t of e)">"===t.operator||">="===t.operator?o=Og(o,t,r):"<"===t.operator||"<="===t.operator?i=Lg(i,t,r):n.add(t.semver);if(n.size>1)return null;if(o&&i){if(s=Bg(o.semver,i.semver,r),s>0)return null;if(0===s&&(">="!==o.operator||"<="!==i.operator))return null}for(const e of n){if(o&&!Tg(e,String(o),r))return null;if(i&&!Tg(e,String(i),r))return null;for(const n of t)if(!Tg(e,String(n),r))return!1;return!0}let l=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,h=!(!o||r.includePrerelease||!o.semver.prerelease.length)&&o.semver;l&&1===l.prerelease.length&&"<"===i.operator&&0===l.prerelease[0]&&(l=!1);for(const e of t){if(f=f||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,o)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),">"===e.operator||">="===e.operator){if(a=Og(o,e,r),a===e&&a!==o)return!1}else if(">="===o.operator&&!Tg(o.semver,String(e),r))return!1;if(i)if(l&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===l.major&&e.semver.minor===l.minor&&e.semver.patch===l.patch&&(l=!1),"<"===e.operator||"<="===e.operator){if(c=Lg(i,e,r),c===e&&c!==i)return!1}else if("<="===i.operator&&!Tg(i.semver,String(e),r))return!1;if(!e.operator&&(i||o)&&0!==s)return!1}return!(o&&u&&!i&&0!==s)&&(!(i&&f&&!o&&0!==s)&&(!h&&!l))},Og=(e,t,r)=>{if(!e)return t;const n=Bg(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},Lg=(e,t,r)=>{if(!e)return t;const n=Bg(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};var Cg=(e,t,r={})=>{if(e===t)return!0;e=new xg(e,r),t=new xg(t,r);let n=!1;e:for(const o of e.set){for(const e of t.set){const t=kg(o,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0};const Pg=gd,Ng=dd,Ug=Id,Mg=_d,$g=(e,t,r)=>{const n=[];let o=null,i=null;const s=e.sort(((e,t)=>Eg(e,t,r)));for(const e of s){_g(e,t,r)?(i=e,o||(o=e)):(i&&n.push([o,i]),i=null,o=null)}o&&n.push([o,null]);const a=[];for(const[e,t]of n)e===t?a.push(e):t||e!==s[0]?t?e===s[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const c=a.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return c.length<u.length?c:t};var jg={parse:Od,valid:Cd,clean:Nd,inc:Md,diff:jd,major:Dd,minor:zd,patch:qd,prerelease:Zd,compare:Wd,rcompare:Yd,compareLoose:Qd,compareBuild:tp,sort:np,rsort:ip,gt:ap,lt:up,eq:lp,neq:dp,gte:gp,lte:bp,cmp:Ap,coerce:jp,Comparator:Fp(),Range:Dp(),satisfies:Vp,toComparators:Kp,maxSatisfying:Wp,minSatisfying:Xp,minVersion:rg,validRange:og,outside:pg,gtr:yg,ltr:mg,intersects:wg,simplifyRange:$g,subset:Cg,SemVer:Ug,re:Pg.re,src:Pg.src,tokens:Pg.t,SEMVER_SPEC_VERSION:Ng.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ng.RELEASE_TYPES,compareIdentifiers:Mg.compareIdentifiers,rcompareIdentifiers:Mg.rcompareIdentifiers};Object.defineProperty(ld,"__esModule",{value:!0});var Hg=kf,Dg=jg,Fg=xl,zg=Fg.refine.call(void 0,Fg.string.call(void 0),"Version",(e=>null!==Dg.valid.call(void 0,e)||`Expected SemVer version, got "${e}"`)),Vg=Fg.refine.call(void 0,Fg.string.call(void 0),"Version range",(e=>null!==Dg.validRange.call(void 0,e)||`Expected SemVer range, got "${e}"`));ld.VersionStruct=zg,ld.VersionRangeStruct=Vg,ld.isValidSemVerVersion=function(e){return Fg.is.call(void 0,e,zg)},ld.isValidSemVerRange=function(e){return Fg.is.call(void 0,e,Vg)},ld.assertIsSemVerVersion=function(e){Hg.assertStruct.call(void 0,e,zg)},ld.assertIsSemVerRange=function(e){Hg.assertStruct.call(void 0,e,Vg)},ld.gtVersion=function(e,t){return Dg.gt.call(void 0,e,t)},ld.gtRange=function(e,t){return Dg.gtr.call(void 0,e,t)},ld.satisfiesVersionRange=function(e,t){return Dg.satisfies.call(void 0,e,t,{includePrerelease:!0})};var qg={};Object.defineProperty(qg,"__esModule",{value:!0});var Kg=kf,Zg=Lf,Gg=xl,Wg=e=>Gg.object.call(void 0,e);function Jg({path:e,branch:t}){const r=e[e.length-1];return Zg.hasProperty.call(void 0,t[t.length-2],r)}function Yg(e){return new Gg.Struct({...e,type:`optional ${e.type}`,validator:(t,r)=>!Jg(r)||e.validator(t,r),refiner:(t,r)=>!Jg(r)||e.refiner(t,r)})}var Xg=Gg.union.call(void 0,[Gg.literal.call(void 0,null),Gg.boolean.call(void 0),Gg.define.call(void 0,"finite number",(e=>Gg.is.call(void 0,e,Gg.number.call(void 0))&&Number.isFinite(e))),Gg.string.call(void 0),Gg.array.call(void 0,Gg.lazy.call(void 0,(()=>Xg))),Gg.record.call(void 0,Gg.string.call(void 0),Gg.lazy.call(void 0,(()=>Xg)))]),Qg=Gg.coerce.call(void 0,Xg,Gg.any.call(void 0),(e=>(Kg.assertStruct.call(void 0,e,Xg),JSON.parse(JSON.stringify(e,((e,t)=>{if("__proto__"!==e&&"constructor"!==e)return t}))))));function ey(e){return Gg.create.call(void 0,e,Qg)}var ty=Gg.literal.call(void 0,"2.0"),ry=Gg.nullable.call(void 0,Gg.union.call(void 0,[Gg.number.call(void 0),Gg.string.call(void 0)])),ny=Wg({code:Gg.integer.call(void 0),message:Gg.string.call(void 0),data:Yg(Qg),stack:Yg(Gg.string.call(void 0))}),oy=Gg.union.call(void 0,[Gg.record.call(void 0,Gg.string.call(void 0),Qg),Gg.array.call(void 0,Qg)]),iy=Wg({id:ry,jsonrpc:ty,method:Gg.string.call(void 0),params:Yg(oy)}),sy=Wg({jsonrpc:ty,method:Gg.string.call(void 0),params:Yg(oy)});var ay=Gg.object.call(void 0,{id:ry,jsonrpc:ty,result:Gg.optional.call(void 0,Gg.unknown.call(void 0)),error:Gg.optional.call(void 0,ny)}),cy=Wg({id:ry,jsonrpc:ty,result:Qg}),uy=Wg({id:ry,jsonrpc:ty,error:ny}),fy=Gg.union.call(void 0,[cy,uy]);qg.object=Wg,qg.exactOptional=Yg,qg.UnsafeJsonStruct=Xg,qg.JsonStruct=Qg,qg.isValidJson=function(e){try{return ey(e),!0}catch(e){return!1}},qg.getSafeJson=ey,qg.getJsonSize=function(e){Kg.assertStruct.call(void 0,e,Qg,"Invalid JSON value");const t=JSON.stringify(e);return(new TextEncoder).encode(t).byteLength},qg.jsonrpc2="2.0",qg.JsonRpcVersionStruct=ty,qg.JsonRpcIdStruct=ry,qg.JsonRpcErrorStruct=ny,qg.JsonRpcParamsStruct=oy,qg.JsonRpcRequestStruct=iy,qg.JsonRpcNotificationStruct=sy,qg.isJsonRpcNotification=function(e){return Gg.is.call(void 0,e,sy)},qg.assertIsJsonRpcNotification=function(e,t){Kg.assertStruct.call(void 0,e,sy,"Invalid JSON-RPC notification",t)},qg.isJsonRpcRequest=function(e){return Gg.is.call(void 0,e,iy)},qg.assertIsJsonRpcRequest=function(e,t){Kg.assertStruct.call(void 0,e,iy,"Invalid JSON-RPC request",t)},qg.PendingJsonRpcResponseStruct=ay,qg.JsonRpcSuccessStruct=cy,qg.JsonRpcFailureStruct=uy,qg.JsonRpcResponseStruct=fy,qg.isPendingJsonRpcResponse=function(e){return Gg.is.call(void 0,e,ay)},qg.assertIsPendingJsonRpcResponse=function(e,t){Kg.assertStruct.call(void 0,e,ay,"Invalid pending JSON-RPC response",t)},qg.isJsonRpcResponse=function(e){return Gg.is.call(void 0,e,fy)},qg.assertIsJsonRpcResponse=function(e,t){Kg.assertStruct.call(void 0,e,fy,"Invalid JSON-RPC response",t)},qg.isJsonRpcSuccess=function(e){return Gg.is.call(void 0,e,cy)},qg.assertIsJsonRpcSuccess=function(e,t){Kg.assertStruct.call(void 0,e,cy,"Invalid JSON-RPC success response",t)},qg.isJsonRpcFailure=function(e){return Gg.is.call(void 0,e,uy)},qg.assertIsJsonRpcFailure=function(e,t){Kg.assertStruct.call(void 0,e,uy,"Invalid JSON-RPC failure response",t)},qg.isJsonRpcError=function(e){return Gg.is.call(void 0,e,ny)},qg.assertIsJsonRpcError=function(e,t){Kg.assertStruct.call(void 0,e,ny,"Invalid JSON-RPC error",t)},qg.getJsonRpcIdValidator=function(e){const{permitEmptyString:t,permitFractions:r,permitNull:n}={permitEmptyString:!0,permitFractions:!1,permitNull:!0,...e};return e=>Boolean("number"==typeof e&&(r||Number.isInteger(e))||"string"==typeof e&&(t||e.length>0)||n&&null===e)};var ly={},hy={exports:{}},dy={exports:{}};function py(){return!1}function gy(){throw new Error("tty.ReadStream is not implemented")}function yy(){throw new Error("tty.ReadStream is not implemented")}var by,my,vy,wy,_y,Ey={isatty:py,ReadStream:gy,WriteStream:yy},xy=r(Object.freeze({__proto__:null,ReadStream:gy,WriteStream:yy,default:Ey,isatty:py}));function Ay(){if(my)return by;my=1;var e=1e3,t=60*e,r=60*t,n=24*r,o=7*n,i=365.25*n;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}return by=function(a,c){c=c||{};var u=typeof a;if("string"===u&&a.length>0)return function(s){if((s=String(s)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*t;case"seconds":case"second":case"secs":case"sec":case"s":return c*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(a);if("number"===u&&isFinite(a))return c.long?function(o){var i=Math.abs(o);if(i>=n)return s(o,i,n,"day");if(i>=r)return s(o,i,r,"hour");if(i>=t)return s(o,i,t,"minute");if(i>=e)return s(o,i,e,"second");return o+" ms"}(a):function(o){var i=Math.abs(o);if(i>=n)return Math.round(o/n)+"d";if(i>=r)return Math.round(o/r)+"h";if(i>=t)return Math.round(o/t)+"m";if(i>=e)return Math.round(o/e)+"s";return o+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))},by}function Sy(){if(wy)return vy;return wy=1,vy=function(e){function t(e){let n,o,i,s=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];n=i.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=Ay(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t},vy}var Ty,By={exports:{}};void 0===Zn||"renderer"===Zn.type||!0===Zn.browser||Zn.__nwjs?hy.exports=(Ty||(Ty=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==Zn&&"env"in Zn&&(e=Zn.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Sy()(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(By,By.exports)),By.exports):hy.exports=(_y||(_y=1,function(e,t){const r=xy,n=df;t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return Zn.stderr.write(n.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?Zn.env.DEBUG=e:delete Zn.env.DEBUG},t.load=function(){return Zn.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(Zn.stderr.fd)},t.destroy=n.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=require("supports-color");e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(Zn.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=Zn.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=Sy()(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}}(dy,dy.exports)),dy.exports);var Ry=hy.exports;Object.defineProperty(ly,"__esModule",{value:!0});var Iy,ky=((Iy=Ry)&&Iy.__esModule?Iy:{default:Iy}).default.call(void 0,"metamask");ly.createProjectLogger=function(e){return ky.extend(e)},ly.createModuleLogger=function(e,t){return e.extend(t)};var Oy={};function Ly(e){let t,r=e[0],n=1;for(;n<e.length;){const o=e[n],i=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==r)return;"access"===o||"optionalAccess"===o?(t=r,r=i(r)):"call"!==o&&"optionalCall"!==o||(r=i(((...e)=>r.call(t,...e))),t=void 0)}return r}Object.defineProperty(Oy,"__esModule",{value:!0});var Cy=xl,Py=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,Ny=/^[-a-z0-9]{3,8}$/u,Uy=/^[-_a-zA-Z0-9]{1,32}$/u,My=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,$y=/^[-.%a-zA-Z0-9]{1,128}$/u,jy=Cy.pattern.call(void 0,Cy.string.call(void 0),Py),Hy=Cy.pattern.call(void 0,Cy.string.call(void 0),Ny),Dy=Cy.pattern.call(void 0,Cy.string.call(void 0),Uy),Fy=Cy.pattern.call(void 0,Cy.string.call(void 0),My),zy=Cy.pattern.call(void 0,Cy.string.call(void 0),$y);Oy.CAIP_CHAIN_ID_REGEX=Py,Oy.CAIP_NAMESPACE_REGEX=Ny,Oy.CAIP_REFERENCE_REGEX=Uy,Oy.CAIP_ACCOUNT_ID_REGEX=My,Oy.CAIP_ACCOUNT_ADDRESS_REGEX=$y,Oy.CaipChainIdStruct=jy,Oy.CaipNamespaceStruct=Hy,Oy.CaipReferenceStruct=Dy,Oy.CaipAccountIdStruct=Fy,Oy.CaipAccountAddressStruct=zy,Oy.isCaipChainId=function(e){return Cy.is.call(void 0,e,jy)},Oy.isCaipNamespace=function(e){return Cy.is.call(void 0,e,Hy)},Oy.isCaipReference=function(e){return Cy.is.call(void 0,e,Dy)},Oy.isCaipAccountId=function(e){return Cy.is.call(void 0,e,Fy)},Oy.isCaipAccountAddress=function(e){return Cy.is.call(void 0,e,zy)},Oy.parseCaipChainId=function(e){const t=Py.exec(e);if(!Ly([t,"optionalAccess",e=>e.groups]))throw new Error("Invalid CAIP chain ID.");return{namespace:t.groups.namespace,reference:t.groups.reference}},Oy.parseCaipAccountId=function(e){const t=My.exec(e);if(!Ly([t,"optionalAccess",e=>e.groups]))throw new Error("Invalid CAIP account ID.");return{address:t.groups.accountAddress,chainId:t.groups.chainId,chain:{namespace:t.groups.namespace,reference:t.groups.reference}}};var Vy={},qy={};function Ky(e,t){return null!=e?e:t()}Object.defineProperty(qy,"__esModule",{value:!0});var Zy=kf,Gy=xl;qy.base64=(e,t={})=>{const r=Ky(t.paddingRequired,(()=>!1)),n=Ky(t.characterSet,(()=>"base64"));let o,i;return"base64"===n?o=String.raw`[A-Za-z0-9+\/]`:(Zy.assert.call(void 0,"base64url"===n),o=String.raw`[-_A-Za-z0-9]`),i=r?new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),Gy.pattern.call(void 0,e,i)},Object.defineProperty(Vy,"__esModule",{value:!0});var Wy=qy,Jy=xl,Yy=Jy.size.call(void 0,Wy.base64.call(void 0,Jy.string.call(void 0),{paddingRequired:!0}),44,44);Vy.ChecksumStruct=Yy;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});var Qy=If,eb=kf,tb=xl,rb=tb.union.call(void 0,[tb.number.call(void 0),tb.bigint.call(void 0),tb.string.call(void 0),Qy.StrictHexStruct]),nb=tb.coerce.call(void 0,tb.number.call(void 0),rb,Number),ob=tb.coerce.call(void 0,tb.bigint.call(void 0),rb,BigInt);tb.union.call(void 0,[Qy.StrictHexStruct,tb.instance.call(void 0,Uint8Array)]);var ib=tb.coerce.call(void 0,tb.instance.call(void 0,Uint8Array),tb.union.call(void 0,[Qy.StrictHexStruct]),Qy.hexToBytes),sb=tb.coerce.call(void 0,Qy.StrictHexStruct,tb.instance.call(void 0,Uint8Array),Qy.bytesToHex);Xy.createNumber=function(e){try{const t=tb.create.call(void 0,e,nb);return eb.assert.call(void 0,Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){if(t instanceof tb.StructError)throw new Error(`Expected a number-like value, got "${e}".`);throw t}},Xy.createBigInt=function(e){try{return tb.create.call(void 0,e,ob)}catch(e){if(e instanceof tb.StructError)throw new Error(`Expected a number-like value, got "${String(e.value)}".`);throw e}},Xy.createBytes=function(e){if("string"==typeof e&&"0x"===e.toLowerCase())return new Uint8Array;try{return tb.create.call(void 0,e,ib)}catch(e){if(e instanceof tb.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}},Xy.createHex=function(e){if(e instanceof Uint8Array&&0===e.length||"string"==typeof e&&"0x"===e.toLowerCase())return"0x";try{return tb.create.call(void 0,e,sb)}catch(e){if(e instanceof tb.StructError)throw new Error(`Expected a bytes-like value, got "${String(e.value)}".`);throw e}};var ab={},cb={};Object.defineProperty(cb,"__esModule",{value:!0});var ub=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};cb.__privateGet=(e,t,r)=>(ub(e,t,"read from private field"),r?r.call(e):t.get(e)),cb.__privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},cb.__privateSet=(e,t,r,n)=>(ub(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Object.defineProperty(ab,"__esModule",{value:!0});var fb,lb,hb=cb,db=class{constructor(e){hb.__privateAdd.call(void 0,this,fb,void 0),hb.__privateSet.call(void 0,this,fb,new Map(e)),Object.freeze(this)}get size(){return hb.__privateGet.call(void 0,this,fb).size}[Symbol.iterator](){return hb.__privateGet.call(void 0,this,fb)[Symbol.iterator]()}entries(){return hb.__privateGet.call(void 0,this,fb).entries()}forEach(e,t){return hb.__privateGet.call(void 0,this,fb).forEach(((r,n,o)=>e.call(t,r,n,this)))}get(e){return hb.__privateGet.call(void 0,this,fb).get(e)}has(e){return hb.__privateGet.call(void 0,this,fb).has(e)}keys(){return hb.__privateGet.call(void 0,this,fb).keys()}values(){return hb.__privateGet.call(void 0,this,fb).values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map((([e,t])=>`${String(e)} => ${String(t)}`)).join(", ")} `:""}}`}};fb=new WeakMap;var pb=class{constructor(e){hb.__privateAdd.call(void 0,this,lb,void 0),hb.__privateSet.call(void 0,this,lb,new Set(e)),Object.freeze(this)}get size(){return hb.__privateGet.call(void 0,this,lb).size}[Symbol.iterator](){return hb.__privateGet.call(void 0,this,lb)[Symbol.iterator]()}entries(){return hb.__privateGet.call(void 0,this,lb).entries()}forEach(e,t){return hb.__privateGet.call(void 0,this,lb).forEach(((r,n,o)=>e.call(t,r,n,this)))}has(e){return hb.__privateGet.call(void 0,this,lb).has(e)}keys(){return hb.__privateGet.call(void 0,this,lb).keys()}values(){return hb.__privateGet.call(void 0,this,lb).values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map((e=>String(e))).join(", ")} `:""}}`}};lb=new WeakMap,Object.freeze(db),Object.freeze(db.prototype),Object.freeze(pb),Object.freeze(pb.prototype),ab.FrozenMap=db,ab.FrozenSet=pb,Object.defineProperty(Bf,"__esModule",{value:!0});var gb=Rf,yb=cd,bb=ld,mb=qg,vb=ly,wb=Oy,_b=Vy,Eb=qy,xb=Xy,Ab=If,Sb=kf,Tb=Of,Bb=Lf,Rb=ab;Bf.AssertionError=Sb.AssertionError,Bf.CAIP_ACCOUNT_ADDRESS_REGEX=wb.CAIP_ACCOUNT_ADDRESS_REGEX,Bf.CAIP_ACCOUNT_ID_REGEX=wb.CAIP_ACCOUNT_ID_REGEX,Bf.CAIP_CHAIN_ID_REGEX=wb.CAIP_CHAIN_ID_REGEX,Bf.CAIP_NAMESPACE_REGEX=wb.CAIP_NAMESPACE_REGEX,Bf.CAIP_REFERENCE_REGEX=wb.CAIP_REFERENCE_REGEX,Bf.CaipAccountAddressStruct=wb.CaipAccountAddressStruct,Bf.CaipAccountIdStruct=wb.CaipAccountIdStruct,Bf.CaipChainIdStruct=wb.CaipChainIdStruct,Bf.CaipNamespaceStruct=wb.CaipNamespaceStruct,Bf.CaipReferenceStruct=wb.CaipReferenceStruct,Bf.ChecksumStruct=_b.ChecksumStruct,Bf.Duration=yb.Duration,Bf.ESCAPE_CHARACTERS_REGEXP=Bb.ESCAPE_CHARACTERS_REGEXP,Bf.FrozenMap=Rb.FrozenMap,Bf.FrozenSet=Rb.FrozenSet,Bf.HexAddressStruct=Ab.HexAddressStruct,Bf.HexChecksumAddressStruct=Ab.HexChecksumAddressStruct,Bf.HexStruct=Ab.HexStruct,Bf.JsonRpcErrorStruct=mb.JsonRpcErrorStruct,Bf.JsonRpcFailureStruct=mb.JsonRpcFailureStruct,Bf.JsonRpcIdStruct=mb.JsonRpcIdStruct,Bf.JsonRpcNotificationStruct=mb.JsonRpcNotificationStruct,Bf.JsonRpcParamsStruct=mb.JsonRpcParamsStruct,Bf.JsonRpcRequestStruct=mb.JsonRpcRequestStruct,Bf.JsonRpcResponseStruct=mb.JsonRpcResponseStruct,Bf.JsonRpcSuccessStruct=mb.JsonRpcSuccessStruct,Bf.JsonRpcVersionStruct=mb.JsonRpcVersionStruct,Bf.JsonSize=Bb.JsonSize,Bf.JsonStruct=mb.JsonStruct,Bf.PendingJsonRpcResponseStruct=mb.PendingJsonRpcResponseStruct,Bf.StrictHexStruct=Ab.StrictHexStruct,Bf.UnsafeJsonStruct=mb.UnsafeJsonStruct,Bf.VersionRangeStruct=bb.VersionRangeStruct,Bf.VersionStruct=bb.VersionStruct,Bf.add0x=Ab.add0x,Bf.assert=Sb.assert,Bf.assertExhaustive=Sb.assertExhaustive,Bf.assertIsBytes=Ab.assertIsBytes,Bf.assertIsHexString=Ab.assertIsHexString,Bf.assertIsJsonRpcError=mb.assertIsJsonRpcError,Bf.assertIsJsonRpcFailure=mb.assertIsJsonRpcFailure,Bf.assertIsJsonRpcNotification=mb.assertIsJsonRpcNotification,Bf.assertIsJsonRpcRequest=mb.assertIsJsonRpcRequest,Bf.assertIsJsonRpcResponse=mb.assertIsJsonRpcResponse,Bf.assertIsJsonRpcSuccess=mb.assertIsJsonRpcSuccess,Bf.assertIsPendingJsonRpcResponse=mb.assertIsPendingJsonRpcResponse,Bf.assertIsSemVerRange=bb.assertIsSemVerRange,Bf.assertIsSemVerVersion=bb.assertIsSemVerVersion,Bf.assertIsStrictHexString=Ab.assertIsStrictHexString,Bf.assertStruct=Sb.assertStruct,Bf.base64=Eb.base64,Bf.base64ToBytes=Ab.base64ToBytes,Bf.bigIntToBytes=Ab.bigIntToBytes,Bf.bigIntToHex=gb.bigIntToHex,Bf.bytesToBase64=Ab.bytesToBase64,Bf.bytesToBigInt=Ab.bytesToBigInt,Bf.bytesToHex=Ab.bytesToHex,Bf.bytesToNumber=Ab.bytesToNumber,Bf.bytesToSignedBigInt=Ab.bytesToSignedBigInt,Bf.bytesToString=Ab.bytesToString,Bf.calculateNumberSize=Bb.calculateNumberSize,Bf.calculateStringSize=Bb.calculateStringSize,Bf.concatBytes=Ab.concatBytes,Bf.createBigInt=xb.createBigInt,Bf.createBytes=xb.createBytes,Bf.createDataView=Ab.createDataView,Bf.createHex=xb.createHex,Bf.createModuleLogger=vb.createModuleLogger,Bf.createNumber=xb.createNumber,Bf.createProjectLogger=vb.createProjectLogger,Bf.exactOptional=mb.exactOptional,Bf.getChecksumAddress=Ab.getChecksumAddress,Bf.getErrorMessage=Tb.getErrorMessage,Bf.getJsonRpcIdValidator=mb.getJsonRpcIdValidator,Bf.getJsonSize=mb.getJsonSize,Bf.getKnownPropertyNames=Bb.getKnownPropertyNames,Bf.getSafeJson=mb.getSafeJson,Bf.gtRange=bb.gtRange,Bf.gtVersion=bb.gtVersion,Bf.hasProperty=Bb.hasProperty,Bf.hexToBigInt=gb.hexToBigInt,Bf.hexToBytes=Ab.hexToBytes,Bf.hexToNumber=gb.hexToNumber,Bf.inMilliseconds=yb.inMilliseconds,Bf.isASCII=Bb.isASCII,Bf.isBytes=Ab.isBytes,Bf.isCaipAccountAddress=wb.isCaipAccountAddress,Bf.isCaipAccountId=wb.isCaipAccountId,Bf.isCaipChainId=wb.isCaipChainId,Bf.isCaipNamespace=wb.isCaipNamespace,Bf.isCaipReference=wb.isCaipReference,Bf.isErrorWithCode=Tb.isErrorWithCode,Bf.isErrorWithMessage=Tb.isErrorWithMessage,Bf.isErrorWithStack=Tb.isErrorWithStack,Bf.isHexString=Ab.isHexString,Bf.isJsonRpcError=mb.isJsonRpcError,Bf.isJsonRpcFailure=mb.isJsonRpcFailure,Bf.isJsonRpcNotification=mb.isJsonRpcNotification,Bf.isJsonRpcRequest=mb.isJsonRpcRequest,Bf.isJsonRpcResponse=mb.isJsonRpcResponse,Bf.isJsonRpcSuccess=mb.isJsonRpcSuccess,Bf.isNonEmptyArray=Bb.isNonEmptyArray,Bf.isNullOrUndefined=Bb.isNullOrUndefined,Bf.isObject=Bb.isObject,Bf.isPendingJsonRpcResponse=mb.isPendingJsonRpcResponse,Bf.isPlainObject=Bb.isPlainObject,Bf.isStrictHexString=Ab.isStrictHexString,Bf.isValidChecksumAddress=Ab.isValidChecksumAddress,Bf.isValidHexAddress=Ab.isValidHexAddress,Bf.isValidJson=mb.isValidJson,Bf.isValidSemVerRange=bb.isValidSemVerRange,Bf.isValidSemVerVersion=bb.isValidSemVerVersion,Bf.jsonrpc2=mb.jsonrpc2,Bf.numberToBytes=Ab.numberToBytes,Bf.numberToHex=gb.numberToHex,Bf.object=mb.object,Bf.parseCaipAccountId=wb.parseCaipAccountId,Bf.parseCaipChainId=wb.parseCaipChainId,Bf.remove0x=Ab.remove0x,Bf.satisfiesVersionRange=bb.satisfiesVersionRange,Bf.signedBigIntToBytes=Ab.signedBigIntToBytes,Bf.stringToBytes=Ab.stringToBytes,Bf.timeSince=yb.timeSince,Bf.valueToBytes=Ab.valueToBytes,Bf.wrapError=Tb.wrapError,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.normalize=Tf.recoverPublicKey=Tf.concatSig=Tf.legacyToBuffer=Tf.isNullish=Tf.padWithZeroes=void 0;const Ib=i,kb=Bf;function Ob(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}function Lb(e){return null==e}Tf.padWithZeroes=Ob,Tf.isNullish=Lb,Tf.legacyToBuffer=function(e){return"string"!=typeof e||(0,Ib.isHexString)(e)?(0,Ib.toBuffer)(e):E.from(e)},Tf.concatSig=function(e,t,r){const n=(0,Ib.fromSigned)(t),o=(0,Ib.fromSigned)(r),i=(0,Ib.bufferToInt)(e),s=Ob((0,Ib.toUnsigned)(n).toString("hex"),64),a=Ob((0,Ib.toUnsigned)(o).toString("hex"),64),c=(0,kb.remove0x)((0,kb.numberToHex)(i));return(0,kb.add0x)(s.concat(a,c))},Tf.recoverPublicKey=function(e,t){const r=(0,Ib.fromRpcSig)(t);return(0,Ib.ecrecover)(e,r.v,r.r,r.s)},Tf.normalize=function(e){if(!Lb(e)){if("number"==typeof e){if(e<0)return"0x";const t=(0,kb.numberToBytes)(e);e=(0,kb.bytesToHex)(t)}if("string"!=typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return(0,kb.add0x)(e.toLowerCase())}},Object.defineProperty(o,"__esModule",{value:!0}),o.extractPublicKey=o.recoverPersonalSignature=o.personalSign=void 0;const Cb=i,Pb=Tf;function Nb(e,t){const r=(0,Cb.hashPersonalMessage)((0,Pb.legacyToBuffer)(e));return(0,Pb.recoverPublicKey)(r,t)}o.personalSign=function({privateKey:e,data:t}){if((0,Pb.isNullish)(t))throw new Error("Missing data parameter");if((0,Pb.isNullish)(e))throw new Error("Missing privateKey parameter");const r=(0,Pb.legacyToBuffer)(t),n=(0,Cb.hashPersonalMessage)(r),o=(0,Cb.ecsign)(n,e);return(0,Pb.concatSig)((0,Cb.toBuffer)(o.v),o.r,o.s)},o.recoverPersonalSignature=function({data:e,signature:t}){if((0,Pb.isNullish)(e))throw new Error("Missing data parameter");if((0,Pb.isNullish)(t))throw new Error("Missing signature parameter");const r=Nb(e,t),n=(0,Cb.publicToAddress)(r);return(0,Cb.bufferToHex)(n)},o.extractPublicKey=function({data:e,signature:t}){if((0,Pb.isNullish)(e))throw new Error("Missing data parameter");if((0,Pb.isNullish)(t))throw new Error("Missing signature parameter");return`0x${Nb(e,t).toString("hex")}`};var Ub={},Mb={},$b={},jb={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParserError=e.getErrorStack=e.getErrorMessage=void 0;const t=Bf;e.getErrorMessage=e=>"string"==typeof e?e:e instanceof Error||(0,t.isObject)(e)&&(0,t.hasProperty)(e,"message")&&"string"==typeof e.message?e.message:"Unknown error.";e.getErrorStack=e=>{if(e instanceof Error)return e.stack};class r extends Error{constructor(t,r){super(t),this.name="ParserError";const n=(0,e.getErrorStack)(r);n&&(this.stack=n)}}e.ParserError=r}(jb);var Hb={},Db={};Object.defineProperty(Db,"__esModule",{value:!0}),Db.iterate=void 0;const Fb=Bf;Db.iterate=function*(e,t=32){for(let r=0;r<e.length;r+=t){const n=e=>{(0,Fb.assert)(e>=0,"Cannot skip a negative number of bytes."),(0,Fb.assert)(e%t==0,"Length must be a multiple of the size."),r+=e},o=e.subarray(r);yield{skip:n,value:o}}return{skip:()=>{},value:new Uint8Array}};var zb={},Vb={},qb={},Kb={};Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.padEnd=Kb.padStart=Kb.set=void 0;const Zb=Bf;Kb.set=(e,t,r)=>(0,Zb.concatBytes)([e.subarray(0,r),t,e.subarray(r+t.length)]);Kb.padStart=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Zb.concatBytes)([r,e])};Kb.padEnd=(e,t=32)=>{const r=new Uint8Array(Math.max(t-e.length,0)).fill(0);return(0,Zb.concatBytes)([e,r])},function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Kb,t)}(qb),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.address=e.getAddress=void 0;const t=Bf,r=jb,n=qb;e.getAddress=e=>{const o=(0,t.createBytes)(e);return(0,t.assert)(o.length<=20,new r.ParserError(`Invalid address value. Expected address to be 20 bytes long, but received ${o.length} bytes.`)),(0,n.padStart)(o,20)},e.address={isDynamic:!1,isType:e=>"address"===e,getByteLength:()=>32,encode({buffer:r,value:o,packed:i}){const s=(0,e.getAddress)(o);if(i)return(0,t.concatBytes)([r,s]);const a=(0,n.padStart)(s);return(0,t.concatBytes)([r,a])},decode:({value:e})=>(0,t.add0x)((0,t.bytesToHex)(e.slice(12,32)))}}(Vb);var Gb={},Wb={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fixedBytes=e.getByteLength=void 0;const t=Bf,r=jb,n=qb,o=/^bytes([0-9]{1,2})$/u;e.getByteLength=e=>{const n=e.match(o)?.[1];(0,t.assert)(n,`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`);const i=Number(n);return(0,t.assert)(i>0&&i<=32,new r.ParserError(`Invalid byte length. Expected a number between 1 and 32, but received "${e}".`)),i},e.fixedBytes={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:o,buffer:i,value:s,packed:a}){const c=(0,e.getByteLength)(o),u=(0,t.createBytes)(s);return(0,t.assert)(u.length<=c,new r.ParserError(`Expected a value of length ${c}, but received a value of length ${u.length}.`)),a?(0,t.concatBytes)([i,(0,n.padEnd)(u,c)]):(0,t.concatBytes)([i,(0,n.padEnd)(u)])},decode({type:t,value:r}){const n=(0,e.getByteLength)(t);return r.slice(0,n)}}}(Wb);var Jb,Yb,Xb={};function Qb(){return Jb||(Jb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tuple=e.getTupleElements=void 0;const t=Bf,r=jb,n=dm(),o=/^\((.+)\)$/u;e.getTupleElements=e=>{(0,t.assert)(e.startsWith("(")&&e.endsWith(")"),new r.ParserError(`Invalid tuple type. Expected tuple type, but received "${e}".`));const n=[];let o="",i=0;for(let t=1;t<e.length-1;t++){const r=e[t];","===r&&0===i?(n.push(o.trim()),o=""):(o+=r,"("===r?i+=1:")"===r&&(i-=1))}return o.trim()&&n.push(o.trim()),n},e.tuple={isDynamic:t=>(0,e.getTupleElements)(t).some((e=>{const t=(0,n.getParser)(e);return(0,n.isDynamicParser)(t,e)})),isType:e=>(e=>o.test(e))(e),getByteLength(t){if((0,n.isDynamicParser)(this,t))return 32;return(0,e.getTupleElements)(t).reduce(((e,t)=>e+(0,n.getParser)(t).getByteLength(t)),0)},encode({type:t,buffer:r,value:o,packed:i,tight:s}){const a=(0,e.getTupleElements)(t);return(0,n.pack)({types:a,values:o,byteArray:r,packed:i,tight:s})},decode({type:t,value:r,skip:o}){const i=(0,e.getTupleElements)(t);return o(this.getByteLength(t)-32),(0,n.unpack)(i,r)}}}(Xb)),Xb}var em={},tm={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.number=e.getBigInt=e.assertNumberLength=e.getLength=e.isSigned=void 0;const t=Bf,r=jb,n=qb,o=/^u?int(?<length>[0-9]*)?$/u;e.isSigned=e=>!e.startsWith("u");e.getLength=e=>{if("int"===e||"uint"===e)return 256;const n=e.match(o);(0,t.assert)(n?.groups?.length,new r.ParserError(`Invalid number type. Expected a number type, but received "${e}".`));const i=parseInt(n.groups.length,10);return(0,t.assert)(i>=8&&i<=256,new r.ParserError(`Invalid number length. Expected a number between 8 and 256, but received "${e}".`)),(0,t.assert)(i%8==0,new r.ParserError(`Invalid number length. Expected a multiple of 8, but received "${e}".`)),i};e.assertNumberLength=(n,o)=>{const i=(0,e.getLength)(o),s=BigInt(2)**BigInt(i-((0,e.isSigned)(o)?1:0))-BigInt(1);(0,e.isSigned)(o)?(0,t.assert)(n>=-(s+BigInt(1))&&n<=s,new r.ParserError(`Number "${n}" is out of range for type "${o}".`)):(0,t.assert)(n<=s,new r.ParserError(`Number "${n}" is out of range for type "${o}".`))};e.getBigInt=e=>{try{return(0,t.createBigInt)(e)}catch{throw new r.ParserError(`Invalid number. Expected a valid number value, but received "${e}".`)}},e.number={isDynamic:!1,isType:e=>o.test(e),getByteLength:()=>32,encode({type:r,buffer:o,value:i,packed:s}){const a=(0,e.getBigInt)(i);if((0,e.assertNumberLength)(a,r),(0,e.isSigned)(r)){if(s){const n=(0,e.getLength)(r)/8;return(0,t.concatBytes)([o,(0,t.signedBigIntToBytes)(a,n)])}return(0,t.concatBytes)([o,(0,n.padStart)((0,t.signedBigIntToBytes)(a,32))])}if(s){const i=(0,e.getLength)(r)/8;return(0,t.concatBytes)([o,(0,n.padStart)((0,t.bigIntToBytes)(a),i)])}return(0,t.concatBytes)([o,(0,n.padStart)((0,t.bigIntToBytes)(a))])},decode({type:r,value:n}){const o=n.subarray(0,32);if((0,e.isSigned)(r)){const n=(0,t.bytesToSignedBigInt)(o);return(0,e.assertNumberLength)(n,r),n}const i=(0,t.bytesToBigInt)(o);return(0,e.assertNumberLength)(i,r),i}}}(tm),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bool=e.getBooleanValue=void 0;const t=Bf,r=xl,n=jb,o=tm,i=(0,r.coerce)((0,r.boolean)(),(0,r.union)([(0,r.literal)("true"),(0,r.literal)("false")]),(e=>"true"===e));e.getBooleanValue=e=>{try{return(0,r.create)(e,i)?BigInt(1):BigInt(0)}catch{throw new n.ParserError(`Invalid boolean value. Expected a boolean literal, or the string "true" or "false", but received "${e}".`)}},e.bool={isDynamic:!1,isType:e=>"bool"===e,getByteLength:()=>32,encode({buffer:r,value:n,packed:i,tight:s}){const a=(0,e.getBooleanValue)(n);return i?(0,t.concatBytes)([r,(0,t.bigIntToBytes)(a)]):o.number.encode({type:"uint256",buffer:r,value:a,packed:i,tight:s})},decode:e=>o.number.decode({...e,type:"uint256"})===BigInt(1)}}(em);var rm={};Object.defineProperty(rm,"__esModule",{value:!0}),rm.bytes=void 0;const nm=Bf,om=qb;rm.bytes={isDynamic:!0,isType:e=>"bytes"===e,getByteLength:()=>32,encode({buffer:e,value:t,packed:r}){const n=(0,nm.createBytes)(t);if(r)return(0,nm.concatBytes)([e,n]);const o=32*Math.ceil(n.byteLength/32);return(0,nm.concatBytes)([e,(0,om.padStart)((0,nm.numberToBytes)(n.byteLength)),(0,om.padEnd)(n,o)])},decode({value:e}){const t=e.subarray(0,32),r=(0,nm.bytesToNumber)(t);return e.slice(32,32+r)}};var im={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fn=e.getFunction=void 0;const t=Bf,r=xl,n=jb,o=Wb,i=(0,r.coerce)((0,r.object)({address:t.StrictHexStruct,selector:t.StrictHexStruct}),(0,r.union)([t.StrictHexStruct,(0,r.instance)(Uint8Array)]),(e=>{const r=(0,t.createBytes)(e);return(0,t.assert)(24===r.length,new n.ParserError(`Invalid Solidity function. Expected function to be 24 bytes long, but received ${r.length} bytes.`)),{address:(0,t.bytesToHex)(r.subarray(0,20)),selector:(0,t.bytesToHex)(r.subarray(20,24))}}));e.getFunction=e=>{const n=(0,r.create)(e,i);return(0,t.concatBytes)([(0,t.hexToBytes)(n.address),(0,t.hexToBytes)(n.selector)])},e.fn={isDynamic:!1,isType:e=>"function"===e,getByteLength:()=>32,encode({buffer:t,value:r,packed:n,tight:i}){const s=(0,e.getFunction)(r);return o.fixedBytes.encode({type:"bytes24",buffer:t,value:s,packed:n,tight:i})},decode:({value:e})=>({address:(0,t.bytesToHex)(e.slice(0,20)),selector:(0,t.bytesToHex)(e.slice(20,24))})}}(im);var sm={};Object.defineProperty(sm,"__esModule",{value:!0});var am={};Object.defineProperty(am,"__esModule",{value:!0}),am.string=void 0;const cm=Bf,um=rm;var fm,lm;function hm(){return fm||(fm=1,function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Vb,t),n((Yb||(Yb=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.array=e.getTupleType=e.getArrayType=e.isArrayType=void 0;const t=Bf,r=jb,n=dm(),o=qb,i=Wb,s=Qb(),a=/^(?<type>.*)\[(?<length>\d*?)\]$/u;e.isArrayType=e=>a.test(e),e.getArrayType=e=>{const n=e.match(a);return(0,t.assert)(n?.groups?.type,new r.ParserError(`Invalid array type. Expected an array type, but received "${e}".`)),[n.groups.type,n.groups.length?parseInt(n.groups.length,10):void 0]},e.getTupleType=(e,t)=>`(${new Array(t).fill(e).join(",")})`,e.array={isDynamic(t){const[r,o]=(0,e.getArrayType)(t);return void 0===o||(0,n.isDynamicParser)((0,n.getParser)(r),r)},isType:t=>(0,e.isArrayType)(t),getByteLength(o){(0,t.assert)((0,e.isArrayType)(o),new r.ParserError(`Expected an array type, but received "${o}".`));const[i,a]=(0,e.getArrayType)(o);return(0,n.isDynamicParser)(this,o)||void 0===a?32:s.tuple.getByteLength((0,e.getTupleType)(i,a))},encode({type:a,buffer:c,value:u,packed:f,tight:l}){const[h,d]=(0,e.getArrayType)(a);if((0,t.assert)(!f||!(0,e.isArrayType)(h),new r.ParserError("Cannot pack nested arrays.")),f&&(0,n.isDynamicParser)((0,n.getParser)(h),h))return(0,n.pack)({types:new Array(u.length).fill(h),values:u,byteArray:c,packed:f,arrayPacked:!0,tight:l});if(d)return(0,t.assert)(d===u.length,new r.ParserError(`Array length does not match type length. Expected a length of ${d}, but received ${u.length}.`)),s.tuple.encode({type:(0,e.getTupleType)(h,d),buffer:c,value:u,packed:i.fixedBytes.isType(h)&&l,tight:l});if(f)return(0,n.pack)({types:new Array(u.length).fill(h),values:u,byteArray:c,packed:i.fixedBytes.isType(h)&&l,arrayPacked:!0,tight:l});const p=(0,o.padStart)((0,t.numberToBytes)(u.length));return(0,n.pack)({types:new Array(u.length).fill(h),values:u,byteArray:(0,t.concatBytes)([c,p]),packed:f,tight:l})},decode({type:o,value:i,...a}){const[c,u]=(0,e.getArrayType)(o);if(u){const n=s.tuple.decode({type:(0,e.getTupleType)(c,u),value:i,...a});return(0,t.assert)(n.length===u,new r.ParserError(`Array length does not match type length. Expected a length of ${u}, but received ${n.length}.`)),n}const f=(0,t.bytesToNumber)(i.subarray(0,32));return(0,n.unpack)(new Array(f).fill(c),i.subarray(32))}}}(Gb)),Gb),t),n(em,t),n(rm,t),n(Wb,t),n(im,t),n(tm,t),n(sm,t),n(am,t),n(Qb(),t)}(zb)),zb}function dm(){return lm||(lm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpack=e.pack=e.isDynamicParser=e.getParser=void 0;const t=Bf,r=jb,n=Db,o=hm(),i=qb;e.getParser=e=>{const t={address:o.address,array:o.array,bool:o.bool,bytes:o.bytes,fixedBytes:o.fixedBytes,function:o.fn,number:o.number,string:o.string,tuple:o.tuple},n=t[e];if(n)return n;const i=Object.values(t).find((t=>t.isType(e)));if(i)return i;throw new r.ParserError(`The type "${e}" is not supported.`)};e.isDynamicParser=(e,t)=>{const{isDynamic:r}=e;return"function"==typeof r?r(t):r};e.pack=({types:n,values:o,packed:s=!1,tight:a=!1,arrayPacked:c=!1,byteArray:u=new Uint8Array})=>{(0,t.assert)(n.length===o.length,new r.ParserError(`The number of types (${n.length}) does not match the number of values (${o.length}).`));const{staticBuffer:f,dynamicBuffer:l,pointers:h}=n.reduce((({staticBuffer:r,dynamicBuffer:n,pointers:i},u,f)=>{const l=(0,e.getParser)(u),h=o[f];if(s||c||!(0,e.isDynamicParser)(l,u))return{staticBuffer:l.encode({buffer:r,value:h,type:u,packed:s,tight:a}),dynamicBuffer:n,pointers:i};return{staticBuffer:(0,t.concatBytes)([r,new Uint8Array(32)]),dynamicBuffer:l.encode({buffer:n,value:h,type:u,packed:s,tight:a}),pointers:[...i,{position:r.length,pointer:n.length}]}}),{staticBuffer:new Uint8Array,dynamicBuffer:new Uint8Array,pointers:[]});(0,t.assert)(!s&&!c||0===l.length,new r.ParserError("Invalid pack state."));const d=f.length,p=h.reduce(((e,{pointer:r,position:n})=>{const o=(0,i.padStart)((0,t.numberToBytes)(d+r));return(0,i.set)(e,o,n)}),f);return(0,t.concatBytes)([u,p,l])};e.unpack=(o,i)=>{const s=(0,n.iterate)(i);return o.map((n=>{const{value:{value:o,skip:a},done:c}=s.next();(0,t.assert)(!c,new r.ParserError(`The encoded value is invalid for the provided types. Reached end of buffer while attempting to parse "${n}".`));const u=(0,e.getParser)(n);if((0,e.isDynamicParser)(u,n)){const e=(0,t.bytesToNumber)(o.subarray(0,32)),r=i.subarray(e);return u.decode({type:n,value:r,skip:a})}return u.decode({type:n,value:o,skip:a})}))}}(Hb)),Hb}am.string={isDynamic:!0,isType:e=>"string"===e,getByteLength:()=>32,encode:({buffer:e,value:t,packed:r,tight:n})=>um.bytes.encode({type:"bytes",buffer:e,value:(0,cm.stringToBytes)(t),packed:r,tight:n}),decode:e=>(0,cm.bytesToString)(um.bytes.decode(e))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSingle=e.decode=e.encodePacked=e.encodeSingle=e.encode=void 0;const t=Bf,r=jb,n=dm();e.encode=(e,t,o,i)=>{try{return(0,n.pack)({types:e,values:t,packed:o,tight:i})}catch(e){if(e instanceof r.ParserError)throw new r.ParserError(`Unable to encode value: ${e.message}`,e);throw new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(e)}`,e)}};e.encodeSingle=(t,r)=>(0,e.encode)([t],[r]);e.encodePacked=(t,r,n)=>(0,e.encode)(t,r,!0,n);e.decode=(e,o)=>{const i=(0,t.createBytes)(o);try{return(0,n.unpack)(e,i)}catch(e){if(e instanceof r.ParserError)throw new r.ParserError(`Unable to decode value: ${e.message}`,e);throw new r.ParserError(`An unexpected error occurred: ${(0,r.getErrorMessage)(e)}`,e)}};e.decodeSingle=(n,o)=>{const i=(0,e.decode)([n],o);return(0,t.assert)(1===i.length,new r.ParserError("Decoded value array has unexpected length.")),i[0]}}($b);var pm={},gm={};Object.defineProperty(gm,"__esModule",{value:!0}),function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(gm,t)}(pm),function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n($b,t),n(jb,t),n(pm,t)}(Mb),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.recoverTypedSignature=e.signTypedData=e.typedSignatureHash=e.TypedDataUtils=e.TYPED_MESSAGE_SCHEMA=e.SignTypedDataVersion=void 0;const t=i,r=Mb,n=hm(),o=qb,s=Bf,a=Xt,c=Tf;var u;function f(e,t){if(!Object.keys(u).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function l(e,t){(0,s.assert)(null!==t,`Unable to encode value: Invalid number. Expected a valid number value, but received "${t}".`);const r=BigInt(t),o=(0,n.getLength)(e),i=BigInt(2)**BigInt(o)-BigInt(1);return(0,s.assert)(r>=-i&&r<=i,`Unable to encode value: Number "${t}" is out of range for type "${e}".`),r}function h(e){let t=BigInt(0);for(let r=0;r<e.length;r++){const n=BigInt(e.charCodeAt(r)-48);t*=BigInt(10),t+=n>=49?n-BigInt(49)+BigInt(10):n>=17?n-BigInt(17)+BigInt(10):n}return(0,o.padStart)((0,s.bigIntToBytes)(t),20)}function d(e,n,i,c,g){if(f(g,[u.V3,u.V4]),void 0!==e[i])return["bytes32",g===u.V4&&null==c?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,a.keccak256)(p(i,c,e,g)))];if("function"===i)throw new Error('Unsupported or invalid type: "function"');if(void 0===c)throw new Error(`missing value for field ${n} of type ${i}`);if("address"===i){if("number"==typeof c)return["address",(0,o.padStart)((0,s.numberToBytes)(c),20)];if((0,s.isStrictHexString)(c))return["address",(0,s.add0x)(c)];if("string"==typeof c)return["address",h(c).subarray(0,20)]}if("bool"===i)return["bool",Boolean(c)];if("bytes"===i)return"number"==typeof c?c=(0,s.numberToBytes)(c):(0,s.isStrictHexString)(c)||"0x"===c?c=(0,s.hexToBytes)(c):"string"==typeof c&&(c=(0,s.stringToBytes)(c)),["bytes32",(0,t.arrToBufArr)((0,a.keccak256)(c))];if(i.startsWith("bytes")&&"bytes"!==i&&!i.includes("["))return"number"==typeof c?c<0?["bytes32",new Uint8Array(32)]:["bytes32",(0,s.bigIntToBytes)(BigInt(c))]:(0,s.isStrictHexString)(c)?["bytes32",(0,s.hexToBytes)(c)]:["bytes32",c];if(i.startsWith("int")&&!i.includes("[")){const e=l(i,c);return e>=BigInt(0)?["uint256",e]:["int256",e]}if("string"===i)return c="number"==typeof c?(0,s.numberToBytes)(c):(0,s.stringToBytes)(null!=c?c:""),["bytes32",(0,t.arrToBufArr)((0,a.keccak256)(c))];if(i.endsWith("]")){if(g===u.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const o=i.slice(0,i.lastIndexOf("[")),s=c.map((t=>d(e,n,o,t,g)));return["bytes32",(0,t.arrToBufArr)((0,a.keccak256)((0,r.encode)(s.map((([e])=>e)),s.map((([,e])=>e)))))]}return[i,c]}function p(e,n,o,i){f(i,[u.V3,u.V4]);const s=["bytes32"],a=[m(e,o)];for(const t of o[e]){if(i===u.V3&&void 0===n[t.name])continue;const[e,r]=d(o,t.name,t.type,n[t.name],i);s.push(e),a.push(r)}return(0,t.arrToBufArr)((0,r.encode)(s,a))}function g(e,t){let r="";const n=y(e,t);n.delete(e);const o=[e,...Array.from(n).sort()];for(const e of o){if(!t[e])throw new Error(`No type definition specified: ${e}`);r+=`${e}(${t[e].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function y(e,t,r=new Set){if("string"!=typeof e)throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(e)}`);const n=e.match(/^\w*/u);if([e]=n,r.has(e)||void 0===t[e])return r;r.add(e);for(const n of t[e])y(n.type,t,r);return r}function b(e,r,n,o){f(o,[u.V3,u.V4]);const i=p(e,r,n,o),s=(0,a.keccak256)(i);return(0,t.arrToBufArr)(s)}function m(e,r){const n=(0,s.stringToBytes)(g(e,r));return(0,t.arrToBufArr)((0,a.keccak256)(n))}function v(t){const r={};for(const n in e.TYPED_MESSAGE_SCHEMA.properties)t[n]&&(r[n]=t[n]);return"types"in r&&(r.types=Object.assign({EIP712Domain:[]},r.types)),r}function w(e,t){f(t,[u.V3,u.V4]);const r=v(e),{domain:n}=r;return b("EIP712Domain",n,{EIP712Domain:r.types.EIP712Domain},t)}function _(e,t){if((0,n.isArrayType)(e)&&Array.isArray(t)){const[r]=(0,n.getArrayType)(e);return t.map((e=>_(r,e)))}if("address"===e){if("number"==typeof t)return(0,o.padStart)((0,s.numberToBytes)(t),20);if((0,s.isStrictHexString)(t))return(0,o.padStart)((0,s.hexToBytes)(t).subarray(0,20),20);if(t instanceof Uint8Array)return(0,o.padStart)(t.subarray(0,20),20)}if("bool"===e)return Boolean(t);if(e.startsWith("bytes")&&"bytes"!==e){const r=(0,n.getByteLength)(e);if("number"==typeof t)return t<0?new Uint8Array:(0,s.numberToBytes)(t).subarray(0,r);if((0,s.isStrictHexString)(t))return(0,s.hexToBytes)(t).subarray(0,r);if(t instanceof Uint8Array)return t.subarray(0,r)}if(e.startsWith("uint")&&"number"==typeof t)return Math.abs(t);if(e.startsWith("int")&&"number"==typeof t){const r=(0,n.getLength)(e);return BigInt.asIntN(r,BigInt(t))}return t}function E(e,t){return t.map((t=>{if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){const r=l(e,t);if(r>=BigInt(0))return(0,o.padStart)((0,s.bigIntToBytes)(r),32);const i=(0,n.getLength)(e),a=BigInt.asIntN(i,r);return(0,s.signedBigIntToBytes)(a,32)}return t}))}function x(e){const i=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!("length"in e)||!e.length)throw i;const u=e.map((({name:e,type:t,value:r})=>{if("address[]"===t)return{name:e,type:"bytes32[]",value:(i=r,i.map((e=>"number"==typeof e?(0,o.padStart)((0,s.numberToBytes)(e),32):(0,s.isStrictHexString)(e)?(0,o.padStart)((0,s.hexToBytes)(e).subarray(0,32),32):e instanceof Uint8Array?(0,o.padStart)(e.subarray(0,32),32):e)))};var i;if(t.startsWith("int")&&(0,n.isArrayType)(t)){const[o,i]=(0,n.getArrayType)(t);return{name:e,type:`bytes32[${null!=i?i:""}]`,value:E(o,r)}}return{name:e,type:t,value:_(t,r)}})),f=u.map((e=>"bytes"!==e.type?e.value:(0,c.legacyToBuffer)(e.value))),l=u.map((e=>{if("function"===e.type)throw new Error('Unsupported or invalid type: "function"');return e.type})),h=e.map((e=>{if(!e.name)throw i;return`${e.type} ${e.name}`}));return(0,t.arrToBufArr)((0,a.keccak256)((0,r.encodePacked)(["bytes32","bytes32"],[(0,a.keccak256)((0,r.encodePacked)(["string[]"],[h],!0)),(0,a.keccak256)((0,r.encodePacked)(l,f,!0))])))}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(u=e.SignTypedDataVersion||(e.SignTypedDataVersion={})),e.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},e.TypedDataUtils={encodeData:p,encodeType:g,findTypeDependencies:y,hashStruct:b,hashType:m,sanitizeData:v,eip712Hash:function(e,r){f(r,[u.V3,u.V4]);const n=v(e),o=[(0,s.hexToBytes)("1901")];return o.push(w(e,r)),"EIP712Domain"!==n.primaryType&&o.push(b(n.primaryType,n.message,n.types,r)),(0,t.arrToBufArr)((0,a.keccak256)((0,s.concatBytes)(o)))},eip712DomainHash:w},e.typedSignatureHash=function(e){const t=x(e);return(0,s.bytesToHex)(t)},e.signTypedData=function({privateKey:r,data:n,version:o}){if(f(o),(0,c.isNullish)(n))throw new Error("Missing data parameter");if((0,c.isNullish)(r))throw new Error("Missing private key parameter");const i=o===u.V1?x(n):e.TypedDataUtils.eip712Hash(n,o),a=(0,t.ecsign)(i,r);return(0,c.concatSig)((0,t.arrToBufArr)((0,s.bigIntToBytes)(a.v)),a.r,a.s)},e.recoverTypedSignature=function({data:r,signature:n,version:o}){if(f(o),(0,c.isNullish)(r))throw new Error("Missing data parameter");if((0,c.isNullish)(n))throw new Error("Missing signature parameter");const i=o===u.V1?x(r):e.TypedDataUtils.eip712Hash(r,o),a=(0,c.recoverPublicKey)(i,n),l=(0,t.publicToAddress)(a);return(0,s.bytesToHex)(l)}}(Ub);var ym,bm={},mm={exports:{}},vm=r(Object.freeze({__proto__:null,default:{}}));(function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var i=t(),s=t([1]),a=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function p(e,t,r,n,o){var i,s=0;for(i=0;i<o;i++)s|=e[t+i]^r[n+i];return(1&s-1>>>8)-1}function g(e,t,r,n){return p(e,t,r,n,16)}function y(e,t,r,n){return p(e,t,r,n,32)}function b(e,t,r,n){!function(e,t,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=i,E=s,x=a,A=c,S=u,T=f,B=l,R=h,I=d,k=p,O=g,L=y,C=b,P=m,N=v,U=w,M=0;M<20;M+=2)_^=(o=(C^=(o=(I^=(o=(S^=(o=_+C|0)<<7|o>>>25)+_|0)<<9|o>>>23)+S|0)<<13|o>>>19)+I|0)<<18|o>>>14,T^=(o=(E^=(o=(P^=(o=(k^=(o=T+E|0)<<7|o>>>25)+T|0)<<9|o>>>23)+k|0)<<13|o>>>19)+P|0)<<18|o>>>14,O^=(o=(B^=(o=(x^=(o=(N^=(o=O+B|0)<<7|o>>>25)+O|0)<<9|o>>>23)+N|0)<<13|o>>>19)+x|0)<<18|o>>>14,U^=(o=(L^=(o=(R^=(o=(A^=(o=U+L|0)<<7|o>>>25)+U|0)<<9|o>>>23)+A|0)<<13|o>>>19)+R|0)<<18|o>>>14,_^=(o=(A^=(o=(x^=(o=(E^=(o=_+A|0)<<7|o>>>25)+_|0)<<9|o>>>23)+E|0)<<13|o>>>19)+x|0)<<18|o>>>14,T^=(o=(S^=(o=(R^=(o=(B^=(o=T+S|0)<<7|o>>>25)+T|0)<<9|o>>>23)+B|0)<<13|o>>>19)+R|0)<<18|o>>>14,O^=(o=(k^=(o=(I^=(o=(L^=(o=O+k|0)<<7|o>>>25)+O|0)<<9|o>>>23)+L|0)<<13|o>>>19)+I|0)<<18|o>>>14,U^=(o=(N^=(o=(P^=(o=(C^=(o=U+N|0)<<7|o>>>25)+U|0)<<9|o>>>23)+C|0)<<13|o>>>19)+P|0)<<18|o>>>14;_=_+i|0,E=E+s|0,x=x+a|0,A=A+c|0,S=S+u|0,T=T+f|0,B=B+l|0,R=R+h|0,I=I+d|0,k=k+p|0,O=O+g|0,L=L+y|0,C=C+b|0,P=P+m|0,N=N+v|0,U=U+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=S>>>0&255,e[17]=S>>>8&255,e[18]=S>>>16&255,e[19]=S>>>24&255,e[20]=T>>>0&255,e[21]=T>>>8&255,e[22]=T>>>16&255,e[23]=T>>>24&255,e[24]=B>>>0&255,e[25]=B>>>8&255,e[26]=B>>>16&255,e[27]=B>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255,e[32]=I>>>0&255,e[33]=I>>>8&255,e[34]=I>>>16&255,e[35]=I>>>24&255,e[36]=k>>>0&255,e[37]=k>>>8&255,e[38]=k>>>16&255,e[39]=k>>>24&255,e[40]=O>>>0&255,e[41]=O>>>8&255,e[42]=O>>>16&255,e[43]=O>>>24&255,e[44]=L>>>0&255,e[45]=L>>>8&255,e[46]=L>>>16&255,e[47]=L>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=P>>>0&255,e[53]=P>>>8&255,e[54]=P>>>16&255,e[55]=P>>>24&255,e[56]=N>>>0&255,e[57]=N>>>8&255,e[58]=N>>>16&255,e[59]=N>>>24&255,e[60]=U>>>0&255,e[61]=U>>>8&255,e[62]=U>>>16&255,e[63]=U>>>24&255}(e,t,r,n)}function m(e,t,r,n){!function(e,t,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)i^=(o=(b^=(o=(d^=(o=(u^=(o=i+b|0)<<7|o>>>25)+i|0)<<9|o>>>23)+u|0)<<13|o>>>19)+d|0)<<18|o>>>14,f^=(o=(s^=(o=(m^=(o=(p^=(o=f+s|0)<<7|o>>>25)+f|0)<<9|o>>>23)+p|0)<<13|o>>>19)+m|0)<<18|o>>>14,g^=(o=(l^=(o=(a^=(o=(v^=(o=g+l|0)<<7|o>>>25)+g|0)<<9|o>>>23)+v|0)<<13|o>>>19)+a|0)<<18|o>>>14,w^=(o=(y^=(o=(h^=(o=(c^=(o=w+y|0)<<7|o>>>25)+w|0)<<9|o>>>23)+c|0)<<13|o>>>19)+h|0)<<18|o>>>14,i^=(o=(c^=(o=(a^=(o=(s^=(o=i+c|0)<<7|o>>>25)+i|0)<<9|o>>>23)+s|0)<<13|o>>>19)+a|0)<<18|o>>>14,f^=(o=(u^=(o=(h^=(o=(l^=(o=f+u|0)<<7|o>>>25)+f|0)<<9|o>>>23)+l|0)<<13|o>>>19)+h|0)<<18|o>>>14,g^=(o=(p^=(o=(d^=(o=(y^=(o=g+p|0)<<7|o>>>25)+g|0)<<9|o>>>23)+y|0)<<13|o>>>19)+d|0)<<18|o>>>14,w^=(o=(v^=(o=(m^=(o=(b^=(o=w+v|0)<<7|o>>>25)+w|0)<<9|o>>>23)+b|0)<<13|o>>>19)+m|0)<<18|o>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=f>>>0&255,e[5]=f>>>8&255,e[6]=f>>>16&255,e[7]=f>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,o,i,s){var a,c,u=new Uint8Array(16),f=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;o>=64;){for(b(f,u,s,v),c=0;c<64;c++)e[t+c]=r[n+c]^f[c];for(a=1,c=8;c<16;c++)a=a+(255&u[c])|0,u[c]=255&a,a>>>=8;o-=64,t+=64,n+=64}if(o>0)for(b(f,u,s,v),c=0;c<o;c++)e[t+c]=r[n+c]^f[c];return 0}function _(e,t,r,n,o){var i,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(b(c,a,o,v),s=0;s<64;s++)e[t+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&a[s])|0,a[s]=255&i,i>>>=8;r-=64,t+=64}if(r>0)for(b(c,a,o,v),s=0;s<r;s++)e[t+s]=c[s];return 0}function E(e,t,r,n,o){var i=new Uint8Array(32);m(i,n,o,v);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return _(e,t,r,s,i)}function x(e,t,r,n,o,i,s){var a=new Uint8Array(32);m(a,i,s,v);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return w(e,t,r,n,o,c,a)}var A=function(e){var t,r,n,o,i,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,r,n,o,i){var s=new A(i);return s.update(r,n,o),s.finish(e,t),0}function T(e,t,r,n,o,i){var s=new Uint8Array(16);return S(s,0,r,n,o,i),g(e,t,s,0)}function B(e,t,r,n,o){var i;if(r<32)return-1;for(x(e,0,t,0,r,n,o),S(e,16,e,32,r-32,e),i=0;i<16;i++)e[i]=0;return 0}function R(e,t,r,n,o){var i,s=new Uint8Array(32);if(r<32)return-1;if(E(s,0,32,n,o),0!==T(t,16,t,32,r-32,s))return-1;for(x(e,0,t,0,r,n,o),i=0;i<32;i++)e[i]=0;return 0}function I(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function k(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function O(e,t,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(e[i]^t[i]),e[i]^=n,t[i]^=n}function L(e,r){var n,o,i,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(k(a),k(a),k(a),o=0;o<2;o++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,O(a,s,1-i)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function C(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return L(r,e),L(n,t),y(r,0,n,0)}function P(e){var t=new Uint8Array(32);return L(t,e),1&t[0]}function N(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function U(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function M(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function $(e,t,r){var n,o,i=0,s=0,a=0,c=0,u=0,f=0,l=0,h=0,d=0,p=0,g=0,y=0,b=0,m=0,v=0,w=0,_=0,E=0,x=0,A=0,S=0,T=0,B=0,R=0,I=0,k=0,O=0,L=0,C=0,P=0,N=0,U=r[0],M=r[1],$=r[2],j=r[3],H=r[4],D=r[5],F=r[6],z=r[7],V=r[8],q=r[9],K=r[10],Z=r[11],G=r[12],W=r[13],J=r[14],Y=r[15];i+=(n=t[0])*U,s+=n*M,a+=n*$,c+=n*j,u+=n*H,f+=n*D,l+=n*F,h+=n*z,d+=n*V,p+=n*q,g+=n*K,y+=n*Z,b+=n*G,m+=n*W,v+=n*J,w+=n*Y,s+=(n=t[1])*U,a+=n*M,c+=n*$,u+=n*j,f+=n*H,l+=n*D,h+=n*F,d+=n*z,p+=n*V,g+=n*q,y+=n*K,b+=n*Z,m+=n*G,v+=n*W,w+=n*J,_+=n*Y,a+=(n=t[2])*U,c+=n*M,u+=n*$,f+=n*j,l+=n*H,h+=n*D,d+=n*F,p+=n*z,g+=n*V,y+=n*q,b+=n*K,m+=n*Z,v+=n*G,w+=n*W,_+=n*J,E+=n*Y,c+=(n=t[3])*U,u+=n*M,f+=n*$,l+=n*j,h+=n*H,d+=n*D,p+=n*F,g+=n*z,y+=n*V,b+=n*q,m+=n*K,v+=n*Z,w+=n*G,_+=n*W,E+=n*J,x+=n*Y,u+=(n=t[4])*U,f+=n*M,l+=n*$,h+=n*j,d+=n*H,p+=n*D,g+=n*F,y+=n*z,b+=n*V,m+=n*q,v+=n*K,w+=n*Z,_+=n*G,E+=n*W,x+=n*J,A+=n*Y,f+=(n=t[5])*U,l+=n*M,h+=n*$,d+=n*j,p+=n*H,g+=n*D,y+=n*F,b+=n*z,m+=n*V,v+=n*q,w+=n*K,_+=n*Z,E+=n*G,x+=n*W,A+=n*J,S+=n*Y,l+=(n=t[6])*U,h+=n*M,d+=n*$,p+=n*j,g+=n*H,y+=n*D,b+=n*F,m+=n*z,v+=n*V,w+=n*q,_+=n*K,E+=n*Z,x+=n*G,A+=n*W,S+=n*J,T+=n*Y,h+=(n=t[7])*U,d+=n*M,p+=n*$,g+=n*j,y+=n*H,b+=n*D,m+=n*F,v+=n*z,w+=n*V,_+=n*q,E+=n*K,x+=n*Z,A+=n*G,S+=n*W,T+=n*J,B+=n*Y,d+=(n=t[8])*U,p+=n*M,g+=n*$,y+=n*j,b+=n*H,m+=n*D,v+=n*F,w+=n*z,_+=n*V,E+=n*q,x+=n*K,A+=n*Z,S+=n*G,T+=n*W,B+=n*J,R+=n*Y,p+=(n=t[9])*U,g+=n*M,y+=n*$,b+=n*j,m+=n*H,v+=n*D,w+=n*F,_+=n*z,E+=n*V,x+=n*q,A+=n*K,S+=n*Z,T+=n*G,B+=n*W,R+=n*J,I+=n*Y,g+=(n=t[10])*U,y+=n*M,b+=n*$,m+=n*j,v+=n*H,w+=n*D,_+=n*F,E+=n*z,x+=n*V,A+=n*q,S+=n*K,T+=n*Z,B+=n*G,R+=n*W,I+=n*J,k+=n*Y,y+=(n=t[11])*U,b+=n*M,m+=n*$,v+=n*j,w+=n*H,_+=n*D,E+=n*F,x+=n*z,A+=n*V,S+=n*q,T+=n*K,B+=n*Z,R+=n*G,I+=n*W,k+=n*J,O+=n*Y,b+=(n=t[12])*U,m+=n*M,v+=n*$,w+=n*j,_+=n*H,E+=n*D,x+=n*F,A+=n*z,S+=n*V,T+=n*q,B+=n*K,R+=n*Z,I+=n*G,k+=n*W,O+=n*J,L+=n*Y,m+=(n=t[13])*U,v+=n*M,w+=n*$,_+=n*j,E+=n*H,x+=n*D,A+=n*F,S+=n*z,T+=n*V,B+=n*q,R+=n*K,I+=n*Z,k+=n*G,O+=n*W,L+=n*J,C+=n*Y,v+=(n=t[14])*U,w+=n*M,_+=n*$,E+=n*j,x+=n*H,A+=n*D,S+=n*F,T+=n*z,B+=n*V,R+=n*q,I+=n*K,k+=n*Z,O+=n*G,L+=n*W,C+=n*J,P+=n*Y,w+=(n=t[15])*U,s+=38*(E+=n*$),a+=38*(x+=n*j),c+=38*(A+=n*H),u+=38*(S+=n*D),f+=38*(T+=n*F),l+=38*(B+=n*z),h+=38*(R+=n*V),d+=38*(I+=n*q),p+=38*(k+=n*K),g+=38*(O+=n*Z),y+=38*(L+=n*G),b+=38*(C+=n*W),m+=38*(P+=n*J),v+=38*(N+=n*Y),i=(n=(i+=38*(_+=n*M))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),i=(n=(i+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(n/65536)),s=(n=s+o+65535)-65536*(o=Math.floor(n/65536)),a=(n=a+o+65535)-65536*(o=Math.floor(n/65536)),c=(n=c+o+65535)-65536*(o=Math.floor(n/65536)),u=(n=u+o+65535)-65536*(o=Math.floor(n/65536)),f=(n=f+o+65535)-65536*(o=Math.floor(n/65536)),l=(n=l+o+65535)-65536*(o=Math.floor(n/65536)),h=(n=h+o+65535)-65536*(o=Math.floor(n/65536)),d=(n=d+o+65535)-65536*(o=Math.floor(n/65536)),p=(n=p+o+65535)-65536*(o=Math.floor(n/65536)),g=(n=g+o+65535)-65536*(o=Math.floor(n/65536)),y=(n=y+o+65535)-65536*(o=Math.floor(n/65536)),b=(n=b+o+65535)-65536*(o=Math.floor(n/65536)),m=(n=m+o+65535)-65536*(o=Math.floor(n/65536)),v=(n=v+o+65535)-65536*(o=Math.floor(n/65536)),w=(n=w+o+65535)-65536*(o=Math.floor(n/65536)),i+=o-1+37*(o-1),e[0]=i,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=f,e[6]=l,e[7]=h,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=b,e[13]=m,e[14]=v,e[15]=w}function j(e,t){$(e,t,t)}function H(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=253;n>=0;n--)j(o,o),2!==n&&4!==n&&$(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function D(e,r){var n,o=t();for(n=0;n<16;n++)o[n]=r[n];for(n=250;n>=0;n--)j(o,o),1!==n&&$(o,o,r);for(n=0;n<16;n++)e[n]=o[n]}function F(e,r,n){var o,i,s=new Uint8Array(32),c=new Float64Array(80),u=t(),f=t(),l=t(),h=t(),d=t(),p=t();for(i=0;i<31;i++)s[i]=r[i];for(s[31]=127&r[31]|64,s[0]&=248,N(c,n),i=0;i<16;i++)f[i]=c[i],h[i]=u[i]=l[i]=0;for(u[0]=h[0]=1,i=254;i>=0;--i)O(u,f,o=s[i>>>3]>>>(7&i)&1),O(l,h,o),U(d,u,l),M(u,u,l),U(l,f,h),M(f,f,h),j(h,d),j(p,u),$(u,l,u),$(l,f,d),U(d,u,l),M(u,u,l),j(f,u),M(l,h,p),$(u,l,a),U(u,u,h),$(l,l,u),$(u,h,p),$(h,f,c),j(f,d),O(u,f,o),O(l,h,o);for(i=0;i<16;i++)c[i+16]=u[i],c[i+32]=l[i],c[i+48]=f[i],c[i+64]=h[i];var g=c.subarray(32),y=c.subarray(16);return H(g,g),$(y,y,g),L(e,y),0}function z(e,t){return F(e,t,o)}function V(e,t){return r(t,32),z(e,t)}function q(e,t,r){var o=new Uint8Array(32);return F(o,r,t),m(e,n,o,v)}A.prototype.blocks=function(e,t,r){for(var n,o,i,s,a,c,u,f,l,h,d,p,g,y,b,m,v,w,_,E=this.fin?0:2048,x=this.h[0],A=this.h[1],S=this.h[2],T=this.h[3],B=this.h[4],R=this.h[5],I=this.h[6],k=this.h[7],O=this.h[8],L=this.h[9],C=this.r[0],P=this.r[1],N=this.r[2],U=this.r[3],M=this.r[4],$=this.r[5],j=this.r[6],H=this.r[7],D=this.r[8],F=this.r[9];r>=16;)h=l=0,h+=(x+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*C,h+=(A+=8191&(n>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*F),h+=(S+=8191&(o>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*D),h+=(T+=8191&(i>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*H),l=(h+=(B+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*j))>>>13,h&=8191,h+=(R+=a>>>1&8191)*(5*$),h+=(I+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*M),h+=(k+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*U),h+=(O+=8191&(u>>>8|(f=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*N),d=l+=(h+=(L+=f>>>5|E)*(5*P))>>>13,d+=x*P,d+=A*C,d+=S*(5*F),d+=T*(5*D),l=(d+=B*(5*H))>>>13,d&=8191,d+=R*(5*j),d+=I*(5*$),d+=k*(5*M),d+=O*(5*U),l+=(d+=L*(5*N))>>>13,d&=8191,p=l,p+=x*N,p+=A*P,p+=S*C,p+=T*(5*F),l=(p+=B*(5*D))>>>13,p&=8191,p+=R*(5*H),p+=I*(5*j),p+=k*(5*$),p+=O*(5*M),g=l+=(p+=L*(5*U))>>>13,g+=x*U,g+=A*N,g+=S*P,g+=T*C,l=(g+=B*(5*F))>>>13,g&=8191,g+=R*(5*D),g+=I*(5*H),g+=k*(5*j),g+=O*(5*$),y=l+=(g+=L*(5*M))>>>13,y+=x*M,y+=A*U,y+=S*N,y+=T*P,l=(y+=B*C)>>>13,y&=8191,y+=R*(5*F),y+=I*(5*D),y+=k*(5*H),y+=O*(5*j),b=l+=(y+=L*(5*$))>>>13,b+=x*$,b+=A*M,b+=S*U,b+=T*N,l=(b+=B*P)>>>13,b&=8191,b+=R*C,b+=I*(5*F),b+=k*(5*D),b+=O*(5*H),m=l+=(b+=L*(5*j))>>>13,m+=x*j,m+=A*$,m+=S*M,m+=T*U,l=(m+=B*N)>>>13,m&=8191,m+=R*P,m+=I*C,m+=k*(5*F),m+=O*(5*D),v=l+=(m+=L*(5*H))>>>13,v+=x*H,v+=A*j,v+=S*$,v+=T*M,l=(v+=B*U)>>>13,v&=8191,v+=R*N,v+=I*P,v+=k*C,v+=O*(5*F),w=l+=(v+=L*(5*D))>>>13,w+=x*D,w+=A*H,w+=S*j,w+=T*$,l=(w+=B*M)>>>13,w&=8191,w+=R*U,w+=I*N,w+=k*P,w+=O*C,_=l+=(w+=L*(5*F))>>>13,_+=x*F,_+=A*D,_+=S*H,_+=T*j,l=(_+=B*$)>>>13,_&=8191,_+=R*M,_+=I*U,_+=k*N,_+=O*P,x=h=8191&(l=(l=((l+=(_+=L*C)>>>13)<<2)+l|0)+(h&=8191)|0),A=d+=l>>>=13,S=p&=8191,T=g&=8191,B=y&=8191,R=b&=8191,I=m&=8191,k=v&=8191,O=w&=8191,L=_&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=A,this.h[2]=S,this.h[3]=T,this.h[4]=B,this.h[5]=R,this.h[6]=I,this.h[7]=k,this.h[8]=O,this.h[9]=L},A.prototype.finish=function(e,t){var r,n,o,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+r,r=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,n=(1^r)-1,i=0;i<10;i++)s[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},A.prototype.update=function(e,t,r){var n,o;if(this.leftover){for((o=16-this.leftover)>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(e,t,o),t+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var K=B,Z=R,G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function W(e,t,r,n){for(var o,i,s,a,c,u,f,l,h,d,p,g,y,b,m,v,w,_,E,x,A,S,T,B,R,I,k=new Int32Array(16),O=new Int32Array(16),L=e[0],C=e[1],P=e[2],N=e[3],U=e[4],M=e[5],$=e[6],j=e[7],H=t[0],D=t[1],F=t[2],z=t[3],V=t[4],q=t[5],K=t[6],Z=t[7],W=0;n>=128;){for(E=0;E<16;E++)x=8*E+W,k[E]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],O[E]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(E=0;E<80;E++)if(o=L,i=C,s=P,a=N,c=U,u=M,f=$,h=H,d=D,p=F,g=z,y=V,b=q,m=K,T=65535&(S=Z),B=S>>>16,R=65535&(A=j),I=A>>>16,T+=65535&(S=(V>>>14|U<<18)^(V>>>18|U<<14)^(U>>>9|V<<23)),B+=S>>>16,R+=65535&(A=(U>>>14|V<<18)^(U>>>18|V<<14)^(V>>>9|U<<23)),I+=A>>>16,T+=65535&(S=V&q^~V&K),B+=S>>>16,R+=65535&(A=U&M^~U&$),I+=A>>>16,A=G[2*E],T+=65535&(S=G[2*E+1]),B+=S>>>16,R+=65535&A,I+=A>>>16,A=k[E%16],B+=(S=O[E%16])>>>16,R+=65535&A,I+=A>>>16,R+=(B+=(T+=65535&S)>>>16)>>>16,T=65535&(S=_=65535&T|B<<16),B=S>>>16,R=65535&(A=w=65535&R|(I+=R>>>16)<<16),I=A>>>16,T+=65535&(S=(H>>>28|L<<4)^(L>>>2|H<<30)^(L>>>7|H<<25)),B+=S>>>16,R+=65535&(A=(L>>>28|H<<4)^(H>>>2|L<<30)^(H>>>7|L<<25)),I+=A>>>16,B+=(S=H&D^H&F^D&F)>>>16,R+=65535&(A=L&C^L&P^C&P),I+=A>>>16,l=65535&(R+=(B+=(T+=65535&S)>>>16)>>>16)|(I+=R>>>16)<<16,v=65535&T|B<<16,T=65535&(S=g),B=S>>>16,R=65535&(A=a),I=A>>>16,B+=(S=_)>>>16,R+=65535&(A=w),I+=A>>>16,C=o,P=i,N=s,U=a=65535&(R+=(B+=(T+=65535&S)>>>16)>>>16)|(I+=R>>>16)<<16,M=c,$=u,j=f,L=l,D=h,F=d,z=p,V=g=65535&T|B<<16,q=y,K=b,Z=m,H=v,E%16==15)for(x=0;x<16;x++)A=k[x],T=65535&(S=O[x]),B=S>>>16,R=65535&A,I=A>>>16,A=k[(x+9)%16],T+=65535&(S=O[(x+9)%16]),B+=S>>>16,R+=65535&A,I+=A>>>16,w=k[(x+1)%16],T+=65535&(S=((_=O[(x+1)%16])>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25)),B+=S>>>16,R+=65535&(A=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7),I+=A>>>16,w=k[(x+14)%16],B+=(S=((_=O[(x+14)%16])>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26))>>>16,R+=65535&(A=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6),I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,k[x]=65535&R|I<<16,O[x]=65535&T|B<<16;T=65535&(S=H),B=S>>>16,R=65535&(A=L),I=A>>>16,A=e[0],B+=(S=t[0])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[0]=L=65535&R|I<<16,t[0]=H=65535&T|B<<16,T=65535&(S=D),B=S>>>16,R=65535&(A=C),I=A>>>16,A=e[1],B+=(S=t[1])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[1]=C=65535&R|I<<16,t[1]=D=65535&T|B<<16,T=65535&(S=F),B=S>>>16,R=65535&(A=P),I=A>>>16,A=e[2],B+=(S=t[2])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[2]=P=65535&R|I<<16,t[2]=F=65535&T|B<<16,T=65535&(S=z),B=S>>>16,R=65535&(A=N),I=A>>>16,A=e[3],B+=(S=t[3])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[3]=N=65535&R|I<<16,t[3]=z=65535&T|B<<16,T=65535&(S=V),B=S>>>16,R=65535&(A=U),I=A>>>16,A=e[4],B+=(S=t[4])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[4]=U=65535&R|I<<16,t[4]=V=65535&T|B<<16,T=65535&(S=q),B=S>>>16,R=65535&(A=M),I=A>>>16,A=e[5],B+=(S=t[5])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[5]=M=65535&R|I<<16,t[5]=q=65535&T|B<<16,T=65535&(S=K),B=S>>>16,R=65535&(A=$),I=A>>>16,A=e[6],B+=(S=t[6])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[6]=$=65535&R|I<<16,t[6]=K=65535&T|B<<16,T=65535&(S=Z),B=S>>>16,R=65535&(A=j),I=A>>>16,A=e[7],B+=(S=t[7])>>>16,R+=65535&A,I+=A>>>16,I+=(R+=(B+=(T+=65535&S)>>>16)>>>16)>>>16,e[7]=j=65535&R|I<<16,t[7]=Z=65535&T|B<<16,W+=128,n-=128}return n}function J(e,t,r){var n,o=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),a=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,W(o,i,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,d(s,r-8,a/536870912|0,a<<3),W(o,i,s,r),n=0;n<8;n++)d(e,8*n,o[n],i[n]);return 0}function Y(e,r){var n=t(),o=t(),i=t(),s=t(),a=t(),c=t(),f=t(),l=t(),h=t();M(n,e[1],e[0]),M(h,r[1],r[0]),$(n,n,h),U(o,e[0],e[1]),U(h,r[0],r[1]),$(o,o,h),$(i,e[3],r[3]),$(i,i,u),$(s,e[2],r[2]),U(s,s,s),M(a,o,n),M(c,s,i),U(f,s,i),U(l,o,n),$(e[0],a,c),$(e[1],l,f),$(e[2],f,c),$(e[3],a,l)}function X(e,t,r){var n;for(n=0;n<4;n++)O(e[n],t[n],r)}function Q(e,r){var n=t(),o=t(),i=t();H(i,r[2]),$(n,r[0],i),$(o,r[1],i),L(e,o),e[31]^=P(n)<<7}function ee(e,t,r){var n,o;for(I(e[0],i),I(e[1],s),I(e[2],s),I(e[3],i),o=255;o>=0;--o)X(e,t,n=r[o/8|0]>>(7&o)&1),Y(t,e),Y(e,e),X(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];I(n[0],f),I(n[1],l),I(n[2],s),$(n[3],f,l),ee(e,n,r)}function re(e,n,o){var i,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(o||r(n,32),J(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,te(a,s),Q(e,a),i=0;i<32;i++)n[i+32]=e[i];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)t[o]+=r-16*t[n]*ne[o-(n-32)],r=Math.floor((t[o]+128)/256),t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*ne[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*ne[o];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function ie(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function se(e,r,n,o){var i,s,a=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),f=new Float64Array(64),l=[t(),t(),t(),t()];J(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(i=0;i<n;i++)e[64+i]=r[i];for(i=0;i<32;i++)e[32+i]=a[32+i];for(J(u,e.subarray(32),n+32),ie(u),te(l,u),Q(e,l),i=32;i<64;i++)e[i]=o[i];for(J(c,e,n+64),ie(c),i=0;i<64;i++)f[i]=0;for(i=0;i<32;i++)f[i]=u[i];for(i=0;i<32;i++)for(s=0;s<32;s++)f[i+s]+=c[i]*a[s];return oe(e.subarray(32),f),h}function ae(e,r,n,o){var a,u=new Uint8Array(32),f=new Uint8Array(64),l=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),o=t(),a=t(),u=t(),f=t(),l=t(),d=t();return I(e[2],s),N(e[1],r),j(a,e[1]),$(u,a,c),M(a,a,e[2]),U(u,e[2],u),j(f,u),j(l,f),$(d,l,f),$(n,d,a),$(n,n,u),D(n,n),$(n,n,a),$(n,n,u),$(n,n,u),$(e[0],n,u),j(o,e[0]),$(o,o,u),C(o,a)&&$(e[0],e[0],h),j(o,e[0]),$(o,o,u),C(o,a)?-1:(P(e[0])===r[31]>>7&&M(e[0],i,e[0]),$(e[3],e[0],e[1]),0)}(d,o))return-1;for(a=0;a<n;a++)e[a]=r[a];for(a=0;a<32;a++)e[a+32]=o[a];if(J(f,e,n),ie(f),ee(l,d,f),te(d,r.subarray(32)),Y(l,d),Q(u,l),n-=64,y(r,0,u,0)){for(a=0;a<n;a++)e[a]=0;return-1}for(a=0;a<n;a++)e[a]=r[a+64];return n}var ce=16,ue=64,fe=32,le=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function de(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:x,crypto_stream:E,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:S,crypto_onetimeauth_verify:T,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:B,crypto_secretbox_open:R,crypto_scalarmult:F,crypto_scalarmult_base:z,crypto_box_beforenm:q,crypto_box_afternm:K,crypto_box:function(e,t,r,n,o,i){var s=new Uint8Array(32);return q(s,o,i),K(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,o,i){var s=new Uint8Array(32);return q(s,o,i),Z(e,t,r,n,s)},crypto_box_keypair:V,crypto_hash:J,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ae,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:fe,crypto_sign_SECRETKEYBYTES:le,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ne,pack25519:L,unpack25519:N,M:$,A:U,S:j,Z:M,pow2523:D,add:Y,set25519:I,modL:oe,scalarmult:ee,scalarbase:te},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,r){de(e,t,r),he(r,t);for(var n=new Uint8Array(32+e.length),o=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+32]=e[i];return B(o,n,n.length,t,r),o.subarray(ce)},e.secretbox.open=function(e,t,r){de(e,t,r),he(r,t);for(var n=new Uint8Array(ce+e.length),o=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+ce]=e[i];return n.length<32||0!==R(o,n,n.length,t,r)?null:o.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(de(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return F(r,e,t),r},e.scalarMult.base=function(e){if(de(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return z(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,o){var i=e.box.before(n,o);return e.secretbox(t,r,i)},e.box.before=function(e,t){de(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return q(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,o){var i=e.box.before(n,o);return e.secretbox.open(t,r,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(de(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(de(e,t),t.length!==le)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return se(r,e,e.length,t),r},e.sign.open=function(e,t){if(de(e,t),t.length!==fe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ae(r,e,e.length,t);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},e.sign.detached=function(t,r){for(var n=e.sign(t,r),o=new Uint8Array(ue),i=0;i<o.length;i++)o[i]=n[i];return o},e.sign.detached.verify=function(e,t,r){if(de(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==fe)throw new Error("bad public key size");var n,o=new Uint8Array(ue+e.length),i=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)o[n]=t[n];for(n=0;n<e.length;n++)o[n+ue]=e[n];return ae(i,o,o.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(fe),t=new Uint8Array(le);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(de(e),e.length!==le)throw new Error("bad secret key size");for(var t=new Uint8Array(fe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(de(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(fe),r=new Uint8Array(le),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=fe,e.sign.secretKeyLength=le,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){de(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return de(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,r){var n,o=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(o.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=o[n];pe(o)})):void 0!==Or&&(t=vm)&&t.randomBytes&&e.setPRNG((function(e,r){var n,o=t.randomBytes(r);for(n=0;n<r;n++)e[n]=o[n];pe(o)}))}()})((ym=mm).exports?ym.exports:self.nacl=self.nacl||{});var wm=mm.exports,_m={exports:{}};!function(t){var r,n;r=e,n=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==E.from?(e.encodeBase64=function(e){return E.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(E.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new E(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new E(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),o=new Uint8Array(n.length);for(r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o}),e},t.exports?t.exports=n():(r.nacl||(r.nacl={}),r.nacl.util=n())}(_m);var Em=_m.exports,xm=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Am=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Sm=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&xm(t,e,r);return Am(t,e),t};Object.defineProperty(bm,"__esModule",{value:!0}),bm.getEncryptionPublicKey=bm.decryptSafely=bm.decrypt=bm.encryptSafely=bm.encrypt=void 0;const Tm=Sm(wm),Bm=Sm(Em),Rm=Tf;function Im({publicKey:e,data:t,version:r}){if((0,Rm.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Rm.isNullish)(t))throw new Error("Missing data parameter");if((0,Rm.isNullish)(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!=typeof t)throw new Error("Message data must be given as a string");const r=Tm.box.keyPair();let n;try{n=Bm.decodeBase64(e)}catch(e){throw new Error("Bad public key")}const o=Bm.decodeUTF8(t),i=Tm.randomBytes(Tm.box.nonceLength),s=Tm.box(o,i,n,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Bm.encodeBase64(i),ephemPublicKey:Bm.encodeBase64(r.publicKey),ciphertext:Bm.encodeBase64(s)}}throw new Error("Encryption type/version not supported")}function km({encryptedData:e,privateKey:t}){if((0,Rm.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Rm.isNullish)(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const r=Om(t),n=Tm.box.keyPair.fromSecretKey(r).secretKey,o=Bm.decodeBase64(e.nonce),i=Bm.decodeBase64(e.ciphertext),s=Bm.decodeBase64(e.ephemPublicKey),a=Tm.box.open(i,o,s,n);try{if(!a)throw new Error;const e=Bm.encodeUTF8(a);if(!e)throw new Error;return e}catch(e){if(e&&"string"==typeof e.message&&e.message.length)throw new Error(`Decryption failed: ${e.message}`);throw new Error("Decryption failed.")}}throw new Error("Encryption type/version not supported.")}function Om(e){const t=E.from(e,"hex").toString("base64");return Bm.decodeBase64(t)}return bm.encrypt=Im,bm.encryptSafely=function({publicKey:e,data:t,version:r}){if((0,Rm.isNullish)(e))throw new Error("Missing publicKey parameter");if((0,Rm.isNullish)(t))throw new Error("Missing data parameter");if((0,Rm.isNullish)(r))throw new Error("Missing version parameter");if("object"==typeof t&&t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const n={data:t,padding:""},o=E.byteLength(JSON.stringify(n),"utf-8")%2048;let i=0;return o>0&&(i=2048-o-16),n.padding="0".repeat(i),Im({publicKey:e,data:JSON.stringify(n),version:r})},bm.decrypt=km,bm.decryptSafely=function({encryptedData:e,privateKey:t}){if((0,Rm.isNullish)(e))throw new Error("Missing encryptedData parameter");if((0,Rm.isNullish)(t))throw new Error("Missing privateKey parameter");return JSON.parse(km({encryptedData:e,privateKey:t})).data},bm.getEncryptionPublicKey=function(e){const t=Om(e),r=Tm.box.keyPair.fromSecretKey(t).publicKey;return Bm.encodeBase64(r)},function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,n(o,t),n(Ub,t),n(bm,t);var i=Tf;Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return i.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return i.normalize}})}(n),t(n)}();
